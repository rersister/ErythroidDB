(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18b2a739"],{b89e:function(t,e,a){"use strict";a("dd66")},bee0:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[t._v("Single Cell Cluster's Difference analysis")]),a("div",[a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Data source: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cell source",filterable:""},on:{"on-change":t.changedDataSource}},t._l(t.data_source_list,(function(e,o){return a("i-option",{key:o,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1)],1),a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Contrast group: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"on-change":t.changedDiffChart}},t._l(t.group_type_list,(function(e,o){return a("i-option",{key:o,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1)],1)],1)],1),a("Row",[t.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("vue-plotly",{attrs:{autoResize:t.ifResize,data:t.enrichGO_data,layout:t.enrichGO_layout,options:t.enrichGO_options}})],1),a("Br")],1)])},r=[],s=(a("d3b7"),a("159b"),a("ddd7")),i=a("43e0"),n=a.n(i),l=a("6c9c"),u=(a("39b2"),{0:{value:">0.05",name:">0.05"},1:{value:"=<0.05",name:"=<0.05"}}),c={name:"sc_Diffanal",components:{VuePlotly:n.a,FilterTable:s["a"]},data:function(){return{series:this.$store.state.app.CurrentPageToken,ifResize:!0,spinShow1:"true",diff_data:[],diff_layout:{},contrasts_group:[],data_source_list:[],source:"",currentPage:1,pageSize:10,totalRow:400,diff_options:{responsive:!0},contrastsGroup:"",sourceGroup:"vivo",table_name:"all_rna_dev_bulk_vivo",diffData:[],diffCols:[{title:"Symbol",key:"SYMBOL",filter:{type:"Input"},fixed:"left"},{title:"logFC",key:"logFC",filter:{type:"Input"}},{title:"unshrunk.logFC",key:"unshrunk.logFC",filter:{type:"Input"}},{title:"logCPM",key:"logCPM",filter:{type:"Input"}},{title:"P.Value",key:"P.Value",filter:{type:"Select",option:u}}],group_type_list:[],group:"",enrichGO_data:[],enrichGO_layout:{},enrichGO_options:{responsive:!0}}},methods:{getDataSourceList:function(t){var e=this;Object(l["B"])(this.series).then((function(t){var a=e,o=t.data;console.log(o);var r=o;e.source=r[0].source_g,o.forEach((function(t){console.log(t.source_g),a.data_source_list.push({name:t.source_g})})),alert(a.data_source_list)}))},changedDiffChart:function(t){console.log(t),this.group=t,alert(this.series),alert(this.source),alert(this.group),this.getdiffEnrich_chart(this.series,this.source,t)},changedDataSource:function(t){this.source=t,this.getContrastGroup(this.series,t)},getContrastGroup:function(){var t=this;Object(l["getClusterContrastGroup"])(this.series,this.source).then((function(e){var a=e.data;console.log(a);a.forEach((function(e){return t.group_type_list.push({name:e})}))}))},getdiffEnrich_chart:function(){var t=this,e=this;e.spinShow1=!0,Object(l["t"])(this.series,this.source,this.group).then((function(a){var o=a.data,r=o.xData,s=o.yData,i=o.nData;o.tData;t.enrichGO_data=[];for(var n=0;n<r.length;n++){var l={x:r[n],y:s[n],name:i[n],type:"bar",orientation:"h"};t.enrichGO_data.push(l)}var u={title:"the GO("+t.sourceGroup+") enrichment of "+t.contrastsGroup,xaxis:{title:"-log10(p.adjust)"},yaxis:{title:{text:"GO Term [-log10(p.adjust)]",position:"top",standoff:40,yanchor:"top"},automargin:!0,rangemode:"normal",dtick:1,exponentformat:function(t){return t.length>30?t.substring(0,30)+"...":t}},margin:{l:650}};t.enrichGO_layout=u,e.spinShow1=!1}))}},mounted:function(){this.getDataSourceList(this.series)}},h=c,p=(a("b89e"),a("2877")),f=Object(p["a"])(h,o,r,!1,null,null,null);e["default"]=f.exports},dd66:function(t,e,a){}}]);