(function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},o={app:0},r=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-1672e7c0":"de087bc5","chunk-18b2a739":"bf53e4fb","chunk-3597c03e":"bc26ece6","chunk-4008d2ab":"f345b92b","chunk-4f77631d":"f6ce1da8","chunk-52ac63c7":"d1895f74","chunk-66897bfd":"fbfc78f6","chunk-6db1323e":"cbc3243b","chunk-82458e12":"5105b4ff","chunk-9098ce2e":"210c0253","chunk-af427002":"8baaa0a9","chunk-b4130ba2":"2ff5378f","chunk-b8615a28":"1f93ee02","chunk-c587d42c":"3e4abf46"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-1672e7c0":1,"chunk-18b2a739":1,"chunk-3597c03e":1,"chunk-4008d2ab":1,"chunk-4f77631d":1,"chunk-52ac63c7":1,"chunk-66897bfd":1,"chunk-6db1323e":1,"chunk-82458e12":1,"chunk-9098ce2e":1,"chunk-af427002":1,"chunk-b4130ba2":1,"chunk-b8615a28":1,"chunk-c587d42c":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-1672e7c0":"bf92aef8","chunk-18b2a739":"fbf09132","chunk-3597c03e":"0dc416de","chunk-4008d2ab":"a5798f08","chunk-4f77631d":"413e50ef","chunk-52ac63c7":"aa24b23d","chunk-66897bfd":"a7843bc1","chunk-6db1323e":"45d13ce3","chunk-82458e12":"e2aa9ee6","chunk-9098ce2e":"0dc416de","chunk-af427002":"dc3aa7d9","chunk-b4130ba2":"1811a776","chunk-b8615a28":"67f6755b","chunk-c587d42c":"0dc416de"}[e]+".css",o=l.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var c=r[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===o))return t()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){c=h[s],u=c.getAttribute("data-href");if(u===n||u===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete i[e],p.parentNode.removeChild(p),a(r)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){i[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var h=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",h.name="ChunkLoadError",h.type=n,h.request=i,a[1](h)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/EryDB/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var p=u;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"02f5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"wrap"}},[a("div",{staticClass:"row viz_title",attrs:{id:"clustergram_title"}},[e._v(" Clustergrammer ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"clustergrammer_container",attrs:{id:"container-id-1"}},[a("div",{staticClass:"wait_message"},[e._v("Please wait ...")])])]),a("div",{staticClass:"row viz_description",attrs:{id:"clustergram_desc"}},[a("p",[e._v("Above is a clustergram/heatmap visualization of your input matrix. The rows and columns have been hierarchically clustered, using the Scipy library in Python, using cosine distance and average linkage. Red/blue cells in the matrix represent positive/negative values in your matrix. The visualization interactive (zoomable, reorderable, filterable) and shareable - the current URL is permanent and shareable.")])])])}],o=(a("d3b7"),a("25f0"),a("ddb9"),{name:"ClustGram",data:function(){return{spinShow1:!0,series:this.$store.state.app.CurrentPageToken}},methods:{make_clust:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){make_clust(e),this.spinShow1=!1}))},mounted:function(){var e=this.series+"_expreDiff_TPM_log2_view.json";this.make_clust(e)},watch:{$route:"getParams"}}),r=o,s=(a("7369"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},"080f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Intergrated Single Cell Visualization")]),a("br"),a("div",[a("Row",{attrs:{gutter:2}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"Plot Size: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedPlotSize}},e._l(e.plotSize_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"View by: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedViewMethod}},e._l(e.viewMethod_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"Visaul Method: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select view method",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedVisaulMethod}},e._l(e.VisaulMethod_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedSource}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Color by: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedGroup}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.getTsneShow}},[e._v("Show")])],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("Plotly",{attrs:{data:e.TSNE_data,layout:e.TSNE_layout,options:e.TSNE_options}})],1)],1),a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Feature Plot")]),a("br"),a("Row",{attrs:{gutter:4}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"Plot Size: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedPlotSize2}},e._l(e.plotSize_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup2}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Feature name: "}},[a("Input",{attrs:{search:"","enter-button":"Search",placeholder:"Please input gene symbol"},on:{"on-search":function(t){return e.getFeatureByName(t)}}})],1)],1)],1)],1),a("Row",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.Feature_data,layout:e.Feature_layout,options:e.Feature_options}})],1)],1)])},i=[],o=(a("d3b7"),a("159b"),a("43e0")),r=a.n(o),s=a("04d1"),l=a("6c9c"),c={name:"allScPlotTSNE",components:{VuePlotly:r.a,Plotly:s["Plotly"]},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{orga:"",sequ_type:"",table_name:"",spinShow1:"true",spinShow2:"true",sourceGroup:"",TSNE_data:[],TSNE_layout:{},contrasts_group:[],TSNE_options:{responsive:!0},Feature_data:[],Feature_layout:{},Feature_options:{responsive:!0},showByGroup:"",series:"",source:"",source2:"",if3D:"",VisaulMethod:"UMAP",group_type_list:[{id:"0",name:"orig.ident"},{id:"1",name:"celltype"},{id:"2",name:"Phase"}],group:"",data_source_list:[],data_source_listF:[],viewMethod_list:[{name:"2D"},{name:"3D"}],plotSize_list:[{name:"2"},{name:"4"},{name:"6"},{name:"8"},{name:"10"}],plotSize:"2",plotSize2:"2",VisaulMethod_list:[{name:"PCA"},{name:"tSNE"},{name:"UMAP"}],colnames:[],feature_name:""}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getFeatureByName:function(e){this.getFeaturePlot(this.table_name,this.source2,e)},getFeaturePlot:function(e,t,a){var n=this,i=this;i.spinShow2=!0,console.log(this.table_name),console.log(a),""!=t?Object(l["n"])(e,t,a).then((function(e){var a=e.data;console.log("getFeaturePlotData"),console.log(a);var o=a.featurename;n.searchVivoGene=o;var r=a.x_list,s=a.y_list,l=a.feature_list,c={mode:"markers",type:"scatter",y:s,x:r,marker:{size:2,color:l,colorscale:"Viridis",colorbar:{thickness:20}}};n.Feature_data.push(c);var u={title:n.searchVivoGene+" expression level in  erythroid differentiation(Organism:"+n.orga_name+";group:"+t+")",xaxis:{title:"UMAP 1"},yaxis:{title:"UMAP 2"},legend:{y:.5,yref:"paper",font:{family:"Arial, sans-serif",size:20,color:"grey"}}};n.Feature_layout=u,i.spinShow2=!1})):this.$Message.info("please select data source",10)},getTsneChart:function(e,t,a,n,i){var o=this,r=this;r.spinShow1=!0,console.log(this.table_name),Object(l["z"])(e,t,a,n,i).then((function(e){var a=e.data;console.log(a);var n=a.xData,i=a.yData,s=a.gData,l=a.signal;if("no"===l)return o.$Message.info("this visual is temporary not available,please try other visual method",50),void(r.spinShow1=!1);if("PCA"===o.VisaulMethod)var c="PC_1",u="PC_2",h="PC_3",p="PCA";if("UMAP"===o.VisaulMethod)c="UMAP_1",u="UMAP_2",h="UMAP_3",p="UMAP";if("tSNE"===o.VisaulMethod)c="tSNE_1",u="tSNE_2",h="tSNE_3",p="tSNE";if("3D"==o.if3D){for(var d=a.zData,m=[],g=0;g<n.length;g++){var f={x:n[g],y:i[g],z:d[g],mode:"markers",type:"scatter3d",name:s[g],marker:{size:o.plotSize}};m.push(f)}o.TSNE_data=m;var _={title:p+"\tPlot(Organism:"+o.orga_name+";group:"+t+")",scene:{xaxis:{title:c},yaxis:{title:u},zaxis:{title:h}},margin:{l:50,r:50,b:50,t:50}};o.TSNE_layout=_,r.spinShow1=!1}else{var v=[];for(g=0;g<n.length;g++){f={x:n[g],y:i[g],mode:"markers",type:"scatter",name:s[g],marker:{size:o.plotSize}};v.push(f)}o.TSNE_data=v;_={title:p+"\tPlot(Organism:"+o.orga_name+";group:"+t+")",xaxis:{title:c},yaxis:{title:u}};o.TSNE_layout=_,r.spinShow1=!1}}))},getTsneCol:function(e,t){var a=this,n=this;Object(l["A"])(e,t).then((function(e){var t=e.data;console.log(t),n.colnames=t,a.group_type_list=[],t.forEach((function(e){return a.group_type_list.push({name:e})}))}))},changedSource:function(e){this.source=e},changedViewMethod:function(e){this.if3D=e},changedPlotSize:function(e){this.plotSize=e},changedPlotSize2:function(e){this.plotSize2=e},changedVisaulMethod:function(e){this.VisaulMethod=e},changedShowGroup2:function(e){this.source2=e},changedGroup:function(e){console.log(e),this.group=e},getTsneShow:function(){this.getTsneChart(this.table_name,this.source,this.group,this.if3D,this.VisaulMethod)},getDataSourceList:function(e){var t=this;Object(l["B"])(e).then((function(a){var n=t,i=a.data;console.log(),console.log(i);var o=i;i.forEach((function(e){n.data_source_list.push({name:e.source_g})})),i.forEach((function(e){"yes"===e.if_anal&&(console.log(e.source_g),n.data_source_listF.push({name:e.source_g}))})),t.getTsneChart(e,o[0].source_g,"phase","2D","UMAP"),t.getFeaturePlot(e,i[0].source_g,"needFind")}))}},mounted:function(){this.table_name;this.getDataSourceList(this.table_name)}},u=c,h=a("2877"),p=Object(h["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"08fe":function(e,t,a){"use strict";a("dcf6")},"098c":function(e,t,a){"use strict";a("2279")},"0d00":function(e,t,a){"use strict";a("efb2")},1:function(e,t){},"14d8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my_out"},[a("Header",[a("Col",{attrs:{span:"12"}},[a("br"),a("br"),a("br"),a("br"),e._v(" Input gene/tissue/dataset id/organism name: "),a("Input",{attrs:{search:"","enter-button":"Search",placeholder:e.search_placeholder},on:{"on-search":function(t){return e.searchDataSetByKeyName(t)}}})],1)],1),a("body",{staticClass:"my_body"},[a("div",{staticClass:"my_Row"},[a("div",{staticClass:"my_col"},[a("Br"),a("div",[a("h4",[e._v("Choose Cell Type:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cell type",filterable:""},on:{"on-change":e.changedCellType}},e._l(e.celltype_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.full_name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Reported Gene:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select reported gene",filterable:""},on:{"on-change":e.changedReportedGene}},e._l(e.reportedGene_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Compound Type:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select compound type",filterable:""},on:{"on-change":e.changedComppoundType}},e._l(e.compound_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Disease Type:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select disease type",filterable:""},on:{"on-change":e.changedDiseaseType}},e._l(e.disease_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Species:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select species",filterable:""},on:{"on-change":e.changedSpecies}},e._l(e.species_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Tissue:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select tissue",filterable:""},on:{"on-change":e.changedTissue}},e._l(e.tissue_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Experiment Type:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select experiment type",filterable:""},on:{"on-change":e.changedGrowthMode}},e._l(e.growth_mode_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Br"),a("div",[a("h4",[e._v("Choose Omics Type:")]),a("i-select",{attrs:{clearable:"",placeholder:"Pleace select sequence type",filterable:""},on:{"on-change":e.changedSequenceType}},e._l(e.sequenceType_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("div",{staticClass:"my_colRight"},[a("div",[a("Table",{staticClass:"my_hover",attrs:{stripe:"",data:e.datasetsTypeSource,columns:e.tAdatasetTypeSourceColumns},on:{"on-row-click":e.intoDataSet}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalTypeSource,current:e.currentPageTypeSource,"page-size":e.pageSizeTypeSource,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChangeTypeSource,"on-page-size-change":e.handleSizeChangeTypeSource}})],1)])],1)])])]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer_style"},[a("span",{staticClass:"my_footer"},[e._v(" Copyright ©2018-2019 Guangmin Zheng.©"),a("a",{attrs:{href:"http://sourcedb.big.cas.cn/zw/zjrc/yjy/201311/t20131116_3979427.html",target:"_blank",title:"北京基因组研究所方向东"}},[e._v("Fang's Lab.")]),e._v(" All Rights Reserved.")])])}],o=a("53ca"),r=a("5530"),s=(a("ac1f"),a("5319"),a("a18c")),l=(a("ddb9"),a("2f62")),c=a("64a5"),u=a("de34"),h=a("2644"),p=a("39b2"),d={0:{value:"1-10",name:"1-10"},1:{value:"10-20",name:"10-20"},2:{value:"20-30",name:"20-30"},3:{value:"30-50",name:"30-50"},4:{value:">50",name:">50"},5:{value:"all",name:"All"}},m={0:{value:"Homo",name:"Homo sapiens"},1:{value:"Mus",name:"Mus musculus"},2:{value:"Danio",name:"Danio rerio"},3:{value:"all",name:"All"}},g={0:{value:"Marrow",name:"Bone Marrow(BM)"},1:{value:"Cord",name:"Cord Blood(CB)"},2:{value:"Peripheral",name:"Peripheral Blood(PB)"},3:{value:"Spleen",name:"Spleen(SP)"},4:{value:"Cardiac",name:"Cardiac Puncture(CP)"},5:{value:"Line",name:"Cell Line"},6:{value:"Fetal",name:"Fetal Liver(FL)"},7:{value:"Embryonic",name:"Embryonic Stem Cells(ESC)"},8:{value:"Yolk",name:"Yolk Sac(YS)"},9:{value:"Pluripotent",name:"Induced Pluripotent Stem Cells(iPSC)"},10:{value:"all",name:"All"}},f={0:{value:"vitro",name:"vitro"},1:{value:"vivo",name:"vivo"},3:{value:"all",name:"All"}},_={0:{name:"Bulk RNA-seq",value:"Bulk"},1:{name:"scRNA-seq",value:"scRNA"},2:{value:"all",name:"All"}},v={name:"App",components:{HeaderBar:c["a"],Header:u["a"],FilterTableForAllDateSet:h["a"]},data:function(){return{values:[{id:1,name:"Home",link:"/",type:"ios-home"},{id:0,name:"Search",link:"/Search",type:"ios-search"},{id:2,name:"Erythroid Atlas",link:"/Erythroid Atlas",type:"ios-analytics"},{id:3,name:"Help",link:"/help",type:"ios-paper"},{id:4,name:"About",link:"/about",type:"ios-navigate"}],search:"",table_name:"all_dataset_source_type",pageSizeTypeSource:10,totalTypeSource:400,currentPage:1,currentPageTypeSource:1,current_index:-1,search_placeholder:"",datasetsTypeSource:[],tAdatasetTypeSourceColumns:[{title:"Dataset",key:"dataset_id",filter:{type:"Input"},fixed:"left"},{title:"Species",key:"organism",filter:{type:"Select",option:m}},{title:"Source",key:"source",filter:{type:"Select",option:g}},{title:"Experiment Type",key:"growth_mode",width:"120",filter:{type:"Select",option:f}},{title:"Title",key:"title",filter:{type:"Input"}},{title:"Omics Type",key:"sequence_type",width:"125",filter:{type:"Select",option:_}},{title:"Sample Number",key:"sample_number",width:"90",filter:{type:"Select",option:d}}],cell_type:"",celltype_list:[{name:"ESC",full_name:"Embryonic Stem Cells",cell_ano:"Embryonic stem cells are pluripotent cells isolated from the inner cell mass of a blastocyst, the early mammalian embryo that implants into the uterus. Embryonic stem cells self-renew by dividing and can differentiate into any specialised cell of the body, but not extra-embryonic tissues such as the placenta."},{name:"HSC",full_name:"Hematopoietic Stem cells",cell_ano:"Hematopoietic stem cells (HSCs) are a rare population of cells residing in the bone marrow (BM) and continuously replenish all mature blood cells throughout the life span."},{name:"MPP",full_name:"Multipotent Progenitor Cell",cell_ano:"Multipotent adult progenitor cells (MAPC) are an attractive choice for cytotherapy because they have a large proliferative potential, the ability to differentiate into different cell types and produce a variety of cytokines and growth factors important to wound healing. "},{name:"CMP",full_name:"Common Myeloid Progenitor",cell_ano:"Common myeloid progenitors give rise to either megakaryocyte/erythrocyte or granulocyte/macrophage progenitors. Purified progenitors were used to provide a first-pass expression profile of various haematopoiesis-related genes."},{name:"MEP",full_name:"Megakaryocyte-Erythroid Progenitor",cell_ano:"Megakaryocyte/erythroid progenitors (MEPs) are bipotent cells that undergo a fate decision to become either megakaryocytes (Mk) or erythroid (E) cells. Detailed mechanistic knowledge of the human MEP fate decision is not only critical for our understanding of normal and perturbed hematopoiesis, but also has important therapeutic implications."},{name:"BFU-E",full_name:"Burst-Forming Unit -Erythroid",cell_ano:"BFU-E Burst forming unit-erythroid, the earliest known erythroid precursor cell that eventually differentiates into erythrocytes. Produces a colony containing greater than 200 erythroblasts in a hematopoietic colony assay."},{name:"CFU-E",full_name:"Colony-Forming Unit – Erythroid",cell_ano:"A CFU-E cell, which has a lesser proliferative capacity than a BFU-E cell, requires the presence of erythropoietin as a stimulatory factor. "},{name:"ProE",full_name:"The Proerythroblast Stage",cell_ano:"The proerythroblast is a large cell with deep blue cytoplasm, high N:C ratio, and prominent nucleoli. Subsequent to proerythroblasts, nucleoli are no longer seen. "},{name:"BasoE",full_name:"Basophilic Erythroblast",cell_ano:"Basophilic erythroblast a nucleated precursor in the erythrocytic series, preceding the polychromatophilic erythroblast and following the proerythroblast; the cytoplasm is basophilic, the nucleus is large with clumped chromatin, and the nucleoli have disappeared. Called also basophilic normoblast."},{name:"PolyE",full_name:"Polychromatophilic Erythroblast",cell_ano:"The nucleus is intensely heterochromatic, and the cytoplasm is now a characteristic lilac color. The basophilia is due to the cytoplasmic ribosomes, and the acidophilia is due to the increase in the amount of hemoglobin being synthesized by the ribosomes. This is the last stage during which cell division occurs."},{name:"OrthoE",full_name:"Orthochromatic Erythroblast",cell_ano:"In an orthochromatic erythroblast, the nucleus has shrunk and become darker and the growing concentration of hemoglobin turns the cytoplasm pink. "},{name:"Retic",full_name:"Reticulocyte",cell_ano:"Reticulocytes are immature red blood cells that detect if your bone marrow is forming enough red blood cells"},{name:"RBC",full_name:"Red Blood Cell",cell_ano:"Red blood cell, also called erythrocyte, cellular component of blood, millions of which in the circulation of vertebrates give the blood its characteristic colour and carry oxygen from the lungs to the tissues. The mature human red blood cell is small, round, and biconcave; it appears dumbbell-shaped in profile. "}],reported_gene:"",reportedGene_list:[],compound_n:"",compound_list:[{name:"TRβ agonists",full_name:"Thyroid hormone receptor(TRβ)  agonists",cell_ano:""},{name:"ERBB inhibitors",full_name:"Epidermal growth factor receptor inhibitors",cell_ano:""},{name:"iron",full_name:"Iron",cell_ano:" "},{name:"IDH2 inhibitor",full_name:"Isocitrate dehydrogenase 2(IDH2) mutant-specific inhibitor",cell_ano:""},{name:"PPAR-α agonists",full_name:"Peroxisome proliferator-activated receptor α(PPAR-α) agonists",cell_ano:""},{name:"HbF inducers",full_name:"Heterogeneity of fetal hemoglobin (HbF) activation",cell_ano:""},{name:"erythropoietin",full_name:"Erythropoietin",cell_ano:""},{name:"corticosteroids",full_name:"Corticosteroids",cell_ano:""}],disease_n:"",disease_list:[{name:"Haemolysis",full_name:"Haemolysis",cell_ano:""},{name:"Diamond-Blackfan anaemia",full_name:"Diamond-Blackfan anaemia",cell_ano:""},{name:"Epo-resistant anaemias",full_name:"Epo-resistant anaemias",cell_ano:" "},{name:"Hemoglobinopathies",full_name:"Hemoglobinopathies",cell_ano:""}],species:"",species_list:[{value:"Homo",name:"Homo sapiens"},{value:"Mus",name:"Mus musculus"},{value:"Danio",name:"Danio rerio"}],tissue:"",tissue_list:[{value:"Marrow",name:"Bone Marrow(BM)"},{value:"Cord",name:"Cord Blood(CB)"},{value:"Peripheral",name:"Peripheral Blood(PB)"},{value:"Spleen",name:"Spleen(SP)"},{value:"Cardiac",name:"Cardiac Puncture(CP)"},{value:"Line",name:"Cell Line"},{value:"Fetal",name:"Embryonic Fetal Liver(EMFL)"},{value:"Embryo",name:"Embryo(EM)"},{value:"Yolk",name:"Embryonic Yolk Sac(EMYS)"},{value:"Caudal",name:"Embryonic Caudal Half(EMCH)"},{value:"Pluripotent",name:"Induced Pluripotent Stem Cells(iPSC)"}],growth_mode:"",growth_mode_list:[{value:"vitro",name:"vitro"},{value:"vivo",name:"vivo"}],development:"",development_list:[{value:"BM_vitro",name:"BM_vitro"},{value:"CL_vitro",name:"CL_vitro"},{value:"EMFL_vitro",name:"EMFL_vitro"},{value:"PB_vitro",name:"PB_vitro"},{value:"EM_vitro",name:"EM_vitro"},{value:"CB_vitro",name:"CB_vitro"},{value:"SP_vitro",name:"SP_vitro"},{value:"iPSC_vitro",name:"iPSC_vitro"},{value:"BM_vivo",name:"BM_vivo"},{value:"CB_vivo",name:"CB_vivo"},{value:"PB_vivo",name:"PB_vivo"},{value:"CP_vivo",name:"CP_vivo"},{value:"EMFL_vivo",name:"EMFL_vivo"},{value:"EM_vivo",name:"EM_vivo"},{value:"SP_vivo",name:"SP_vivo"},{value:"EMYS_vivo",name:"EMYS_vivo"},{value:"EMCH_vivo",name:"EMCH_vivo"}],sequence:"",sequenceType_list:[{name:"Bulk RNA-seq",value:"Bulk"},{name:"scRNA-seq",value:"scRNA"},{value:"all",name:"All"}]}},computed:{},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["setCurrentPageToken"])),{},{handleCurrentChangeTypeSource:function(e){var t=this;t.currentPageTypeSource=e,this.mockTableDataTypeSource()},handleSizeChangeTypeSource:function(e){var t=this;t.pageSizeTypeSource=e,this.mockTableDataTypeSource},intoDataSet:function(e,t,a){this.type||(this.setCurrentPageToken(e.dataset_id),s["a"].push({name:"Dataset_detail",params:{dataset:e.dataset_id}}))},searchItemByName:function(){},onSearch_datasetTypeSource:function(e){var t=this,a=this;for(var n in e){var i=e[n];if("object"===Object(o["a"])(i))return void this.$Message.info("Please check your input   ");if(0===i.replace(/\s*/g,"").length.length)return this.$Message.info("Please check your input of  "),void this.load()}searchDatasetTypeSource(e,a.currentPageTypeSource,a.pageSizeTypeSource,a.cell_name).then((function(e){a.spinShowTypeSource=!1;var n=e.data;0===n.signal?t.$Message.info("No related datasets",15):(a.datasetsTypeSource=n.list,a.totalTypeSource=n.total)}))},mockTableDataTypeSource:function(){var e=this;Object(p["h"])(e.table_name,e.currentPageTypeSource,e.pageSizeTypeSource).then((function(t){var a=t.data;e.datasetsTypeSource=a.list,e.totalTypeSource=a.total}))},mockTableDataByKeyParam:function(e){var t=this;Object(p["d"])(t.table_name,t.currentPageTypeSource,t.pageSizeTypeSource,e).then((function(e){var a=e.data;t.datasetsTypeSource=a.list,t.totalTypeSource=a.total}))},getDatasetByMultiInput:function(){var e=this,t=[];t.push({cell_type:this.cell_type,gene:this.reported_gene,molecules_type:this.compound_n,disease:this.disease_n,organism:this.species,source:this.tissue,growth_mode:this.growth_mode,development_type:this.development,sequence_type:this.sequence}),Object(p["e"])(e.table_name,e.currentPageTypeSource,e.pageSizeTypeSource,t).then((function(t){var a=t.data;e.datasetsTypeSource=a.list,e.totalTypeSource=a.total}))},changedCellType:function(e){var t=this;t.cell_type=e,this.getDatasetByMultiInput()},changedReportedGene:function(e){var t=this;t.reported_gene=e,this.getDatasetByMultiInput()},changedComppoundType:function(e){var t=this;t.compound_n=e,this.getDatasetByMultiInput()},changedDiseaseType:function(e){var t=this;t.disease_n=e,this.getDatasetByMultiInput()},changedSpecies:function(e){var t=this;t.species=e,this.getDatasetByMultiInput()},changedTissue:function(e){var t=this;t.tissue=e,this.getDatasetByMultiInput()},changedGrowthMode:function(e){var t=this;t.growth_mode=e,this.getDatasetByMultiInput()},changedDevelopmentType:function(e){var t=this;t.development=e,this.getDatasetByMultiInput()},changedSequenceType:function(e){var t=this;t.sequence=e,this.getDatasetByMultiInput()},getReportedGeneList:function(){var e=this;Object(p["f"])().then((function(t){var a=e,n=t.data,i=n.gData;a.reportedGene_list=i}))}}),watch:{$route:function(e){this.setBreadCrumb(e)}},created:function(){this.mockTableDataTypeSource(),this.getReportedGeneList()},mounted:function(){console.log("=============="),void 0!=this.$route.params.KeyName&&this.mockTableDataByKeyParam(this.$route.params.KeyName)}},y=v,b=(a("5a10"),a("2877")),C=Object(b["a"])(y,n,i,!1,null,null,null),S=C.exports;t["default"]=S},"17d0":function(e,t,a){},1866:function(e,t,a){},"18e3":function(e,t,a){"use strict";a("7c23")},"1a58":function(e,t,a){"use strict";a("bdae")},"1e2a":function(e,t,a){"use strict";a("c38e")},2279:function(e,t,a){},2395:function(e,t,a){},"23db":function(e,t,a){e.exports=a.p+"img/image-20220310215336566.c5bc895b.png"},2644:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{staticClass:"h1_title",attrs:{border:"",data:e.filters,columns:e.tableColumnsFilters,stripe:""}}),a("Table",{staticClass:"h1_title",attrs:{height:"500","show-header":!1,border:"",data:e.data,columns:e.columns,stripe:""},on:{"on-row-click":e.intoDataSet,"on-selection-change":e.onChange}})],1)},i=[],o=a("5530"),r=(a("4de4"),a("d3b7"),a("ac1f"),a("841c"),a("a15b"),a("1276"),a("d81d"),a("b0c0"),a("a18c")),s=(a("ddb9"),a("2f62")),l={name:"FilterTableForAllDateSet",props:{columns:Array,data:Array,type:{default:!1,type:Boolean}},data:function(){return{filters:[{title:""}],tableColumnsFilters:[],search:{},dataset_id:""}},created:function(){var e=this,t=function(t){var a={};e.$set(a,"title",e.columns[t].title),e.columns[t].width&&e.$set(a,"width",e.columns[t].width);var n=function(e){};e.columns[t].filter&&(n=e.columns[t].filter.type&&"Select"===e.columns[t].filter.type?function(a){return a(e.columns[t].filter.type,{props:{placeholder:"Choose "+e.columns[t].title,value:0},on:{"on-change":function(a){return 0===a?(e.$delete(e.search,e.columns[t].key),void e.load()):0===a.split(" ").join("").length?(e.$Message.info("Please check your input",15),void e.load()):(e.$set(e.search,e.columns[t].key,a.split(" ").join("")),void e.load())}}},e.createOptionsRender(t,a))}:function(a){var n={};return a(e.columns[t].filter.type,{props:{placeholder:"Input "+e.columns[t].title,icon:"ios-search"},on:{input:function(a){n=a,n||e.validInputValue(t,n)},"on-click":function(){e.validInputValue(t,n)},"on-enter":function(){e.validInputValue(t,n)}}})}),e.$set(a,"render",n),e.tableColumnsFilters.push(a)};for(var a in this.columns)t(a)},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["setCurrentPageToken"])),{},{onChange:function(e){var t=e.map((function(e){return e.dataset_id}));this.$emit("select",t)},createOptionsRender:function(e,t){var a=[];if(this.columns[e].filter.option){var n=this.columns[e].filter.option;for(var i in n)a.push(t("Option",{props:{value:n[i].value}},n[i].name))}return a},load:function(){this.$emit("on-search",this.search),this.$emit("on-row-click",this.dataset_id)},validInputValue:function(e,t){if(!t)return this.$delete(this.search,this.columns[e].key),void this.load();this.$set(this.search,this.columns[e].key,t),this.load()},intoDataSet:function(e,t,a){this.type||(this.setCurrentPageToken(e.dataset_id),r["a"].push({name:"Dataset_detail",params:{dataset:e.dataset_id}}))}})},c=l,u=(a("098c"),a("2877")),h=Object(u["a"])(c,n,i,!1,null,"3cea83f8",null);t["a"]=h.exports},2677:function(e,t,a){"use strict";a("2d28")},"26b7":function(e,t,a){"use strict";a("cc81")},"283c":function(e,t,a){"use strict";a("f45f")},"2b3f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("div",[a("h1",{staticClass:"my_h1"},[e._v("Expression Profile ("+e._s(e.orga_name)+")")]),a("Br"),a("Row",[a("Col",{attrs:{span:"12"}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Please choose source",clearable:"",filterable:""},on:{"on-change":function(t){return e.changeCellSource(t)}}},e._l(e.SourceList,(function(t){return a("i-option",{attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("Col",{attrs:{span:"12"}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Please input gene symbol",clearable:"",filterable:""},on:{"on-change":function(t){return e.changeGsymbol(t)}}},e._l(e.GeneList,(function(t){return a("i-option",{attrs:{value:t.value}},[e._v(e._s(t.label))])})),1),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.searchBygene(t)}}},[e._v("Search")])],1)],1),a("Br"),a("div",[a("Row",[a("vue-plotly",{attrs:{id:"vivoE_chart",autoResize:e.ifResize,data:e.vivo_data,layout:e.vivo_layout,options:e.vivo_options}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.ifShow,expression:"ifShow"}]},[a("Row",{directives:[{name:"show",rawName:"v-show",value:e.ifShow,expression:"ifShow"}]},[a("Col",{directives:[{name:"show",rawName:"v-show",value:e.ifShow,expression:"ifShow"}],attrs:{span:"12"}},[a("Input",{attrs:{search:"","enter-button":"Search",placeholder:"Please input gene symbol"},on:{"on-search":function(t){return e.searchVivtroBygene(t)}}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.ifShow,expression:"ifShow"}]},[a("vue-plotly",{directives:[{name:"show",rawName:"v-show",value:e.ifShow,expression:"ifShow"}],attrs:{autoResize:e.ifResize2,data:e.vitro_data,layout:e.vitro_layout,options:e.vitro_options}})],1)],1)])},i=[],o=(a("d3b7"),a("159b"),a("b0c0"),a("e6ca")),r=a("43e0"),s=a.n(r),l=[{value:"BM_vitro",name:"Bone Marrow(vitro)"},{value:"BM_vivo",name:"Bone Marrow(vivo)"},{value:"CB_vivo",name:"Cord Blood(vivo)"},{value:"CB_vitro",name:"Cord Blood(vitro)"},{value:"PB_vitro",name:"Peripheral Blood(vitro)"},{value:"FL_vitro",name:"Fetal Liver(vitro)"},{value:"FL_vivo",name:"Fetal Liver(vivo)"},{value:"PB_vivo",name:"Peripheral Blood(vivo)"},{value:"iPSC_vitro",name:"Induced Pluripotent Stem Cells(vitro)"}],c={name:"AllExpression",components:{VuePlotly:s.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{orga_name:"",ifShow:!1,ifResize:!0,ifResize2:!0,vitro_data:[],vivo_data:[],vivo_layout:{},vitro_layout:{},vivo_options:{responsive:!0},vitro_options:{responsive:!0},SourceList:[],GeneList:[],vitroSourceList:[{value:"BM_vitro",label:"BM (in vitro)"},{value:"CB_vitro",label:"CB (in vitro)"},{value:"FL_vitro",label:"FL (in vitro)"},{value:"ESC_vitro",label:"ESC (in vitro)"},{value:"PB_vitro",label:"PB (in vitro)"},{value:"vitro",label:"All (in vitro)"}],cell_source:"",vitro_source:"vitro",searchGene:"AATK",searchVitroGene:"AATK"}},watch:{selectList:{handler:function(e){console.log(e);var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,this.getAllDevType(t),this.getAllDevGene(t),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getAllDevType:function(e){var t=this,a=[];Object(o["c"])(e).then((function(e){var n=e.data;n.forEach((function(e){l.forEach((function(t){t.value==e&&a.push({value:e,label:t.name})}))})),t.SourceList=a,t.cell_source=n[0],t.searchGene="GATA1",t.searchBygene("GATA1")}))},getAllDevGene:function(e){var t=this,a=[];Object(o["b"])(e).then((function(e){var n=e.data;n.forEach((function(e){a.push({value:e,label:e})})),t.GeneList=a}))},getVitroExpreChart:function(){},getVivoExpreChart:function(e,t){},searchVivtroBygene:function(e){var t=this;this.searchVitroGene=e,""!=this.vitro_source?""!=e?Object(o["a"])(this.selectList[1],this.searchVitroGene).then((function(e){var a=e.data;if(console.log(e.data),0==a.signal)t.$Message.info("Please check your input(no such gene)",10),t.spinShow4=!1;else{t.vitro_data=[];for(var n=a.xData,i=a.yData,o=0;o<n.length;o++){var r={type:"box",y:i[o],name:n[o],boxpoints:"all",jitter:.5,whiskerwidth:.2,fillcolor:"cls",marker:{size:2},line:{width:1}};t.vitro_data.push(r)}t.searchVitroGene,t.cell_source;var s={title:t.searchGene+" expression level in  erythroid differentiation ("+t.selectList[1]+")",bargap:.25,yaxis:{autorange:!0,rangemode:"normal",showgrid:!0,zeroline:!0,gridcolor:"rgb(255, 255, 255)",gridwidth:1,zerolinecolor:"rgb(255, 255, 255)",zerolinewidth:2},margin:{l:40,r:30,b:80,t:100},paper_bgcolor:"rgb(243, 243, 243)",plot_bgcolor:"rgb(243, 243, 243)",showlegend:!1};t.vitro_layout=s}})):this.$Message.info("please input gene symbol",10):this.$Message.info("please select source",10)},changeGsymbol:function(e){this.searchGene=e},searchBygene:function(){var e=this;""!=this.cell_source?(""==this.searchGene&&this.$Message.info("please input gene symbol",10),Object(o["a"])(this.selectList[0],this.searchGene,this.cell_source).then((function(t){var a=t.data;if(console.log(t.data),0==a.signal)e.$Message.info("Please check your input(no such gene)",10),e.spinShow4=!1;else{e.vivo_data=[];for(var n=a.xData,i=a.yData,o=0;o<n.length;o++){var r={type:"box",y:i[o],name:n[o],boxpoints:"all",jitter:.5,whiskerwidth:.2,fillcolor:"cls",marker:{size:2},line:{width:1}};e.vivo_data.push(r)}var s="";l.forEach((function(t){t.value==e.cell_source&&(s=t.name)}));var c={title:e.searchGene+" expression level in  erythroid differentiation ("+s+")",bargap:.25,yaxis:{autorange:!0,rangemode:"normal",showgrid:!0,zeroline:!0,gridcolor:"rgb(255, 255, 255)",gridwidth:1,zerolinecolor:"rgb(255, 255, 255)",zerolinewidth:2,title:"Normalized Value"},xaxis:{title:"Group"},margin:{l:40,r:40,b:80,t:100},paper_bgcolor:"rgb(243, 243, 243)",plot_bgcolor:"rgb(243, 243, 243)",showlegend:!1};e.vivo_layout=c}}))):this.$Message.info("please select source",10)},searchSelect1:function(e,t){var a=this;Object(o["a"])(e,t).then((function(e){var t=e.data;if(console.log(e.data),0==t.signal)a.$Message.info("Please check your input(no such gene)",10),a.spinShow4=!1;else{a.vivo_data=[];for(var n=t.xData,i=t.yData,o=0;o<n.length;o++){var r={type:"box",y:i[o],name:n[o],boxpoints:"all",jitter:.5,whiskerwidth:.2,fillcolor:"cls",marker:{size:2},line:{width:1}};a.vivo_data.push(r)}var s={title:a.searchGene+" expression level in  erythroid differentiation ("+a.selectList[0]+")",bargap:.25,yaxis:{autorange:!0,rangemode:"normal",showgrid:!0,zeroline:!0,gridcolor:"rgb(255, 255, 255)",gridwidth:1,zerolinecolor:"rgb(255, 255, 255)",zerolinewidth:2},margin:{l:40,r:30,b:80,t:100},paper_bgcolor:"rgb(243, 243, 243)",plot_bgcolor:"rgb(243, 243, 243)",showlegend:!1};a.vivo_layout=s}}))},searchSelect2:function(e,t){var a=this;Object(o["a"])(e,t).then((function(e){var t=e.data;if(console.log(e.data),0==t.signal)a.$Message.info("Please check your input(no such gene)",10),a.spinShow4=!1;else{a.vitro_data=[];for(var n=t.xData,i=t.yData,o=0;o<n.length;o++){var r={type:"box",y:i[o],name:n[o],boxpoints:"all",jitter:.5,whiskerwidth:.2,fillcolor:"cls",marker:{size:2},line:{width:1}};a.vitro_data.push(r)}a.searchVitroGene,a.vitro_source;var s={title:a.searchGene+" expression level in  erythroid differentiation ("+a.selectList[1]+")",bargap:.25,yaxis:{autorange:!0,rangemode:"normal",showgrid:!0,zeroline:!0,gridcolor:"rgb(255, 255, 255)",gridwidth:1,zerolinecolor:"rgb(255, 255, 255)",zerolinewidth:2},margin:{l:40,r:30,b:80,t:100},paper_bgcolor:"rgb(243, 243, 243)",plot_bgcolor:"rgb(243, 243, 243)",showlegend:!1};a.vitro_layout=s}}))},changeCellSource:function(e){this.cell_source=e},changeVivtroCellSource:function(e){this.vitro_source=e},getrandom:function(e,t){for(var a=[],n=0;n<=e;n++){var i=Math.random()*t;a.push(i)}return a},gettpmE_chart:function(){for(var e=["MEP<br>","BFU-E<br>","CFU-E<br>","pro-E<br>","early<br>basophilic","late<br>basophilic","polychromatic<br>","orthochromatic<br>","reticulocyte<br>"],t=[this.$options.methods.getrandom(30,10),this.$options.methods.getrandom(30,20),this.$options.methods.getrandom(30,25),this.$options.methods.getrandom(30,40),this.$options.methods.getrandom(30,45),this.$options.methods.getrandom(30,30),this.$options.methods.getrandom(30,20),this.$options.methods.getrandom(30,15),this.$options.methods.getrandom(30,43)],a=0;a<e.length;a++){var n={type:"box",y:t[a],name:e[a],boxpoints:"all",jitter:.5,whiskerwidth:.2,fillcolor:"cls",marker:{size:2},line:{width:1}};this.tpmE_data.push(n)}var i={title:"AAGAB expression level in  erythroid differentiation (CB)",yaxis:{autorange:!0,showgrid:!0,zeroline:!0,dtick:5,gridcolor:"rgb(255, 255, 255)",gridwidth:1,zerolinecolor:"rgb(255, 255, 255)",zerolinewidth:2,title:"Normalized Value"},xaxis:{title:"Group"},margin:{l:40,r:30,b:80,t:100},paper_bgcolor:"rgb(243, 243, 243)",plot_bgcolor:"rgb(243, 243, 243)",showlegend:!1};this.tpmE_layout=i}},mounted:function(){},created:function(){}},u=c,h=(a("b39c"),a("2877")),p=Object(h["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"2d28":function(e,t,a){},"2f6b":function(e,t,a){"use strict";a("61c2")},"33eb":function(e,t,a){},3502:function(e,t,a){},3632:function(e,t,a){},3752:function(e,t,a){"use strict";a("c1e9")},"386b":function(e,t,a){},"39b2":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"m",(function(){return s})),a.d(t,"n",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"q",(function(){return u})),a.d(t,"o",(function(){return h})),a.d(t,"p",(function(){return p})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return m})),a.d(t,"k",(function(){return g})),a.d(t,"l",(function(){return f})),a.d(t,"f",(function(){return _})),a.d(t,"g",(function(){return v})),a.d(t,"r",(function(){return y})),a.d(t,"s",(function(){return b})),a.d(t,"e",(function(){return C})),a.d(t,"d",(function(){return S})),a.d(t,"t",(function(){return w}));var n=a("66df"),i=function(e,t,a){return n["a"].request({url:"public/getPageDataSets",data:{datasetName:e,pageIndex:t,pageSize:a},method:"post"})},o=function(e,t,a){return n["a"].request({url:"public/getPageDataSetsTypeSource",data:{table_name:e,pageIndex:t,pageSize:a},method:"post"})},r=function(e){return n["a"].request({url:"public/getDataTypeInfo",data:{type_name:e},method:"post"})},s=function(e,t,a,i){return n["a"].request({url:"public/getDiffPageDataset",data:{table_name:e,pageIndex:t,pageSize:a,contrastsGroup:i},method:"post"})},l=function(e,t,a,i,o){return n["a"].request({url:"public/getDiffPageDatasetByGene",data:{table_name:t,pageIndex:a,pageSize:i,contrastsGroup:o,gene:e},method:"post"})},c=function(){return n["a"].request({url:"public/getAllSampleCellNumber",data:{},method:"post"})},u=function(e,t,a){return n["a"].request({url:"public/getSampleGroupPageDataset",data:{series:e,pageIndex:t,pageSize:a},method:"post"})},h=function(e,t,a,i){return n["a"].request({url:"public/getSCDiffPageDataset",data:{table_name:e,pageIndex:t,pageSize:a,contrastsGroup:i},method:"post"})},p=function(e,t,a,i,o){return n["a"].request({url:"public/getSCDiffPageDatasetByGene",data:{gene:e,table_name:t,pageIndex:a,pageSize:i,contrastsGroup:o},method:"post"})},d=function(e,t,a){return n["a"].request({url:"public/getDatasetTypeSourceByCell",data:{cell_name:e,pageIndex:t,pageSize:a},method:"post"})},m=function(e,t,a){return n["a"].request({url:"public/getDatasetTypeSourceByCompundsType",data:{compunds_type:e,pageIndex:t,pageSize:a},method:"post"})},g=function(e,t,a){return n["a"].request({url:"public/getDatasetTypeSourceByDiseaseType",data:{disease_type:e,pageIndex:t,pageSize:a},method:"post"})},f=function(e,t,a){return n["a"].request({url:"public/getDatasetTypeSourceByGene",data:{gene:e,pageIndex:t,pageSize:a},method:"post"})},_=function(){return n["a"].request({url:"public/getDatasetGene",data:{},method:"post"})},v=function(){return n["a"].request({url:"public/getDatasetKeyWords",data:{},method:"post"})},y=function(e,t,a,i){return n["a"].request({url:"public/getPageDataSetsByParms",data:{datasetName:e,search:t,pageIndex:a,pageSize:i},method:"post"})},b=function(e,t,a,i){return n["a"].request({url:"public/getPageDataSetsTypeSourceByParms",data:{search:e,pageIndex:t,pageSize:a,cell_type:i},method:"post"})},C=function(e,t,a,i){return n["a"].request({url:"public/getDatasetDataByMultiInput",data:{table_name:e,pageIndex:t,pageSize:a,select:i},method:"post"})},S=function(e,t,a,i){return n["a"].request({url:"public/getPageDataSetByKeyParam",data:{table_name:e,pageIndex:t,pageSize:a,keyParam:i},method:"post"})},w=function(e,t,a,i,o){return n["a"].request({url:"public/getDiffDatasetByParms",data:{series:e,search:t,pageIndex:a,pageSize:i,contrastsGroup:o},method:"post"})}},"3a74":function(e,t,a){"use strict";a("3632")},"3ab9":function(e,t,a){"use strict";a("6da1")},"3fa5":function(e,t,a){"use strict";a("fd91")},4360:function(e,t,a){"use strict";var n=a("2b0e"),i=a("2f62"),o=a("c276"),r=(a("a18c"),a("ddb9")),s=a("f121"),l=s["a"].homeName,c={state:{breadCrumbList:[],homeRoute:{},local:Object(o["d"])("local"),CurrentPageToken:""},getters:{menuList:function(e,t,a){return getMenuByRouter(r["a"],a.user.access)}},mutations:{setBreadCrumb:function(e,t){e.breadCrumbList=Object(o["b"])(t,e.homeRoute)},setHomeRoute:function(e,t){e.homeRoute=Object(o["c"])(t,l)},setLocal:function(e,t){Object(o["e"])("local",t),e.local=t},setCurrentPageToken:function(e,t){Object(o["e"])("CurrentPageToken",t),e.CurrentPageToken=t}}};n["default"].use(i["a"]);t["a"]=new i["a"].Store({state:{},mutations:{},actions:{},modules:{app:c}})},"460d":function(e,t,a){},4644:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e.ifshowvis?a("Row",[a("Col",{attrs:{span:"4"}},[a("strong",[e._v("Visualize Site:")])]),a("Col",{attrs:{span:"20"}},[a("a",{attrs:{href:e.getVisHref()}},[e._v(e._s(e.visualize_site))])])],1):e._e(),e.ifshowAnalContent?a("div",{staticClass:"card"},[a("h3",{staticClass:"h3_title"},[e._v("Analyze Content:")]),e._l(e.AnalyzeTypeList,(function(t,n){return a("div",{key:n,staticClass:"anal_div"},[a("div",{on:{click:function(a){return e.changeDom(t.link)}}},[a("span",{staticClass:"servetitle"},[e._v(e._s(t.name))])])])}))],2):e._e()],1),"RNA_Expression"==e.childDom?a("Rna"):e._e(),"PCA"==e.childDom?a("PCA"):e._e(),"Diff_analysis"==e.childDom?a("DiffAnalysis"):e._e(),"EnrichGO"==e.childDom?a("EnrichGO"):e._e(),"scPlotTSNE"==e.childDom?a("scPlotTSNE"):e._e(),"ClusterMarker"==e.childDom?a("ClusterMarker"):e._e(),"sc_Diffanal"==e.childDom?a("sc_Diffanal"):e._e(),"ClusterDiffTrajectory"==e.childDom?a("ClusterDiffTrajectory"):e._e(),"ScInterraction"==e.childDom?a("ScInterraction"):e._e(),"ScCommunication"==e.childDom?a("ScCommunication"):e._e()],1)},i=[],o=(a("ac1f"),a("1276"),a("66df")),r=function(e){return o["a"].request({url:"public/getDatasetExperiType",data:{dataset_serid:e},method:"post"})},s=function(e){return o["a"].request({url:"public/getDatasetSequenceType",data:{dataset_serid:e},method:"post"})},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Expression Profile")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{"margin-top":"10px"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"h4_title"},[e._v("Input Gene Symbol:")]),a("Input",{attrs:{search:"","enter-button":"Search",placeholder:e.search_placeholder},on:{"on-search":function(t){return e.searchItemByName(t)}}})],1)],1),a("br"),a("Row",[a("Collapse",{staticClass:"h3_title",attrs:{simple:""},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},[a("Panel",{attrs:{name:"2"}},[a("span",{staticClass:"h4_title"},[e._v("Search Gene Symbol in:")]),a("p",{attrs:{slot:"content"},slot:"content"},e._l(e.othersearch_items,(function(t,n){return a("Button",{key:n,staticClass:"button_style",attrs:{label:t.name,type:"primary",icon:"ios-search"}},[a("a",{staticStyle:{color:"white"},attrs:{href:t.link,target:"_blank"}},[e._v(" "+e._s(t.name)+" ")])])})),1)])],1)],1),a("br"),a("Row",{staticClass:"code-row-bg",attrs:{justify:"center"}},[e.spinShow4?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.expreProfile_data,layout:e.expreProfile_layout,options:e.expreProfile_options}})],1)],1)])])},c=[],u=(a("841c"),a("6c9c")),h=a("43e0"),p=a.n(h),d={name:"RnaExpression",components:{VuePlotly:p.a},data:function(){return{search_placeholder:"",series:this.$store.state.app.CurrentPageToken,SpecifExpreOptionsByName:{},ifResize:!0,expreProfile_data:[],expreProfile_layout:{},expreProfile_options:{responsive:!0},spinShow4:"true",othersearch_items:[],search_datatype:"",experiment_type:"",value1:"1",itemInfo_Symbol:"",itemInfo_Ensembl_ID:"",itemInfo_Description:"",itemInfo_Alias:"",itemInfo_Summary:"",ShowitemInfoTip:!1,dataType:""}},methods:{getdatasetExperiType:function(){var e=this;console.log(this.$store.state.app.CurrentPageToken),r(this.$store.state.app.CurrentPageToken).then((function(t){var a=t.data;if(console.log(a),e.experiment_type=a.experiment_type,a.experiment_type.indexOf("Expression profiling")>-1){e.search_placeholder="AAGAB";var n="rna";e.dataType=n,e.search_datatype="RNA's symbol",e.searchItemInfoBydataname("rna","CD36"),e.specif_name="CD36",e.setOthersearchItems("rna"),e.getSpecifExpreOptionsByName(e.series,n,"CD36")}}))},searchItemByName:function(e){var t=this;t.ShowitemInfoTip=!1,this.specif_name=e,this.getSpecifExpreOptionsByName(this.series,this.dataType,e),this.searchItemInfoBydataname(this.dataType,e),this.setOthersearchItems(this.dataType)},getSpecifExpreOptionsByName:function(e,t,a){var n=this,i=this;void 0!=a&&null!=a||(a="CD36",this.specif_name=a);var o=i.dataType;Object(u["w"])(e,o,a).then((function(e){var t=e.data;if(0==t.signal)n.$Message.info(t.message,10),n.spinShow4=!1;else{n.expreProfile_data=[];var i=t.xData,o=t.yData;console.log("==="),console.log(o);for(var r=0;r<i.length;r++){var s={type:"box",y:o[r],name:i[r],boxpoints:"all",jitter:.5,whiskerwidth:.2,fillcolor:"cls",marker:{size:2},line:{width:1}};n.expreProfile_data.push(s)}var l={title:a+" Expression level in "+n.series+"( Source:"+t.source+";Growth Mode:"+t.growth_mode+")",yaxis:{autorange:!0,rangemode:"normal",showgrid:!0,zeroline:!0,gridcolor:"rgb(255, 255, 255)",gridwidth:1,zerolinecolor:"rgb(255, 255, 255)",zerolinewidth:2,title:"Normalized Value"},xaxis:{title:"Group"},margin:{l:40,r:30,b:80,t:100},paper_bgcolor:"rgb(243, 243, 243)",plot_bgcolor:"rgb(243, 243, 243)",showlegend:!1};n.expreProfile_layout=l,n.spinShow4=!1}}))},setOthersearchItems:function(e){var t=[],a=this;-1!=e.search("rna")&&t.push({name:"GeneCards",link:"http://www.genecards.org/cgi-bin/carddisp.pl?gene="+a.specif_name},{name:"NCBI",link:"https://www.ncbi.nlm.nih.gov/gene/?term="+a.specif_name},{name:"Ensembl",link:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g="+a.specif_name},{name:"EBI",link:"hhttp://www.ebi.ac.uk/gxa/query?geneQuery="+a.specif_name},{name:"OMIM",link:"https://omim.org/search/?search="+a.specif_name},{name:"COSMIC",link:"http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln="+a.specif_name},{name:"HPA",link:"http://www.proteinatlas.org/ENSG00000125148-MT2A/tissue"},{name:"DrugBank",link:"https://www.drugbank.ca/unearth/q?query="+a.specif_name+"&searcher=targets"}),-1!=e.search("miRNA")&&t.push({name:"GeneCards",link:"http://www.genecards.org/cgi-bin/carddisp.pl?gene="+a.specif_name},{name:"NCBI",link:"https://www.ncbi.nlm.nih.gov/gene/?term=ENSG00000125148"},{name:"Ensembl",link:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g="+a.specif_name},{name:"EBI",link:"hhttp://www.ebi.ac.uk/gxa/query?geneQuery="+a.specif_name},{name:"OMIM",link:"https://omim.org/search/?search="+a.specif_name},{name:"COSMIC",link:"http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln="+a.specif_name},{name:"HPA",link:"http://www.proteinatlas.org/ENSG00000125148-MT2A/tissue"},{name:"DrugBank",link:"https://www.drugbank.ca/unearth/q?query="+a.specif_name+"&searcher=targets"}),-1!=e.search("lncRNA")&&t.push({name:"GeneCards",link:"http://www.genecards.org/cgi-bin/carddisp.pl?gene="+a.specif_name},{name:"NCBI",link:"https://www.ncbi.nlm.nih.gov/gene/?term=ENSG00000125148"},{name:"Ensembl",link:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g="+a.specif_name},{name:"EBI",link:"hhttp://www.ebi.ac.uk/gxa/query?geneQuery="+a.specif_name},{name:"OMIM",link:"https://omim.org/search/?search="+a.specif_name},{name:"COSMIC",link:"http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln="+a.specif_name},{name:"HPA",link:"http://www.proteinatlas.org/ENSG00000125148-MT2A/tissue"},{name:"DrugBank",link:"https://www.drugbank.ca/unearth/q?query="+a.specif_name+"&searcher=targets"}),a.othersearch_items=[],a.othersearch_items=t},searchItemInfoBydataname:function(e,t){var a=this;void 0!=t&&null!=t||(t="CD36"),Object(u["o"])(e,t).then((function(e){var t=e.data;0==t.signal?(a.itemInfoTip=t.message,a.ShowitemInfoTip=!0):(a.itemInfo_Symbol=t.Symbol,a.itemInfo_Ensembl_ID=t.Ensembl_ID,a.itemInfo_Description=t.Description,a.itemInfo_Alias=t.Alias,a.itemInfo_Summary=t.Summary)}))}},mounted:function(){this.getdatasetExperiType()}},m=d,g=(a("08fe"),a("2877")),f=Object(g["a"])(m,l,c,!1,null,null,null),_=f.exports,v=a("4784"),y=a("924a"),b=a("b001"),C=a("02f5"),S=a("53b5"),w=a("f39f"),k=a("b02c"),x=a("e636"),P=a("9072"),T=a("a0ee"),D={name:"DatasetService",components:{Rna:_,PCA:v["default"],DiffAnalysis:y["default"],EnrichGO:b["default"],ClustGram:C["default"],scPlotTSNE:S["default"],ClusterMarker:w["default"],Diff_analysis:y["default"],sc_Diffanal:k["default"],ClusterDiffTrajectory:x["default"],ScInterraction:P["default"],ScCommunication:T["default"]},data:function(){return{ifshowvis:!1,showSubAnalContent:!1,SubAnalContent:"",ifshowAnalContent:!1,experiment_type:"",visualize_site:"",series:this.$store.state.app.CurrentPageToken,AnalyzeTypeList:[{name:"Expression Profile",link:"RNA_Expression"},{name:"Principal Components",link:"PCA"},{name:"Differential Analysis",link:"Diff_analysis"},{name:"Enrichment Analysis",link:"EnrichGO"}],childDom:""}},methods:{changeDom:function(e){this.childDom!==e?this.childDom=e:this.childDom=""},getVisHref:function(){return this.visualize_site},getDatasetSequenceType:function(){var e=this;console.log(this.$store.state.app.CurrentPageToken),s(this.$store.state.app.CurrentPageToken).then((function(t){var a=t.data;if(console.log("data:"),console.log(a),e.experiment_type=a.experiment_type,e.sequencing_type=a.sequencing_type,e.ifAnal=a.if_Anal,e.visualize_site=a.visualize_site,e.ifAnal.indexOf("yes")>-1)if(a.sequencing_type.indexOf("Single Cell")>-1)null!=a.visualize_site?e.ifshowvis=!0:(e.ifshowAnalContent=!0,e.AnalyzeTypeList=[{name:"Dimensional Reduction & Feature",link:"scPlotTSNE"},{name:"Markers & Enrich",link:"ClusterMarker"},{name:"Differential & Enrich",link:"sc_Diffanal"},{name:"Differentiation Trajectory",link:"ClusterDiffTrajectory"},{name:"Cell-Cell Interraction",link:"ScInterraction"},{name:"Cell-Cell Communication",link:"ScCommunication"}]);else{e.ifshowAnalContent=!0;a.experiment_type.split(",");a.experiment_type.indexOf("Expression profiling")>=0&&(a.sequencing_type.indexOf("Bulk")>=0?e.AnalyzeTypeList=[{name:"Expression Profile",link:"RNA_Expression"},{name:"Principal Components",link:"PCA"},{name:"Differential Analysis",link:"Diff_analysis"},{name:"Enrichment Analysis",link:"EnrichGO"}]:e.AnalyzeTypeList=[{name:"Difference analysis",link:"Diff_analysis"},{name:"Enrichment Analysis",link:"EnrichGO"},{name:"Single Cell t_SNE",link:"scPlotTSNE"},{name:"Single Cell Feature Plot",link:"FeaturePlot"}])}}))}},mounted:function(){this.getDatasetSequenceType()}},E=D,O=(a("1e2a"),Object(g["a"])(E,n,i,!1,null,null,null));t["default"]=O.exports},4784:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Principal Component Analysis(PCA)")]),a("Row",[e.spinShow3?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.sim_data,layout:e.sim_layout,options:e.sim_options}})],1)],1)},i=[],o=a("43e0"),r=a.n(o),s=a("6c9c"),l={name:"PCA",components:{VuePlotly:r.a},data:function(){return{series:this.$store.state.app.CurrentPageToken,spinShow3:"true",sim_data:[],sim_layout:{},sim_options:{responsive:!0},source:"",Dsource:"",Dgrowth_mode:""}},methods:{getsim_chart:function(e){var t=this,a=this;Object(s["D"])(this.series).then((function(e){var n=e.data;console.log(n),t.sim_data=n.data;var i={title:"PCA of "+t.series+"( Source:"+t.Dsource+";Growth Mode:"+t.Dgrowth_mode+")",xaxis:{title:"Dim 1"},yaxis:{title:"Dim 2"}};t.sim_layout=i,a.spinShow3=!1}))},getDatasetSourceInfo:function(e){var t=this;Object(s["h"])(this.series).then((function(e){var a=e.data;console.log(a),t.Dsource=a.source,t.Dgrowth_mode=a.growth_mode}))}},mounted:function(){this.getDatasetSourceInfo(this.series),this.getsim_chart(this.series)}},c=l,u=a("2877"),h=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=h.exports},"4f76":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Principal Components Analysis("+e._s(e.orga_name)+")")]),a("Br"),a("Row",[a("i-form",{attrs:{"label-width":100}},[a("Col",{attrs:{span:"12"}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Please choose source",clearable:"",filterable:""},on:{"on-change":function(t){return e.changeCellSource(t)}}},e._l(e.SourceList,(function(t){return a("i-option",{attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("Col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Color by: "}},[a("i-select",{staticStyle:{width:"70%"},attrs:{clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"on-change":function(t){return e.changedClustChart(t)}}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.getPCAByKey(t)}}},[e._v("Search")])],1)],1)],1)],1),a("Row",[a("div",[e.spinShow3?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.clusterbyifVivo_data,layout:e.clusterbyifVivo_layout,options:e.clusterbyifVivo_options}})],1)])],1)},i=[],o=(a("d3b7"),a("159b"),a("b0c0"),a("43e0")),r=a.n(o),s=a("e6ca"),l=[{value:"BM_vitro",name:"Bone Marrow(vitro)"},{value:"BM_vivo",name:"Bone Marrow(vivo)"},{value:"CB_vivo",name:"Cord Blood(vivo)"},{value:"CB_vitro",name:"Cord Blood(vitro)"},{value:"PB_vitro",name:"Peripheral Blood(vitro)"},{value:"FL_vitro",name:"Fetal Liver(vitro)"},{value:"FL_vivo",name:"Fetal Liver(vivo)"},{value:"PB_vivo",name:"Peripheral Blood(vivo)"},{value:"iPSC_vitro",name:"Induced Pluripotent Stem Cells(vitro)"}],c={name:"all_Cluster",components:{VuePlotly:r.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{orga_name:"",ifResize:!0,series:this.$store.state.app.CurrentPageToken,spinShow3:"true",spinShow2:"true",SourceList:[],spinShow1:"true",clusterbyifVivo_data:[],clusterbyifVivo_layout:{},clusterbyifVivo_options:{responsive:!0},clusterbyCellType_data:[],clusterbyCellType_layout:{},clusterbyCellType_options:{responsive:!0},clusterbySourceCell_data:[],clusterbySourceCell_layout:{},clusterbySourceCell_options:{responsive:!0},orga:this.$route.params.orga,sequ_type:this.$route.params.sequ_type,table_name:"all_hsrna_dev_cluster",colorby:"",cell_source:"",group_type_list:[{id:"1",name:"Cell type ",value:"cell_type"},{id:"2",name:"Experiment and cell type ",value:"group"}]}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,this.getAllDevType(t),this.getCluster_chart3(this.selectList,"cell_type","BM_vitro"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getAllDevType:function(e){var t=this,a=[];Object(s["c"])(e).then((function(e){var n=e.data;n.forEach((function(e){l.forEach((function(t){t.value==e&&a.push({value:e,label:t.name})}))})),t.SourceList=a}))},changeCellSource:function(e){this.cell_source=e},getPCAByKey:function(){this.getCluster_chart3(this.selectList,this.colorby,this.cell_source)},changedClustChart:function(e){var t=this;this.group_type_list.forEach((function(a){a.name==e&&(t.colorby=a.value)}))},getCluster_chart3:function(e,t,a){var n=this,i=this;Object(s["h"])(e[0],t,a).then((function(e){var t=e.data;console.log(t);var a=t.xData,o=t.yData,r=t.nData,s=t.tData;n.clusterbyifVivo_data=[];for(var c=0;c<a.length;c++){var u={x:a[c],y:o[c],mode:"markers",type:"scatter",name:r[c],text:s[c],marker:{size:15}};n.clusterbyifVivo_data.push(u)}var h="";l.forEach((function(e){e.value==n.cell_source&&(h=e.name)}));var p={title:"Principal Components Analysis("+n.orga_name+";"+h+")",xaxis:{title:"Leading logFC dim 1"},yaxis:{title:"Leading logFC dim 2",axisLabel:{interval:0,formatter:function(e){return e.length>30?e.substring(0,30)+"...":e}}}};n.clusterbyifVivo_layout=p,i.spinShow3=!1}))},getCluster_chart2:function(e){var t=this,a="cell_type",n=this;Object(s["h"])(this.table_name,a).then((function(e){var a=e.data;console.log(a);for(var i=a.xData,o=a.yData,r=a.nData,s=a.tData,l=0;l<i.length;l++){var c={x:i[l],y:o[l],mode:"markers",type:"scatter",name:r[l],text:s[l],marker:{size:15}};t.clusterbyCellType_data.push(c)}var u={title:"Principal Components Analysis(in {{selectList[0].deve}})",xaxis:{title:"Leading logFC dim 1"},yaxis:{title:"Leading logFC dim 2"}};t.clusterbyCellType_layout=u,n.spinShow2=!1}))},getCluster_chart1:function(e){var t=this,a="source_cell",n=this;Object(s["h"])(this.table_name,a).then((function(e){var a=e.data;console.log(a);for(var i=a.xData,o=a.yData,r=a.nData,s=a.tData,l=0;l<i.length;l++){var c={x:i[l],y:o[l],mode:"markers",type:"scatter",name:r[l],text:s[l],marker:{size:15}};t.clusterbySourceCell_data.push(c)}var u={title:"Principal Components Analysis(in {{selectList[0].deve}})",xaxis:{title:"Leading logFC dim 1"},yaxis:{title:"Leading logFC dim 2"}};t.clusterbySourceCell_layout=u,n.spinShow1=!1}))}},mounted:function(){this.sequ_type=this.$route.params.sequ_type,this.orga=this.$route.params.orga;this.orga,this.sequ_type;var e="cell_type";this.getCluster_chart3(this.selectList,e)}},u=c,h=(a("caee"),a("2877")),p=Object(h["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"53b5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Single cell visualization22")]),a("br"),a("div",[a("Row",{attrs:{gutter:2}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"Plot Size: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedPlotSize}},e._l(e.plotSize_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"View by: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedViewMethod}},e._l(e.viewMethod_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"Visaul Method: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select view method",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedVisaulMethod}},e._l(e.VisaulMethod_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedSource}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Color by: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedGroup}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.getTsneShow}},[e._v("Show")])],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("Plotly",{attrs:{data:e.TSNE_data,layout:e.TSNE_layout,options:e.TSNE_options}})],1)],1),a("div",[a("h1",{staticClass:"my_h1"},[e._v("Feature Plot")]),a("br"),a("Row",{attrs:{gutter:4}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"Plot Size: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Select",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedPlotSize2}},e._l(e.plotSize_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup2}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Feature name: "}},[a("Input",{attrs:{search:"","enter-button":"Search",placeholder:"Please input gene symbol"},on:{"on-search":function(t){return e.getFeatureByName(t)}}})],1)],1)],1)],1),a("Row",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.Feature_data,layout:e.Feature_layout,options:e.Feature_options}})],1)],1)])},i=[],o=(a("d3b7"),a("159b"),a("43e0")),r=a.n(o),s=a("04d1"),l=a("6c9c"),c={name:"scPlotTSNE",components:{VuePlotly:r.a,Plotly:s["Plotly"]},data:function(){return{spinShow1:"true",spinShow2:"true",TSNE_data:[],TSNE_layout:{},contrasts_group:[],TSNE_options:{responsive:!0},Feature_data:[],Feature_layout:{},Feature_options:{responsive:!0},showByGroup:"",series:this.$store.state.app.CurrentPageToken,source:"",source2:"",if3D:"",VisaulMethod:"UMAP",group_type_list:[{id:"0",name:"orig.ident"},{id:"1",name:"celltype"},{id:"2",name:"Phase"}],group:"",data_source_list:[],data_source_listF:[],viewMethod_list:[{name:"2D"},{name:"3D"}],plotSize_list:[{name:"2"},{name:"4"},{name:"6"},{name:"8"},{name:"10"}],plotSize:"2",plotSize2:"2",VisaulMethod_list:[{name:"PCA"},{name:"tSNE"},{name:"UMAP"}],colnames:[],feature_name:""}},methods:{getFeatureByName:function(e){var t=this;t.feature_name=e,this.getFeaturePlot(this.series,this.source2,e)},getFeaturePlot:function(e,t,a){var n=this,i=this;console.log(this.series),console.log(a),""!=t?""!=a?(i.spinShow2=!0,Object(l["n"])(e,t,a).then((function(e){var a=e.data;console.log("getFeaturePlotData"),console.log(a);var o=a.featurename;n.searchVivoGene=o;var r=a.x_list,s=a.y_list,l=a.feature_list,c=a.iftsne,u={mode:"markers",type:"scatter",y:s,x:r,marker:{size:2,color:l,colorscale:"Viridis",colorbar:{thickness:20}}};n.Feature_data.push(u);var h="UMAP 1",p="UMAP 2";!0===c&&(h="tSNE 1",p="tSNE 2");var d={title:n.searchVivoGene+" expression level in  erythroid differentiation ("+t+")",xaxis:{title:h},yaxis:{title:p},legend:{y:.5,yref:"paper",font:{family:"Arial, sans-serif",size:20,color:"grey"}}};n.Feature_layout=d,i.spinShow2=!1}))):this.$Message.info("please input gene symbol",10):this.$Message.info("please select data source",10)},getTsneChart:function(e,t,a,n,i){var o=this,r=this;r.spinShow1=!0,console.log(this.series),Object(l["z"])(e,t,a,n,i).then((function(e){var a=e.data;console.log(a);var n=a.xData,i=a.yData,s=a.gData,l=a.signal;if("no"===l)return o.$Message.info("this visual is temporary not available,please try other visual method",50),void(r.spinShow1=!1);if("PCA"===o.VisaulMethod)var c="PC_1",u="PC_2",h="PC_3",p="PCA";if("UMAP"===o.VisaulMethod)c="UMAP_1",u="UMAP_2",h="UMAP_3",p="UMAP";if("tSNE"===o.VisaulMethod)c="tSNE_1",u="tSNE_2",h="tSNE_3",p="tSNE";if("3D"==o.if3D){for(var d=a.zData,m=[],g=0;g<n.length;g++){var f={x:n[g],y:i[g],z:d[g],mode:"markers",type:"scatter3d",name:s[g],marker:{size:o.plotSize}};m.push(f)}o.TSNE_data=m;var _={title:p+"\tPlot("+o.series+"/"+t+")",scene:{xaxis:{title:c},yaxis:{title:u},zaxis:{title:h}},margin:{l:50,r:50,b:50,t:50}};o.TSNE_layout=_,r.spinShow1=!1}else{var v=[];for(g=0;g<n.length;g++){f={x:n[g],y:i[g],mode:"markers",type:"scatter",name:s[g],marker:{size:o.plotSize}};v.push(f)}o.TSNE_data=v;_={title:p+"\tPlot("+o.series+"/"+t+")",xaxis:{title:c},yaxis:{title:u}};o.TSNE_layout=_,r.spinShow1=!1}}))},getTsneCol:function(e,t){var a=this,n=this;Object(l["A"])(e,t).then((function(e){var t=e.data;console.log(t),n.colnames=t,a.group_type_list=[],t.forEach((function(e){return a.group_type_list.push({name:e})}))}))},changedSource:function(e){this.source=e},changedViewMethod:function(e){this.if3D=e},changedPlotSize:function(e){this.plotSize=e},changedPlotSize2:function(e){this.plotSize2=e},changedVisaulMethod:function(e){this.VisaulMethod=e},changedShowGroup2:function(e){this.source2=e},changedGroup:function(e){console.log(e),this.group=e},getTsneShow:function(){this.getTsneChart(this.series,this.source,this.group,this.if3D,this.VisaulMethod)},getDataSourceList:function(e){var t=this;Object(l["B"])(this.series).then((function(e){var a=t,n=e.data;console.log(),console.log(n);var i=n;n.forEach((function(e){a.data_source_list.push({name:e.source_g})})),n.forEach((function(e){"yes"===e.if_anal&&(console.log(e.source_g),a.data_source_listF.push({name:e.source_g}))})),t.getTsneChart(t.series,i[0].source_g,"celltype","2D","UMAP"),t.getFeaturePlot(t.series,n[0].source_g,"needFind")}))}},mounted:function(){this.getDataSourceList(this.series)}},u=c,h=(a("26b7"),a("2877")),p=Object(h["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},5606:function(e,t,a){e.exports=a.p+"img/development1 (2).43fb77e1.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("e9c4"),{name:"App",created:function(){var e=this;sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",(function(){sessionStorage.setItem("store",JSON.stringify(e.$store.state))}))}}),s=r,l=(a("7c55"),a("2877")),c=Object(l["a"])(s,i,o,!1,null,null,null),u=c.exports,h=a("4360"),p=a("a18c"),d=a("e069"),m=a.n(d),g=a("a925"),f=(a("c276"),{home:"首页",login:"登录",components:"组件",count_to_page:"数字渐变",tables_page:"多功能表格",split_pane_page:"分割窗口",markdown_page:"Markdown编辑器",editor_page:"富文本编辑器",icons_page:"自定义图标",img_cropper_page:"图片编辑器",update:"上传数据",join_page:"QQ群",doc:"文档",update_table_page:"上传CSV文件",update_paste_page:"粘贴表格数据",multilevel:"多级菜单",directive_page:"指令",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",level_2_2_2:"Level-2-2-2",excel:"Excel","upload-excel":"上传excel","export-excel":"导出excel",tools_methods_page:"工具函数",drag_list_page:"拖拽列表",i18n_page:"多语言",modalTitle:"模态框题目",content:"这是模态框内容",buttonText:"显示模态框","i18n-tip":"注：仅此页做了多语言，其他页面没有在多语言包中添加语言内容",error_store_page:"错误收集",error_logger_page:"错误日志",query:"带参路由",params:"动态路由",cropper_page:"图片裁剪",message_page:"消息中心",tree_table_page:"树状表格",org_tree_page:"组织结构树",drag_drawer_page:"可拖动抽屉",tree_select_page:"树状下拉选择器",Eryth_index:"红系分化数据集",Erythropoiesis:"红系分化",Dataset_service:"数据分析"}),_={home:"首頁",login:"登錄",components:"组件",count_to_page:"数字渐变",tables_page:"多功能表格",split_pane_page:"分割窗口",markdown_page:"Markdown編輯器",editor_page:"富文本編輯器",icons_page:"自定義圖標",img_cropper_page:"圖片編輯器",update:"上傳數據",join_page:"QQ群",doc:"文檔",update_table_page:"上傳CSV文件",update_paste_page:"粘貼表格數據",multilevel:"多级菜单",directive_page:"指令",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",level_2_2_2:"Level-2-2-2",excel:"Excel","upload-excel":"上傳excel","export-excel":"導出excel",tools_methods_page:"工具函數",drag_list_page:"拖拽列表",i18n_page:"多語言",modalTitle:"模態框題目",content:"這是模態框內容",buttonText:"顯示模態框","i18n-tip":"注：僅此頁做了多語言，其他頁面沒有在多語言包中添加語言內容",error_store_page:"錯誤收集",error_logger_page:"錯誤日誌",query:"帶參路由",params:"動態路由",cropper_page:"圖片裁剪",message_page:"消息中心",tree_table_page:"樹狀表格",org_tree_page:"組織結構樹",drag_drawer_page:"可拖動抽屜",tree_select_page:"樹狀下拉選擇器"},v={home:"Home",login:"Login",components:"Components",count_to_page:"Count-to",tables_page:"Table",split_pane_page:"Split-pane",markdown_page:"Markdown-editor",editor_page:"Rich-Text-Editor",icons_page:"Custom-icon",img_cropper_page:"Image-editor",update:"Update",doc:"Document",join_page:"QQ Group",update_table_page:"Update .CSV",update_paste_page:"Paste Table Data",multilevel:"multilevel",directive_page:"Directive",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",level_2_2_2:"Level-2-2-2",excel:"Excel","upload-excel":"Upload Excel","export-excel":"Export Excel",tools_methods_page:"Tools Methods",drag_list_page:"Drag-list",i18n_page:"Internationalization",modalTitle:"Modal Title",content:"This is the modal box content.",buttonText:"Show Modal","i18n-tip":"Note: Only this page is multi-language, other pages do not add language content to the multi-language package.",error_store_page:"Error Collection",error_logger_page:"Error Logger",query:"Query",params:"Params",cropper_page:"Cropper",message_page:"Message Center",tree_table_page:"Tree Table",org_tree_page:"Org Tree",drag_drawer_page:"Draggable Drawer",tree_select_page:"Tree Selector",Eryth_index:"Erythropoiesis-index",Erythropoiesis:"Erythropoiesis",Dataset_service:"Dataset-service"},y=a("cea3"),b=a("641c"),C=a("97b7");n["default"].use(g["a"]);navigator.language;var S="en-US";n["default"].config.lang=S,n["default"].locale=function(){};var w={"zh-CN":Object.assign(y["a"],f),"zh-TW":Object.assign(C["a"],_),"en-US":Object.assign(b["a"],v)},k=new g["a"]({locale:S,messages:w}),x=k,P=(a("dcad"),a("f121")),T=a("313e"),D=a("ea7f"),E=a("56e0"),O=a("4452"),G=a.n(O),z=a("4523"),M=a.n(z),j=a("b6d1"),B=a.n(j),A=a("0319"),R=a.n(A),L=a("33c6"),I=a.n(L);E(D),n["default"].prototype.$echarts=T,I()(D),M()(D),B()(D),R()(D),n["default"].use(G.a),n["default"].use(m.a,{i18n:function(e,t){return x.t(e,t)},transfer:!0,size:"large",select:{arrow:"md-arrow-dropdown",arrowSize:20}}),n["default"].config.lang="en-US",n["default"].locale("en-US",b["a"]),n["default"].config.productionTip=!1,n["default"].prototype.$config=P["a"],new n["default"]({el:"#app",router:p["a"],store:h["a"],i18n:x,components:{App:u},render:function(e){return e(u)}})},"5a10":function(e,t,a){"use strict";a("96b6")},6093:function(e,t,a){"use strict";a("98c4")},"61c2":function(e,t,a){},"64a5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-bread-crumb",{staticClass:"header-bar",attrs:{"show-icon":"",list:e.breadCrumbList}})],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Breadcrumb",e._l(e.list,(function(t){return a("BreadcrumbItem",{key:"bread-crumb-"+t.name,staticClass:"breadCru",attrs:{to:t.to}},[a("Icon",{attrs:{type:t.icon||""}}),e._v(" "+e._s(e.showTitle(t))+" ")],1)})),1)],1)},r=[],s=a("c276"),l={name:"customBreadCrumb",props:{list:{type:Array,default:function(){return[]}}},methods:{showTitle:function(e){return Object(s["g"])(e,this)}}},c=l,u=(a("3a74"),a("2877")),h=Object(u["a"])(c,o,r,!1,null,null,null),p=h.exports,d=p,m={name:"HeaderBar",components:{customBreadCrumb:d},props:{collapsed:Boolean},computed:{breadCrumbList:function(){return this.$store.state.app.breadCrumbList}},methods:{}},g=m,f=(a("f4e9"),Object(u["a"])(g,n,i,!1,null,null,null)),_=f.exports;t["a"]=_},"64ae":function(e,t,a){"use strict";a("aaec")},"66df":function(e,t,a){"use strict";var n=a("d4ec"),i=a("bee2"),o=(a("caad"),a("2532"),a("b64b"),a("d3b7"),a("e9c4"),a("bc3a")),r=a.n(o),s=a("4360"),l=a("c276"),c=function(e){var t=e.statusText,a=e.status,n=e.request.responseURL,i={type:"ajax",code:a,mes:t,url:n};n.includes("save_error_logger")||s["a"].dispatch("addErrorLog",i)},u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:baseURL;Object(n["a"])(this,e),this.baseUrl=t,this.queue={}}return Object(i["a"])(e,[{key:"getInsideConfig",value:function(){var e={baseURL:this.baseUrl,headers:{}};return e}},{key:"destroy",value:function(e){delete this.queue[e],Object.keys(this.queue).length}},{key:"interceptors",value:function(e,t){var a=this;e.interceptors.request.use((function(e){return Object.keys(a.queue).length,a.queue[t]=!0,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){a.destroy(t);var n=e.data,i=e.status;return{data:n,status:i}}),(function(e){a.destroy(t),console.log(e);var n=e.response;if(Object(l["a"])(e.response.status),!n){var i=JSON.parse(JSON.stringify(e)),o=i.request,r=o.statusText,s=o.status,u=i.config;n={statusText:r,status:s,request:{responseURL:u.url}}}return c(n),Promise.reject(e)}))}},{key:"request",value:function(e){var t=r.a.create();return e=Object.assign(this.getInsideConfig(),e),this.interceptors(t,e.url),t(e)}}]),e}(),h=u,p=a("f121"),d=p["a"].baseUrl.pro,m=new h(d);t["a"]=m},"6c9c":function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"u",(function(){return s})),a.d(t,"w",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"o",(function(){return u})),a.d(t,"C",(function(){return h})),a.d(t,"B",(function(){return p})),a.d(t,"v",(function(){return d})),a.d(t,"A",(function(){return m})),a.d(t,"j",(function(){return g})),a.d(t,"y",(function(){return f})),a.d(t,"z",(function(){return _})),a.d(t,"x",(function(){return v})),a.d(t,"n",(function(){return y})),a.d(t,"p",(function(){return b})),a.d(t,"m",(function(){return C})),a.d(t,"e",(function(){return S})),a.d(t,"c",(function(){return w})),a.d(t,"d",(function(){return k})),a.d(t,"r",(function(){return x})),a.d(t,"s",(function(){return P})),a.d(t,"q",(function(){return T})),a.d(t,"t",(function(){return D})),a.d(t,"i",(function(){return E})),a.d(t,"k",(function(){return O})),a.d(t,"D",(function(){return G})),a.d(t,"h",(function(){return z}));var n=a("66df"),i=function(e){return n["a"].request({url:"public/getDatasetByDateset",data:{dataset:e},method:"post"})},o=function(e){return n["a"].request({url:"public/getDatasetGroup",data:{dataset:e},method:"post"})},r=function(e,t){return n["a"].request({url:"public/getAllExpreStack",data:{dataset:e,tableTypes:t},method:"post"})},s=function(e,t){return n["a"].request({url:"public/getSequenceEchartByTabletype",data:{dataset:e,tableType:t},method:"post"})},l=function(e,t,a){return n["a"].request({url:"public/getSpecifExpreOptionsByName",data:{series:e,tableType:t,specif_name:a},method:"post"})},c=function(e,t){return n["a"].request({url:"public/getExpreRange",data:{dataset:e,tableType:t},method:"post"})},u=function(e,t){return n["a"].request({url:"public/getMicroInfo",data:{micType:e,value:t},method:"post"})},h=function(e){return n["a"].request({url:"public/getDiffGroup",data:{table_name:e},method:"post"})},p=function(e){return n["a"].request({url:"public/getTsneGroup",data:{series:e},method:"post"})},d=function(e,t){return n["a"].request({url:"public/getSigName",data:{series:e,source:t},method:"post"})},m=function(e,t){return n["a"].request({url:"public/getTsneDataCol",data:{series:e,group:t},method:"post"})},g=function(e,t,a){return n["a"].request({url:"public/getEachSig",data:{series:e,source:t,sigName:a},method:"post"})},f=function(e,t){return n["a"].request({url:"public/getTraDataCol",data:{series:e,group:t},method:"post"})},_=function(e,t,a,i,o){return n["a"].request({url:"public/getTsneData",data:{series:e,source:t,col:a,if3D:i,VisualM:o},method:"post"})},v=function(e,t,a){return n["a"].request({url:"public/getTraData",data:{series:e,source:t,col:a},method:"post"})},y=function(e,t,a){return n["a"].request({url:"public/getFeaturePlot",data:{series:e,source:t,featurename:a},method:"post"})},b=function(e,t){return n["a"].request({url:"public/getPseudo",data:{series:e,source:t},method:"post"})},C=function(e,t,a){return n["a"].request({url:"public/getFeatureBygroup",data:{series:e,source:t,feature_name:a},method:"post"})},S=function(e,t){return n["a"].request({url:"public/getClusterMarker",data:{series:e,source:t},method:"post"})},w=function(e,t){return n["a"].request({url:"public/getClusterEncihGroup",data:{series:e,source:t},method:"post"})},k=function(e,t,a,i){return n["a"].request({url:"public/getClusterEnrich",data:{series:e,source:t,group:a,enrichType:i},method:"post"})},x=function(e){return n["a"].request({url:"public/getSCDiffContrastGroup",data:{series:e},method:"post"})},P=function(e){return n["a"].request({url:"public/getSCEnrichContrastGroup",data:{series:e},method:"post"})},T=function(e,t){return n["a"].request({url:"public/getSCClusterDiff",data:{series:e,group:t},method:"post"})},D=function(e,t,a){return n["a"].request({url:"public/getScDiffEnrich",data:{series:e,group:t,enrichType:a},method:"post"})},E=function(e,t){return n["a"].request({url:"public/getDiffData",data:{series:e,diff_group:t},method:"post"})},O=function(e,t,a){return n["a"].request({url:"public/getEnrichData",data:{series:e,contrGroupOfEnrich:t,goType:a},method:"post"})},G=function(e){return n["a"].request({url:"public/getsimData",data:{series:e},method:"post"})},z=function(e){return n["a"].request({url:"public/getDatasetSourceInfoData",data:{series:e},method:"post"})}},"6da1":function(e,t,a){},"6f08":function(e,t,a){},7369:function(e,t,a){"use strict";a("460d")},"76d7":function(e,t,a){e.exports=a.p+"img/gene.03d89c7b.png"},"7baf":function(e,t,a){"use strict";a("33eb")},"7c23":function(e,t,a){},"7c55":function(e,t,a){"use strict";a("2395")},9072:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("Row",[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Interraction Atlas")]),a("br"),a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Select cell source",clearable:"",filterable:""},on:{"on-change":e.changedSourceGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Communication type: "}},[a("i-select",{attrs:{placeholder:"Select communication type",clearable:"",filterable:""},on:{"on-change":e.changedCommType}},e._l(e.comm_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("br"),a("br")],1),a("br"),a("Row",[a("div",[a("div",{staticStyle:{width:"100%",height:"400%","text-aglign":"center"},attrs:{id:"Net_view"}})])]),a("br"),a("br")],1)},i=[],o=a("ade3"),r=(a("d3b7"),a("159b"),a("99af"),a("b0c0"),a("d81d"),a("ac1f"),a("1276"),a("6c9c")),s=a("e6ca"),l=(a("313e"),a("43e0")),c=a.n(l),u={name:"ScInterraction",components:{VuePlotly:c.a},data:function(){var e;return e={dataset_name:this.$store.state.app.CurrentPageToken,comm_type:"",comm_type2:"",enrichGO_layout:{},enrichGO_options:{responsive:!0},contrasts_group:[],contrastsGroup:"",source:"",source2:"",contrGroupOfEnrich:"",GOformItem:{},spinShow2:"true",series:this.$store.state.app.CurrentPageToken,enrichGroup:""},Object(o["a"])(e,"contrasts_group",[]),Object(o["a"])(e,"enrichGroupList",[]),Object(o["a"])(e,"table_name","all_rna_dev_bulk_vivo"),Object(o["a"])(e,"data_source_list",[]),Object(o["a"])(e,"data_source_list2",[]),Object(o["a"])(e,"comm_type_list",[{name:"all"},{name:"growth factor"},{name:"other"},{name:"cytokine"},{name:"checkpoint"}]),e},methods:{getDataSourceList:function(e){var t=this;Object(r["B"])(this.series).then((function(e){var a=t,n=e.data;console.log(n);var i=n;t.source=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g}),a.data_source_list2.push({name:e.source_g})}));var o=t.series;t.getNetView(o,t.source,"all")}))},getCellSource:function(){Object(s["g"])().then((function(e){for(var t=e.data.dev_types,a=0;a<t.length;a++);}))},getNetView:function(e,t,a){var n=this,i=this.$echarts.init(document.getElementById("Net_view"));i.showLoading(),Object(s["i"])(e,t,a).then((function(e){i.hideLoading();var t=e.data;console.log(t);for(var o=t.nodes,r=t.links,s=t.categories,l=[],c=[],u=0;u<s.length;u++){l[u]={name:s[u]};for(var h=[],p=0;p<o.length;p++)s[u]===o[p].category&&0===o[p].c_f&&h.push(o[p]);for(p=0;p<o.length;p++)s[u]===o[p].category&&1===o[p].c_f&&h.push(o[p]);console.log(h),c=c.concat(h)}console.log(c),c.forEach((function(e){e.id=e.id,e.value=e.symbolSize,e.symbolSize/=1.5,e.label={normal:{show:e.name}},e.category=e.category}));var d={title:{text:"Top 40 factor of "+a+"("+n.source+")",subtext:"Circular layout",top:"bottom",left:"left"},tooltip:{},legend:[{data:l.map((function(e){return e.name}))}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"Top 40 "+a+" factor",type:"graph",layout:"circular",circular:{rotateLabel:!0},data:c,links:r,categories:l,roam:!0,label:{position:"right",formatter:"{b}"},edgeSymbol:["no","arrow"],edgeSymbolSize:[.4,10]}]};i.setOption(d)}))},getLRPlot_chart:function(e,t,a){var n=this.$echarts.init(document.getElementById("LRPlot_view"));n.showLoading(),alert(t),Object(s["i"])(e,t,a).then((function(e){n.hideLoading();var t=e.data;console.log(t);for(var i=t.nodes,o=t.links,r=t.categories,s=[],l=[],c=0;c<r.length;c++){s[c]={name:r[c]};for(var u=[],h=0;h<i.length;h++)r[c]===i[h].category&&0===i[h].c_f&&u.push(i[h]);for(h=0;h<i.length;h++)r[c]===i[h].category&&1===i[h].c_f&&u.push(i[h]);console.log(u),l=l.concat(u)}console.log(l),l.forEach((function(e){e.id=e.id,e.value=e.symbolSize,e.symbolSize/=1.5,e.label={normal:{show:e.name}},e.category=e.category}));var p={title:{text:"Top 40 "+a+" factor",subtext:"Circular layout",top:"bottom",left:"right"},tooltip:{},legend:[{data:s.map((function(e){return e.name}))}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"Top 40 factor of "+a,type:"graph",layout:"circular",circular:{rotateLabel:!0},data:l,links:o,categories:s,roam:!0,label:{position:"right",formatter:"{b}"},edgeSymbol:["no","arrow"],edgeSymbolSize:[.4,10]}]};n.setOption(p)}))},changedContrGroupOfEnrich:function(e){var t=[],a=this,n=e.split("-");n.forEach((function(e){return t.push({name:e})})),a.enrichGroupList=t,this.contrGroupOfEnrich=e},changeGoType:function(e){this.goType=e},changenrichType:function(e){this.enrichGroup=e},changedCommType:function(e){this.comm_type=e;var t=this.series;this.getNetView(t,this.source,e)},changedCommType2:function(e){this.comm_type2=e;var t=this.series;this.getLRPlot_chart(t,this.source,e)},changedSourceGroup:function(e){this.source=e},changedSourceGroup2:function(e){this.source2=e}},mounted:function(){this.getDataSourceList(this.series);var e=document.getElementById("Net_view"),t=function(){e.style.height=.85*window.innerHeight+"px",e.style.width=.75*window.innerWidth+"px"};t();var a=this.$echarts.init(e),n={};a.setOption(n),window.onresize=function(){t(),console.log("=="),a.resize()}}},h=u,p=(a("fd55"),a("2877")),d=Object(p["a"])(h,n,i,!1,null,null,null);t["default"]=d.exports},"924a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Differential Analysis")]),a("br"),a("div",[a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Contrasts Group: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select contrasts group"},on:{"on-change":e.changedContrGroup}},e._l(e.contrasts_group,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.diff_data,layout:e.diff_layout,options:e.diff_options}})],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",[e._v("Input Gene Symbol:")]),a("Input",{attrs:{search:"","enter-button":"Search",placeholder:e.search_placeholder},on:{"on-search":function(t){return e.searchDiffDataSetByKeyName(t)}}})],1)],1),a("br"),a("Row",[a("Table",{ref:"table",attrs:{columns:e.diffCols,data:e.diffData,size:"small"}}),e.spinShowTypeSource?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalRow,current:e.currentPage,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)])],1)],1)])},i=[],o=a("53ca"),r=(a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("ddd7")),s=a("43e0"),l=a.n(s),c=a("6c9c"),u=a("39b2"),h={0:{value:">0.05",name:">0.05"},1:{value:"=<0.05",name:"=<0.05"}},p={name:"Diff_analysis",components:{VuePlotly:l.a,FilterTable:r["a"]},data:function(){return{series:this.$store.state.app.CurrentPageToken,spinShow1:"true",search_placeholder:"Please input gene symbol",Dsource:"",Dgrowth_mode:"",spinShowTypeSource:!0,diff_data:[],diff_layout:{},contrasts_group:[],diff_options:{responsive:!0},diffData:[],contrastsGroup:"",totalRow:400,currentPage:1,pageSize:10,table_name:"all_rna_dev_bulk_vivo",diffCols:[{title:"Symbol",key:"SYMBOL",sortable:!0,filter:{type:"Input"},fixed:"left"},{title:"logFC",key:"logFC",sortable:!0,filter:{type:"Input"}},{title:"logCPM",key:"logCPM",sortable:!0,filter:{type:"Input"}},{title:"FDR",key:"FDR",sortable:!0,filter:{type:"Input"}},{title:"PValue",key:"PValue",sortable:!0,filter:{type:"Select",option:h}}]}},methods:{onSearch_diff:function(e){var t=this,a=this;for(var n in e){var i=e[n];if("object"===Object(o["a"])(i))return void this.$Message.info("Please check your input   ");if(0===i.replace(/\s*/g,"").length.length)return this.$Message.info("Please check your input "),void this.load()}Object(u["t"])(this.series,e,a.currentPage,a.pageSize,this.contrastsGroup).then((function(e){a.spinShowTypeSource=!1;var n=e.data;1===n.signal?(a.diffData=n.list,a.totalRow=n.total):t.$Message.info("No related datasets",15)}))},handleCurrentChange:function(e){this.currentPage=e,this.mockTableData(this.series,this.currentPage,this.pageSize,this.contrastsGroup)},handleSizeChange:function(e){this.pageSize=e,this.mockTableData(this.series,this.currentPage,this.pageSize,this.contrastsGroup)},mockTableData:function(e,t,a,n){var i=this;i.spinShowTypeSource=!0,Object(u["m"])(e,t,a,n).then((function(e){i.spinShowTypeSource=!1;var t=e.data;1==t.signal&&(i.diffData=t.list,i.totalRow=t.total)}))},searchDiffDataSetByKeyName:function(e){var t=this;""!=e?(t.spinShowTypeSource=!0,Object(u["n"])(e,this.series,this.currentPage,this.pageSize,this.contrastsGroup).then((function(e){t.spinShowTypeSource=!1;var a=e.data;1==a.signal&&(t.diffData=a.list,t.totalRow=a.total)}))):this.$Message.info("Please input gene symbol",10)},getdiff_group:function(e){var t=this,a=[];Object(c["C"])(e).then((function(e){var n=e.data;n.forEach((function(e){return a.push({name:e})})),t.contrasts_group=a,t.getdiff_chart(t.series,n[0]),t.contrastsGroup=n[0],t.mockTableData(t.series,t.currentPage,t.pageSize,n[0])}))},getdiff_chart:function(e,t){var a=this,n=this;n.spinShow1=!0,Object(c["i"])(this.series,t).then((function(e){var i=e.data,o=[{x:i.no_signifcant.logFC,y:i.no_signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Not Signifcant",text:i.no_signifcant.genes,marker:{size:4}},{x:i.signifcant.logFC,y:i.signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Signifcant",text:i.signifcant.genes,marker:{size:4}}];a.diff_data=o;var r={title:"Differential analysis of "+t+" in "+a.series+"( Source:"+a.Dsource+";Growth Mode:"+a.Dgrowth_mode+")",xaxis:{title:"Log2(FC)"},yaxis:{title:"-Log2(adj.P.Val)"}};a.diff_layout=r,n.spinShow1=!1}))},changedContrGroup:function(e){this.getdiff_chart(this.series,e),this.contrastsGroup=e,this.mockTableData(this.series,this.currentPage,this.pageSize,e)},getDatasetSourceInfo:function(e){var t=this;Object(c["h"])(this.series).then((function(e){var a=e.data;console.log(a),t.Dsource=a.source,t.Dgrowth_mode=a.growth_mode}))}},mounted:function(){this.getDatasetSourceInfo(this.series),this.getdiff_group(this.series)}},d=p,m=a("2877"),g=Object(m["a"])(d,n,i,!1,null,null,null);t["default"]=g.exports},"96b6":function(e,t,a){},"98c4":function(e,t,a){},"9b75":function(e,t,a){"use strict";a("3502")},"9cfe":function(e,t,a){"use strict";a("1866")},a0cb:function(e,t,a){"use strict";a("df38")},a0ee:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Communication Pattern")]),a("br"),a("div",[a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Select cell source",clearable:"",filterable:""},on:{"on-change":e.changedSourceGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Signal pattern: "}},[a("i-select",{attrs:{model:e.contrastsGroup,clearable:"",placeholder:"Please select signal pattern",filterable:""},on:{"update:model":function(t){e.contrastsGroup=t},"on-change":e.changedSigPattern}},e._l(e.sigPattern_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",{attrs:{gutter:4}},[a("Col",{attrs:{span:"8"}},[a("highcharts",{staticClass:"river_container",attrs:{options:e.Cell_Chart_RiverCell}})],1),a("Col",{attrs:{span:"16"}},[a("div",[a("highcharts",{staticClass:"river_container",attrs:{options:e.Cell_Chart_RiverPath}})],1)])],1)],1),a("br"),a("br"),a("div",{staticClass:"pathway_info"},[a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Signal name: "}},[a("i-select",{attrs:{model:e.contrastsGroup,clearable:"",placeholder:"Please select signal name",filterable:""},on:{"update:model":function(t){e.contrastsGroup=t},"on-change":e.changedSigName}},e._l(e.sigName_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[a("vue-plotly",{attrs:{watchShallow:e.ifResize,autoResize:e.ifResize,data:e.CellChartHotMap_data,layout:e.CellChartHotMap_layout,options:e.CellChartHotMap_options}})],1),a("br"),a("br"),a("Row",[a("div",[a("highcharts",{staticClass:"Rcontri_container",attrs:{options:e.Cell_Chart_Rcontri}})],1)])],1),a("br")])},i=[],o=a("ade3"),r=(a("d3b7"),a("159b"),a("99af"),a("b0c0"),a("d81d"),a("ac1f"),a("1276"),a("6c9c")),s=a("e6ca"),l=a("43e0"),c=a.n(l),u={name:"ScCommunication",components:{VuePlotly:c.a},data:function(){var e;return e={sigPattern_list:[{name:"incoming"},{name:"outgoing"}],sigName_list:[],sigPattern:"",data_source_list:[],Cell_Chart_RiverCell:{},Cell_Chart_RiverPath:{},Cell_Chart_Rcontri:{},ifResize:!0,CellChartHotMap_layout:{},CellChartHotMap_data:[],CellChartHotMap_options:{responsive:!0},dataset_name:"erthy",comm_type:"all",enrichGO_layout:{},enrichGO_options:{responsive:!0},contrasts_group:[],contrastsGroup:"",source:"",contrGroupOfEnrich:"",GOformItem:{},spinShow2:"true",series:this.$store.state.app.CurrentPageToken,enrichGroup:""},Object(o["a"])(e,"contrasts_group",[]),Object(o["a"])(e,"enrichGroupList",[]),e},methods:{getDataSourceList:function(e){var t=this;Object(r["B"])(e).then((function(a){var n=t,i=a.data;console.log(i);var o=i;t.source=o[0].source_g,i.forEach((function(e){console.log(e.source_g),n.data_source_list.push({name:e.source_g})}));var r="incoming";t.getCellChartView(o[0].source_g,r),t.getSigNameList(e,o[0].source_g)}))},getSigNameList:function(e,t){var a=this;this.sigName_list=[],Object(r["v"])(e,t).then((function(e){var t=e.data;console.log(t);t.forEach((function(e){return a.sigName_list.push({name:e})})),a.getCellChartHotMap(a.series,a.source,t[0]),a.getCellChartRcontri(a.series,a.source,t[0])}))},geteSigPathNet_chart:function(e,t,a){var n=this,i=this.$echarts.init(document.getElementById("eSigPathNet"));i.showLoading(),this.spinShow2=!0,Object(s["k"])(e,t,a).then((function(e){i.hideLoading();var o=e.data;console.log(o);for(var r=o.nodes,s=o.links,l=o.categories,c=[],u=[],h=0;h<l.length;h++){c[h]={name:l[h]};for(var p=[],d=0;d<r.length;d++)l[h]===r[d].category&&0===r[d].c_f&&p.push(r[d]);for(d=0;d<r.length;d++)l[h]===r[d].category&&1===r[d].c_f&&p.push(r[d]);console.log(p),u=u.concat(p)}console.log(u),u.forEach((function(e){e.id=e.id,e.value=e.symbolSize,e.symbolSize=e.symbolSize,e.label={normal:{show:e.name}},e.category=e.category}));var m={title:{text:a+" signaling pathway",subtext:n.series+" "+t,top:"top"},tooltip:{},legend:[{data:c.map((function(e){return e.name})),top:"bottom"}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"Les Miserables",type:"graph",layout:"circular",circular:{rotateLabel:!0},data:u,links:s,categories:c,roam:!0,label:{position:"right",formatter:"{b}"},edgeSymbol:["no","arrow"],edgeSymbolSize:[.4,10]}]};i.setOption(m)}))},getCellChartHotMap:function(e,t,a){var n=this;Object(r["j"])(e,t,a).then((function(e){var t=e.data;console.log("I am query"),console.log(t);var i=[{z:t.zData,x:t.xData,y:["sender","receiver","mediator","influencer"],type:"heatmap",hoverongaps:!1}],o={title:a+" signaling pathway network",xaxis:{title:"Cell type",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Signal role name",tickmode:"array",automargin:!0,titlefont:{size:15}}};n.CellChartHotMap_data=i,n.CellChartHotMap_layout=o}))},getCellChartView:function(e,t){var a=this,n=t;Object(s["f"])(this.series,e,n).then((function(e){console.log(e.data);var n=e.data,i={title:{text:"communication("+t+") patterns"},series:[{keys:["from","to","weight"],data:n.netSigCell,type:"sankey",name:"Sankey demo series"}]};a.Cell_Chart_RiverCell=i;var o={title:{text:"communication("+t+") signal of cells"},series:[{keys:["from","to","weight"],data:n.netSigPath,type:"sankey",name:"Sankey demo series"}]};a.Cell_Chart_RiverPath=o}))},getCellChartRcontri:function(e,t,a){var n=this;Object(s["e"])(e,t,a).then((function(e){console.log(e.data);var t=e.data,i={chart:{type:"bar"},title:{text:"Contribution of each L-R pair "},subtitle:{},xAxis:{categories:t.cate,title:{text:null}},yAxis:{min:0,title:{text:"Relative contribution",align:"high"},labels:{overflow:"justify"}},tooltip:{valueSuffix:" 百万"},plotOptions:{bar:{dataLabels:{enabled:!0,allowOverlap:!0}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:1,floating:!0,borderWidth:1,shadow:!0},series:[{name:a+" pathway network",data:t.seriData}]};n.Cell_Chart_Rcontri=i}))},changedContrGroupOfEnrich:function(e){var t=[],a=this,n=e.split("-");n.forEach((function(e){return t.push({name:e})})),a.enrichGroupList=t,this.contrGroupOfEnrich=e},changeGoType:function(e){this.goType=e},changenrichType:function(e){this.enrichGroup=e},getdiff_group:function(e){var t=this,a=[];getdiffGroup(e).then((function(e){var n=e.data;console.log(n),n.forEach((function(e){return a.push({name:e})})),t.contrasts_group=a,t.contrastsGroup=n[0],t.getLRPlot_chart(t.table_name,t.contrastsGroup)}))},changedSigPattern:function(e){this.sigPattern=e,this.getCellChartView(this.source,e)},changedSigName:function(e){this.siName=e,this.getCellChartHotMap(this.series,this.source,e),this.getCellChartRcontri(this.series,this.source,e)},changedSourceGroup:function(e){this.source=e,this.getSigNameList(this.series,this.source);var t="incoming";this.getCellChartView(e,t)}},mounted:function(){this.getDataSourceList(this.series);var e=document.getElementById("eSigPathNet"),t=function(){e.style.height=.85*window.innerHeight+"px",e.style.width=.75*window.innerWidth+"px"};t();var a=this.$echarts.init(e),n={};a.setOption(n),window.onresize=function(){t(),console.log("=="),a.resize()}}},h=u,p=(a("a0cb"),a("2877")),d=Object(p["a"])(h,n,i,!1,null,null,null);t["default"]=d.exports},a18c:function(e,t,a){"use strict";var n=a("2b0e"),i=a("8c4f"),o=a("ddb9"),r=a("c276"),s=a("e069"),l=a.n(s);n["default"].use(i["a"]);var c=new i["a"]({mode:"history",base:"/EryDB/",routes:o["a"]});c.afterEach((function(e){Object(r["f"])(e,c.app),l.a.LoadingBar.finish(),window.scrollTo(0,0)})),t["a"]=c},a81b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Differential analysis("+e._s(e.orga_name)+")")]),a("Br"),a("div",[a("Row",{attrs:{gutter:4}},[a("Col",{attrs:{span:"10"}},[a("i-select",{attrs:{model:e.contrastsGroup,clearable:"",placeholder:"Pleace select/input contrasts group",filterable:""},on:{"update:model":function(t){e.contrastsGroup=t},"on-change":e.changedContrGroup}},e._l(e.contrasts_group,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Col",{attrs:{span:"12"}},[a("div",{staticStyle:{"margin-left":"4px"}},[a("span",[e._v(" e.g, late_basoE_CB_vitro-orthoE_CB_vitro means the late_basoE_CB_vitro group versus the orthoE_CB_vitro group ")])])])],1),a("Br"),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.diff_data,layout:e.diff_layout,options:e.diff_options}})],1),a("Br"),a("Row",[e.spinShowTypeSource?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("filter-table",{attrs:{data:e.diffData,columns:e.diffCols},on:{"on-search":e.onSearch_diff}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalRow,current:e.currentPage,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)])],1)],1)],1)},i=[],o=a("53ca"),r=(a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("b0c0"),a("ddd7")),s=a("43e0"),l=a.n(s),c=a("6c9c"),u=a("39b2"),h={0:{value:">0.05",name:">0.05"},1:{value:"=<0.05",name:"=<0.05"}},p={name:"all_Diffanal",components:{VuePlotly:l.a,FilterTable:r["a"]},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{orga_name:"",spinShowTypeSource:"true",ifResize:!0,spinShow1:"true",diff_data:[],diff_layout:{},contrasts_group:[],source_group:[{name:"vivo",value:"vivo"},{name:"vitro",value:"vitro"},{name:"same cell's stage(over source)",value:"samec"}],currentPage:1,pageSize:10,totalRow:400,diff_options:{responsive:!0},contrastsGroup:"",sourceGroup:"vivo",table_name:"all_rna_dev_bulk_vivo",diffData:[],diffCols:[{title:"Symbol",key:"SYMBOL",sortable:!0,filter:{type:"Input"},fixed:"left"},{title:"logFC",key:"logFC",sortable:!0,filter:{type:"Input"}},{title:"AveExpr",key:"logCPM",sortable:!0,filter:{type:"Input"}},{title:"adj.P.Val",key:"FDR",sortable:!0,filter:{type:"Input"}},{title:"P.Value",key:"P.Value",sortable:!0,filter:{type:"Select",option:h}}],orga:this.$route.params.orga,sequ_type:this.$route.params.sequ_type}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,this.getdiff_group(t),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{onSearch_diff:function(e){var t=this,a=this;for(var n in e){var i=e[n];if("object"===Object(o["a"])(i))return void this.$Message.info("Please check your input of  "+n,15);if(0===i.replace(/\s*/g,"").length.length)return this.$Message.info("Please check your input of  "+n,15),void this.load()}Object(u["t"])(this.table_name,e,a.currentPage,a.pageSize,this.contrastsGroup).then((function(e){a.spinShowTypeSource=!1;var n=e.data;console.log(n),1===n.signal?(a.diffData=n.list,a.totalRow=n.total):t.$Message.info("No related datasets",15)}))},getdiff_group:function(e){var t=this,a=[];Object(c["C"])(e).then((function(n){var i=n.data;i.forEach((function(e){return a.push({name:e})})),t.contrasts_group=a,t.getdiff_chart(e,i[0]),t.contrastsGroup=i[0],t.mockTableData(e,t.currentPage,t.pageSize,i[0])}))},getdiff_chart:function(e,t){var a=this,n=this;n.spinShow1=!0,Object(c["i"])(e,t).then((function(e){var i=e.data;console.log(i);var o=[{x:i.no_signifcant.logFC,y:i.no_signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Not Signifcant",text:i.no_signifcant.genes,marker:{size:4}},{x:i.signifcant.logFC,y:i.signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Signifcant",text:i.signifcant.genes,marker:{size:4}}];a.diff_data=o;var r={title:"Differential analysis "+t,xaxis:{title:"Log2(FC)"},yaxis:{title:"-Log2(adj.P.Val)"}};a.diff_layout=r,n.spinShow1=!1}))},changedContrGroup:function(e){this.getdiff_chart(this.table_name,e),this.mockTableData(this.table_name,this.currentPage,this.pageSize,e)},changedSourceGroup:function(e){var t=this;this.source_group.forEach((function(a){a.name==e&&(t.sourceGroup=a.value)})),this.getdiff_group(table_name)},mockTableData:function(e,t,a,n){var i=this;i.spinShowTypeSource=!0,console.log("start_table_mode"),Object(u["m"])(e,t,a,n).then((function(e){i.spinShowTypeSource=!1;var t=e.data;console.log(t),1==t.signal&&(console.info(t.list),i.diffData=t.list,i.totalRow=t.total)}))},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.mockTableData(this.table_name,this.currentPage,this.pageSize,this.contrastsGroup)},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e,this.mockTableData(this.table_name,this.currentPage,this.pageSize,this.contrastsGroup)}},mounted:function(){}},d=p,m=(a("18e3"),a("2877")),g=Object(m["a"])(d,n,i,!1,null,null,null);t["default"]=g.exports},aaec:function(e,t,a){},b001:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Enrichment Analysis")]),a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Contrasts Group: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select contrasts group",filterable:""},on:{"on-change":e.changedContrGroup}},e._l(e.contrasts_group,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),e._v("    "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Type: "}},[a("i-select",{attrs:{model:e.enrichGroup,clearable:"",placeholder:"Pleace select GO Type",filterable:""},on:{"update:model":function(t){e.enrichGroup=t},"on-change":e.changeGoType}},e._l(e.goTypeList,(function(t,n){return a("i-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row"),a("Row",[a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.enrichGO_data,layout:e.enrichGO_layout,options:e.enrichGO_options}})],1)],1)},i=[],o=(a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("6c9c")),r=a("43e0"),s=a.n(r),l={name:"EnrichGO",components:{VuePlotly:s.a},data:function(){return{contrGroupOfEnrich:"",GOformItem:{},spinShow2:"true",series:this.$store.state.app.CurrentPageToken,enrichShow:!1,enrichGroup:"",contrasts_group:[],enrichGroupList:[],goTypeList:[{name:"GO-CC",value:"CC"},{name:"GO-MF",value:"MF"},{name:"GO-BP",value:"BP"},{name:"KEGG",value:"KEGG"}],ifResize:!0,enrichGO_data:[],enrichGO_layout:{},enrichGO_options:{responsive:!0}}},methods:{getdiff_group:function(){var e=this,t=[];Object(o["C"])(this.series).then((function(a){var n=a.data;console.log(n),n.forEach((function(e){return t.push({name:e})})),e.contrasts_group=t,e.contrGroupOfEnrich=n[0],e.enrichGroup=n[0].split("-")[0],e.goType="CC",e.getenrich_chart(e.series,n[0])}))},getenrich_chart:function(){var e=this;this.enrichShow=!0,""==this.contrGroupOfEnrich&&this.$Message.info("please select contrasts group",10),""==this.enrichGroup&&this.$Message.info("please select enrich group",10),""==this.goType&&this.$Message.info("please select GO type",10),this.spinShow2=!0,Object(o["k"])(this.series,this.contrGroupOfEnrich,this.goType).then((function(t){var a=t.data,n=a.xData,i=a.yData,o=a.nData;a.tData;e.enrichGO_data=[];for(var r=0;r<n.length;r++){var s={x:n[r],y:i[r],name:o[r],type:"bar",orientation:"h"};e.enrichGO_data.push(s)}var l={title:"GO ("+e.goType+") enrichment of "+e.contrGroupOfEnrich,bargap:.25,xaxis:{title:"-log10(p.adjust)"},yaxis:{title:{text:"GO Term [-log10(p.adjust)]",position:"top",standoff:40,yanchor:"top"},automargin:!0,rangemode:"normal",dtick:1,exponentformat:function(e){return e.length>30?e.substring(0,30)+"...":e}},margin:{l:500}};e.enrichGO_layout=l}))},changedContrGroupOfEnrich:function(e){var t=[],a=this,n=e.split("-");n.forEach((function(e){return t.push({name:e})})),a.enrichGroupList=t,this.contrGroupOfEnrich=e},changeGoType:function(e){this.goType=e,this.getenrich_chart()},changenrichType:function(e){this.enrichGroup=e},getDatasetSampleGroup:function(){var e=this;Object(o["g"])(this.$store.state.app.CurrentPageToken).then((function(t){var a=t.data;console.log(a);a.sample;var n=a.source;e.source=n}))}},mounted:function(){this.getDatasetSampleGroup(),this.getdiff_group()}},c=l,u=(a("6093"),a("2877")),h=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=h.exports},b02c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Cluster's Differential Analysis")]),a("br"),a("div",[a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Contrast Cluster: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"on-change":e.changedDiffChart}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.diff_data,layout:e.diff_layout,options:e.diff_options}})],1),a("Br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Input Gene: "}},[a("Input",{attrs:{search:"","enter-button":"Search",placeholder:e.search_placeholder},on:{"on-search":function(t){return e.searchSCDiffDataSetByKeyName(t)}}})],1)],1)],1)],1),a("Row",[a("Table",{ref:"table",attrs:{columns:e.diffCols,data:e.diffData,size:"small"}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalRow,current:e.currentPage,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)])],1)],1),a("br"),a("div",[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Cluster's Enrichment Analysis")]),a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Contrast Cluster: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"on-change":e.changedDiffChart2}},e._l(e.group_type_list2,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Enrich type: "}},[a("i-select",{attrs:{model:e.enrichGroup,clearable:"",placeholder:"Pleace select Enrich Type",filterable:""},on:{"update:model":function(t){e.enrichGroup=t},"on-change":e.changeEnrichType}},e._l(e.goTypeList,(function(t,n){return a("i-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.enrichGO_data,layout:e.enrichGO_layout,options:e.enrichGO_options}})],1)],1)])},i=[],o=a("53ca"),r=(a("d3b7"),a("159b"),a("ac1f"),a("5319"),a("ddd7")),s=a("43e0"),l=a.n(s),c=a("6c9c"),u=a("39b2"),h={0:{value:">0.05",name:">0.05"},1:{value:"=<0.05",name:"=<0.05"}},p={name:"sc_Diffanal",components:{VuePlotly:l.a,FilterTable:r["a"]},data:function(){return{enrichGroup:"",search_placeholder:"Please input gene symbol",goTypeList:[{name:"GO-CC",value:"CC"},{name:"GO-MF",value:"MF"},{name:"GO-BP",value:"BP"},{name:"KEGG",value:"KEGG"}],series:this.$store.state.app.CurrentPageToken,ifResize:!0,spinShow1:"true",spinShow2:"true",diff_data:[],diff_layout:{},contrasts_group:[],enrichGO_layout:{},data_source_list:[],source:"",source2:"",currentPage:1,pageSize:10,totalRow:400,diff_options:{responsive:!0},sourceGroup:"vivo",diffData:[],diffCols:[{title:"Symbol",key:"symbol",sortable:!0,filter:{type:"Input"},fixed:"left"},{title:"p_val",key:"p_val",sortable:!0,filter:{type:"Input"}},{title:"avg_logFC",key:"avg_logFC",sortable:!0,filter:{type:"Input"}},{title:"pct.1",key:"pct.1",sortable:!0,filter:{type:"Input"}},{title:"pct.2",key:"pct.2",sortable:!0,filter:{type:"Input"}},{title:"p_val_adj",key:"p_val_adj",sortable:!0,filter:{type:"Select",option:h}}],group_type_list:[],group_type_list2:[],group:"",gorup2:"",enrichGO_data:[],enrichType:"CC",enrichGO_options:{responsive:!0}}},methods:{getDataSourceList:function(e){var t=this;Object(c["B"])(this.series).then((function(e){var a=t,n=e.data,i=n;t.source=i[0].source_g,t.source2=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g})})),t.getContrastGroup(t.series,i[0].source_g),t.getContrastGroup2(t.series,i[0].source_g)}))},changedDiffChart:function(e){if(console.log(e),this.group=e,"undefined"===typeof e)this.group=e;else{this.group=e,this.getdiff_chart(this.series,this.source,e);var t=this.series;this.mockTableData(t,this.currentPage,this.pageSize,e)}},changedDiffChart2:function(e){console.log(e),this.group2=e,this.getdiffEnrich_chart(this.series,e,this.enrichType)},changeEnrichType:function(e){this.enrichType=e,this.getdiffEnrich_chart(this.series,this.group2,e)},changedDataSource:function(e){this.source=e,this.getContrastGroup(this.series,e)},changedDataSource2:function(e){this.source2=e,this.getContrastGroup2(this.series,e)},getdiffEnrich_chart:function(e,t,a){var n=this,i=this;i.spinShow2=!0,Object(c["t"])(e,t,a).then((function(e){var a=e.data;console.log("enrich data "),console.log(a);var o=a.xData,r=a.yData,s=a.nData;a.tData;n.enrichGO_data=[];for(var l=0;l<o.length;l++){var c={x:o[l],y:r[l],name:s[l],type:"bar",orientation:"h"};n.enrichGO_data.push(c)}var u={title:"Enrichment("+n.enrichType+") of "+t,xaxis:{title:"-log10(p.adjust)"},yaxis:{title:{text:" Term [-log10(p.adjust)]",position:"top",standoff:40,yanchor:"top"},automargin:!0,rangemode:"normal",dtick:1,exponentformat:function(e){return e.length>30?e.substring(0,30)+"...":e}},margin:{l:300}};n.enrichGO_layout=u,i.spinShow2=!1}))},getDiffContrastGroup:function(e){var t=this;Object(c["r"])(e).then((function(a){var n=t,i=a.data;console.log(i);n.group=i[0],n.group_type_list=[],i.forEach((function(e){return n.group_type_list.push({name:e})}));var o=e;t.getdiff_chart(t.series,t.source,i[0]),t.mockTableData(o,t.currentPage,t.pageSize,i[0])}))},getEnrichContrastGroup2:function(){var e=this;Object(c["s"])(this.series,this.source2).then((function(t){var a=t.data;console.log(a);e.group_type_list2=[],a.forEach((function(t){return e.group_type_list2.push({name:t})})),e.group2=a[0],e.getdiffEnrich_chart(e.series,a[0],e.enrichType)}))},onSearch_diff:function(e){var t=this,a=this;for(var n in e){var i=e[n];if("object"===Object(o["a"])(i))return void this.$Message.info("Please check your input of  "+n,15);if(0===i.replace(/\s*/g,"").length.length)return this.$Message.info("Please check your input of  "+n,15),void this.load()}searchDatasetByParms(e,a.currentPage,a.pageSize).then((function(e){a.spinShowTypeSource=!1;var n=e.data;1===n.signal?t.$Message.info("No related datasets",15):(a.datasets=n.list,a.total=n.total)}))},getdiff_chart:function(){var e=this,t=this;t.spinShow1=!0,Object(c["q"])(this.series,this.group).then((function(a){var n=a.data;console.log(n);var i=[{x:n.no_signifcant.logFC,y:n.no_signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Not Signifcant",text:n.no_signifcant.genes,marker:{size:4}},{x:n.signifcant.logFC,y:n.signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Signifcant",text:n.signifcant.genes,marker:{size:4}}];e.diff_data=i;var o={title:"Differential Analysis "+e.group,subtitle:{text:"Data Souce:"+e.series},xaxis:{title:"Log2(FC)"},yaxis:{title:"-Log2(adj.P.Val)"}};e.diff_layout=o,t.spinShow1=!1}))},changedContrGroup:function(e){this.getdiff_chart(this.series,e);var t=this.series;this.mockTableData(t,this.currentPage,this.pageSize,e)},changedSourceGroup:function(e){this.table_name="all_rna_dev_bulk_"+e,this.sourceGroup=e},mockTableData:function(e,t,a,n){var i=this;i.spinShowTypeSource=!0,Object(u["o"])(e,t,a,n).then((function(e){i.spinShowTypeSource=!1;var t=e.data;console.log(t),1==t.signal&&(console.info(t.list),i.diffData=t.list,i.totalRow=t.total)}))},searchSCDiffDataSetByKeyName:function(e){if(""!=e){var t=this;t.spinShowTypeSource=!0,Object(u["p"])(e,this.series,this.currentPage,this.pageSize,this.group).then((function(e){t.spinShowTypeSource=!1;var a=e.data;console.log(a),1==a.signal&&(console.info(a.list),t.diffData=a.list,t.totalRow=a.total)}))}else this.$Message.info("Please input gene symbol",10)},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e;var t=this.series;this.mockTableData(t,this.currentPage,this.pageSize,this.group)},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e;var t=this.series;this.mockTableData(t,this.currentPage,this.pageSize,this.group)}},mounted:function(){this.getDiffContrastGroup(this.series),this.getEnrichContrastGroup2(this.series)}},d=p,m=(a("1a58"),a("2877")),g=Object(m["a"])(d,n,i,!1,null,null,null);t["default"]=g.exports},b059:function(e,t,a){e.exports=a.p+"img/development.f48dd5ff.png"},b39c:function(e,t,a){"use strict";a("386b")},b967:function(e,t,a){var n={"./aboutSBySpecies.png":"d490","./address.png":"c542","./datasetState.png":"d272","./development.png":"b059","./development1 (2).png":"5606","./gene.png":"76d7","./help_search.png":"d72e","./image-20220310215336566.png":"23db","./image-20220310215903098.png":"ef491","./subredcell.png":"c5ce"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="b967"},bdae:function(e,t,a){},bdca:function(e,t,a){},c1e9:function(e,t,a){},c276:function(e,t,a){"use strict";a.d(t,"g",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"a",(function(){return g})),a.d(t,"d",(function(){return f}));var n=a("2909"),i=a("5530"),o=(a("caad"),a("2532"),a("ac1f"),a("5319"),a("498a"),a("b0c0"),a("d3b7"),a("d81d"),a("4de4"),a("99af"),a("f121")),r=a("a18c"),s=o["a"].title,l=o["a"].useI18n,c=function(e,t){var a=e.meta,n=a.title,i=a.__titleIsFunction__;if(n)return n=l?n.includes("{{")&&n.includes("}}")&&l?n.replace(/({{[\s\S]+?}})/,(function(e,a){return a.replace(/{{([\s\S]*)}}/,(function(e,a){return t.$t(a.trim())}))})):i?e.meta.title:t.$t(e.name):e.meta&&e.meta.title||e.name,n},u=function(e,t){localStorage.setItem(e,t)},h=function(e,t){var a=Object(i["a"])(Object(i["a"])({},t),{},{icon:t.meta.icon}),o=e.matched;if(o.some((function(e){return e.name===t.name})))return[a];var r=o.filter((function(e){return void 0===e.meta||!e.meta.hideInBread})).map((function(t){var a=Object(i["a"])({},t.meta);a.title&&"function"===typeof a.title&&(a.__titleIsFunction__=!0,a.title=a.title(e));var n={icon:t.meta&&t.meta.icon||"",name:t.name,meta:a,to:t.path};return n}));return r=r.filter((function(e){return!e.meta.hideInMenu})),[Object(i["a"])(Object(i["a"])({},a),{},{to:t.path})].concat(Object(n["a"])(r))},p=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",n=-1,i=t.length,o={};while(++n<i){var r=t[n];if(r.children&&r.children.length){var s=e(r.children,a);if(s.name)return s}else r.name===a&&(o=r)}return o},d=function(e){var t=Object(i["a"])({},e),a=Object(i["a"])({},e.meta),n="";return a.title&&("function"===typeof a.title?(a.__titleIsFunction__=!0,n=a.title(t)):n=a.title),a.title=n,t.meta=a,t},m=function(e,t){var a=d(e),n=c(a,t),i=n?"".concat(s," - ").concat(n):s;window.document.title=i},g=function(e){return 404===e&&r["a"].push({name:"error_404"}),e},f=function(e){return localStorage.getItem(e)||""}},c38e:function(e,t,a){},c542:function(e,t,a){e.exports=a.p+"img/address.73a7c256.png"},c5ce:function(e,t,a){e.exports=a.p+"img/subredcell.432a7472.png"},caee:function(e,t,a){"use strict";a("17d0")},cc81:function(e,t,a){},d272:function(e,t,a){e.exports=a.p+"img/datasetState.08bf838a.png"},d490:function(e,t,a){e.exports=a.p+"img/aboutSBySpecies.18cff991.png"},d72e:function(e,t,a){e.exports=a.p+"img/help_search.fd243bb7.png"},dcf6:function(e,t,a){},ddb9:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("body",[a("div",{staticClass:"bigd-container bodyStyle"},[a("div",{staticClass:"layout"},[a("Content",{staticClass:"my_content"},[a("header-bar"),a("Content",[a("Card",[a("div",[a("router-view"),a("Back-top")],1)])],1),a("Footer",{staticClass:"layout-footer-center"},[a("span",{staticClass:"my_footer"},[e._v(" Copyright ©2018-2019 Guangmin Zheng.©"),a("a",{attrs:{href:"http://sourcedb.big.cas.cn/zw/zjrc/yjy/201311/t20131116_3979427.html",target:"_blank",title:"北京基因组研究所方向东"}},[e._v("Fang's Lab.")]),e._v(" All Rights Reserved.")])])],1)],1)])]),e._m(0)],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"bigd-footer",staticStyle:{"font-family":"Arial"}},[a("div",{staticClass:"bigd-container"},[a("div",{staticClass:"bigd-panel bigd-panel-default"},[a("div",{staticClass:"bigd-panel-body"},[a("div",{staticClass:"bigd-row"},[a("div",{staticClass:"bigd-col-md-2"},[a("a",{attrs:{href:"https://bigd.big.ac.cn/"}},[a("img",{staticClass:"bigd-img-responsive",staticStyle:{"margin-top":"calc((15/1920) * 100vw)"},attrs:{src:"https://bigd.big.ac.cn/cdn/image/CNCB-NGDC.png"}})]),a("ul",{staticClass:"bigd-list-unstyled"},[a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/about"}},[e._v("About NGDC")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/people"}},[e._v("People")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/mission"}},[e._v("Mission")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/board"}},[e._v("Advisory Board")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/structure"}},[e._v("Organizational Structure")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/history"}},[e._v("History")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/annual-report"}},[e._v("Annual Reports")])])])]),a("div",{staticClass:"bigd-col-md-2"},[a("h3",[e._v("Research & Resources")]),a("ul",{staticClass:"bigd-list-unstyled"},[a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/databases"}},[e._v("Databases")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/tools"}},[e._v("Tools")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/standards"}},[e._v("Standards")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/research"}},[e._v("Topics & Projects")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/publications"}},[e._v("Publications")])])])]),a("div",{staticClass:"bigd-col-md-2"},[a("h3",[e._v("Featured")]),a("ul",{staticClass:"bigd-list-unstyled"},[a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/databasecommons",target:"_blank"}},[e._v("Database Commons")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/ewas",target:"_blank"}},[e._v("EWAS Atlas")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/gsa",target:"_blank",title:"Genome Sequence Archive"}},[e._v("GSA")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/gvm",target:"_blank",title:"Genome Variation Map"}},[e._v("GVM")])]),a("li",[a("a",{attrs:{href:"http://ic4r.org",target:"_blank",title:"Information Commons for Rice"}},[e._v("IC4R")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/idog",target:"_blank"}},[e._v("iDog")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/methbank",target:"_blank",title:"Methylation DataBank"}},[e._v("MethBank")])])])]),a("div",{staticClass:"bigd-col-md-2"},[a("h3",[e._v("Conferences & Education")]),a("ul",{staticClass:"bigd-list-unstyled"},[a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/conference"}},[e._v("Conferences")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/education"}},[e._v("Education")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/training"}},[e._v("Training")])])])]),a("div",{staticClass:"bigd-col-md-2"},[a("h3",[e._v("Alliance & Collaboration")]),a("ul",{staticClass:"bigd-list-unstyled"},[a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/bhbd-alliance"}},[e._v("BHBD")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/partners"}},[e._v("Partners")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/collaborations"}},[e._v("Collaborations")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/funding"}},[e._v("Funding")])]),a("li",[a("a",{attrs:{href:"https://bigd.big.ac.cn/contact"}},[e._v("Contact Us")])])])])]),a("hr",{staticClass:"footer-hr"}),a("div",{staticClass:"bigd-row"},[a("div",{staticClass:"bigd-col-md-7"},[a("p",{staticClass:"bigd-text-muted"},[e._v(" © year National Genomics Data Center, "),a("span",[a("a",{attrs:{href:"http://english.big.cas.cn",target:"_blank"}},[e._v("China National Center for Bioinformation / Beijing Institute of Genomics")])]),e._v(", "),a("span",[a("a",{attrs:{href:"http://english.cas.cn",target:"_blank"}},[e._v("Chinese Academy of Sciences")])]),a("br"),e._v(" No.1 Beichen West Road, Chaoyang District, Beijing 100101, China"),a("br"),a("span",[a("a",{attrs:{href:"bigd_sitepolicies"}},[e._v("Policies and Disclaimers")])])]),a("p",{staticClass:"bigd-text-muted"},[a("span",[a("a",{attrs:{rel:"license",target:"_blank",href:"http://creativecommons.org/licenses/by/3.0/cn/"}},[a("img",{staticStyle:{"border-width":"0",height:"calc((15/1920) * 100vw)"},attrs:{alt:"Creative Commons License",src:"https://bigd.big.ac.cn/static/image/cc.png"}})])]),e._v(" This work is licensed under a "),a("span",[a("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/3.0/cn/",target:"_blank"}},[e._v("Creative Commons Attribution 3.0 China Mainland License")]),a("br"),a("a",{attrs:{href:"http://www.beian.miit.gov.cn",target:"_blank"}},[e._v("京ICP备10050270号")])])])]),a("div",{staticClass:"bigd-col-md-5"},[a("div",{staticClass:"pull-right"},[a("ul",{staticClass:"bigd-list-inline"},[a("li",[a("a",{attrs:{href:"http://english.big.cas.cn",target:"_blank"}},[a("img",{staticStyle:{width:"calc((32/1920) * 100vw)"},attrs:{src:"https://bigd.big.ac.cn/static/image/big_logo.png"}})])]),a("li",[a("a",{attrs:{href:"http://www.picb.ac.cn/picb",target:"_blank"}},[a("img",{staticStyle:{height:"calc((32/1920) * 100vw)"},attrs:{src:"https://bigd.big.ac.cn/static/image/picb.png"}})])]),a("li",[a("a",{attrs:{href:"http://english.ibp.cas.cn/",target:"_blank"}},[a("img",{staticStyle:{height:"calc((32/1920) * 100vw)"},attrs:{src:"https://bigd.big.ac.cn/static/image/ibp.png"}})])]),a("li",[a("a",{attrs:{href:"http://english.cas.cn/",target:"_blank"}},[a("img",{staticStyle:{height:"calc((32/1920) * 100vw)"},attrs:{src:"https://bigd.big.ac.cn/static/image/cas.png"}})])])])])])])])])])])}],r=a("5530"),s=(a("b0c0"),a("7db0"),a("2f62")),l=a("64a5"),c=a("de34"),u={name:"App",components:{HeaderBar:l["a"],Header:c["a"]},data:function(){return{values:[{id:1,name:"Home",link:"/",type:"ios-home"},{id:0,name:"Search",link:"/Search",type:"ios-search"},{id:2,name:"Erythroid Atlas",link:"/Erythroid Atlas",type:"ios-analytics"},{id:3,name:"Help",link:"/help",type:"ios-paper"},{id:4,name:"About",link:"/about",type:"ios-navigate"}],current_index:-1}},computed:{local:function(){return this.$store.state.app.local}},methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])(["setLocal","setBreadCrumb","setHomeRoute"])),{},{cg_current_index:function(e){this.current_index=e},openWindow:function(e){window.open(e)}}),watch:{$route:function(e){this.setBreadCrumb(e)}},mounted:function(){this.setLocal("en-US"),this.setHomeRoute(xe);var e=this.$route;e.name,e.params,e.query,e.meta;this.setBreadCrumb(this.$route),$(document).ready((function(){$("li.bigd-dropdown").hover((function(){$(this).find(".bigd-dropdown-menu").first().stop(!0,!0).delay(50).fadeIn()}),(function(){$(this).find(".bigd-dropdown-menu").first().stop(!0,!0).delay(50).fadeOut()})),$(".bigd-collapsed").click((function(){$("#bigd-coll").toggle();var e=$("#bigd-coll").css("display");"block"==e?$(".bigd-navbar").css("height","200px"):$(".bigd-navbar").css("height","30px")}))}))}},h=u,p=(a("9b75"),a("2877")),d=Object(p["a"])(h,i,o,!1,null,null,null),m=d.exports,g=m,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("Col",[a("h1",{staticClass:"h1_title"},[e._v(e._s(e.dataset_title))]),a("p")])],1),a("br"),a("Row",{staticClass:"detail_style"},[a("Col",[a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Dataset:")])]),a("Col",{attrs:{span:"19"}},[a("a",{attrs:{href:e.getSeriHref(),target:"_blank"}},[e._v(e._s(e.dataset))])])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Organism:")])]),a("Col",{attrs:{span:"19"}},[e._v(e._s(e.organism))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Source:")])]),a("Col",{attrs:{span:"19"}},[e._v(e._s(e.tissue))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Experiment Type:")])]),a("Col",{attrs:{span:"19"}},[e._v(e._s(e.growth_type))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Omics Type:")])]),a("Col",{attrs:{span:"19"}},[e._v(e._s(e.experiment_type))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Status:")])]),a("Col",{attrs:{span:"19"}},[e._v(e._s(e.status))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Summary:")])]),a("Col",{staticClass:"text_p",attrs:{span:"19"}},[e._v(e._s(e.summary))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Organization Name:")])]),a("Col",{attrs:{span:"19"}},[e._v(e._s(e.organization_name))])],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Platforms:")])]),a("Col",{attrs:{span:"19"},domProps:{innerHTML:e._s(e.platforms)}})],1),a("Row",[a("Col",{attrs:{span:"5"}},[a("strong",[e._v("Citation(s):")])]),a("Col",{attrs:{span:"19"},domProps:{innerHTML:e._s(e.citations)}})],1),a("Row",[a("strong",[e._v(" Samples("+e._s(e.totalRow)+") And Group:")])]),a("Row",[a("Table",{ref:"table",attrs:{columns:e.sampleCols,data:e.sampleData,size:"small"}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalRow,current:e.currentPage,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)])],1),a("Content",[a("Card",[a("div",[a("DatasetService"),a("All")],1)])],1),a("Row",[a("Collapse",[a("Panel",{attrs:{name:"0"}},[e._v(" Data processing "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.data_processing))])]),a("Panel",{attrs:{name:"_0"}},[e._v(" Normalization method "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.normalization_method))])]),a("Panel",{attrs:{name:"1"}},[e._v(" Overall design "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.overall_design))])]),a("Panel",{attrs:{name:"2"}},[e._v(" Contributor(s) "),a("p",{staticClass:"text_p",attrs:{slot:"content"},domProps:{innerHTML:e._s(e.contributors)},slot:"content"})]),a("Panel",{attrs:{name:"3"}},[e._v(" Submission date "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.submission_date))])]),a("Panel",{attrs:{name:"4"}},[e._v(" Contact name "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.contact_name))])]),a("Panel",{attrs:{name:"5"}},[e._v(" E-mails "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.e_mails))])]),a("Panel",{attrs:{name:"6"}},[e._v(" Organization name "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.organization_name))])]),a("Panel",{attrs:{name:"7"}},[e._v(" Country "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.country))])]),a("Panel",{attrs:{name:"8"}},[e._v(" City "),a("p",{staticClass:"text_p",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.city))])]),e.ifSub?a("Panel",{attrs:{name:"9"}},[e._v(" Subseries "),a("p",{staticClass:"text_p",attrs:{slot:"content"},domProps:{innerHTML:e._s(e.subseries)},slot:"content"})]):e._e()],1)],1)],1)],1),a("Row",[a("Col")],1)],1)},_=[],v=a("ade3"),y=(a("ac1f"),a("1276"),a("841c"),a("d81d"),a("159b"),a("a18c")),b=(a("313e"),a("6c9c")),C=a("39b2"),S=a("4644"),w={name:"DatasetDetail",components:{DatasetService:S["default"]},data:function(){var e;return e={sampleCols:[{title:"Sample ID",key:"gid",sortable:!0,filter:{type:"Input"},fixed:"left",width:120,render:function(e,t){return t.row.gid.indexOf("GSM")>-1?e("div",[e("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+t.row.gid,target:"_blank"}},t.row.gid)]):t.row.gid.indexOf("EGAD")>-1?e("div",[e("a",{attrs:{href:"https://web2.ega-archive.org/datasets/"+t.row.gid.split("_")[0],target:"_blank"}},t.row.gid)]):e("div",t.row.gid)}},{title:"Sample Name",key:"sample",sortable:!0,filter:{type:"Input"}},{title:"Organism",key:"organism",width:120,sortable:!0,filter:{type:"Input"}},{title:"Tissue",key:"tissue",width:120,sortable:!0,filter:{type:"Input"}},{title:"Cell Type",key:"cell_type",width:120,sortable:!0},{title:"Source",key:"source",sortable:!0,width:120},{title:"Growth Mode",key:"growth_mode",filter:{type:"Input"}},{title:"Development Type",key:"development_type",width:120,filter:{type:"Input"}},{title:"Group",key:"group",sortable:!0}],sampleData:[],source:"",spinShowSampleSource:!0,totalRow:40,currentPage:1,pageSize:10,enrich_data:[],enrich_layout:{},enrich_options:{},enrichGroup:"",publicPath:"/EryDB/",series:"",organism:"",tissue:"",growth_type:"",development_type:"",sample_numbers:"",organization_name:"",country:"",city:"",experiment_type:"",sequencing_type:"",status:"",summary:"",cell_types:"",samples:"",samples_count:"",ifSub:!1,subseries:"",platforms:"",citations:"",contributors:"",data_processing:"",normalization_method:"",overall_design:"",submission_date:"",contact_name:"",e_mails:""},Object(v["a"])(e,"sequencing_type",""),Object(v["a"])(e,"standardized_mode",""),Object(v["a"])(e,"experimental_materials",""),Object(v["a"])(e,"laboratory_reagents",""),Object(v["a"])(e,"sequencing_process",""),Object(v["a"])(e,"reference",""),Object(v["a"])(e,"href",""),Object(v["a"])(e,"dataset",this.$store.state.app.CurrentPageToken),Object(v["a"])(e,"dataset_title",""),Object(v["a"])(e,"search_placeholder",""),Object(v["a"])(e,"self",this),Object(v["a"])(e,"all_sample_tableData",[]),Object(v["a"])(e,"diff_tableData",[]),Object(v["a"])(e,"all_sample_tableColumns",[]),Object(v["a"])(e,"diff_tableColumns",[]),Object(v["a"])(e,"diff_exTbColums",[]),Object(v["a"])(e,"contrGroupOfEnrich",""),Object(v["a"])(e,"enrichGroup",""),Object(v["a"])(e,"goType",""),Object(v["a"])(e,"tableColumnsChecked",[]),Object(v["a"])(e,"tableColumnsData",[]),Object(v["a"])(e,"tableType",""),Object(v["a"])(e,"chartOptionsEL",{}),Object(v["a"])(e,"enrichGoOptions",{}),Object(v["a"])(e,"chartOptionsELbubble",{}),Object(v["a"])(e,"chartOptionsBoxPlot",{}),Object(v["a"])(e,"chartOptionsAllStack",{}),Object(v["a"])(e,"itemInfoTip",""),Object(v["a"])(e,"searchMicName",""),Object(v["a"])(e,"SpecifExpreTip",""),Object(v["a"])(e,"specif_name",""),e},methods:{intoClustGram:function(){y["a"].push({name:"ClustGram",params:{dataset:this.dataset}})},mockTableData:function(e,t,a){var n=this;n.spinShowTypeSource=!0,Object(C["q"])(e,t,a).then((function(e){n.spinShowTypeSource=!1;var t=e.data;console.log("getSampleGroupPageDataset"),console.log(t),1==t.signal&&(n.sampleData=t.list,n.totalRow=t.total)}))},getImgURL:function(){this.dataset;return a("b967")("./"+this.dataset+".png")},getHref:function(){if("Fang's Lab"==this.source)return"http://sourcedb.big.cas.cn/zw/zjrc/yjy/201311/t20131116_3979427.html"},getSeriHref:function(){if(this.dataset.indexOf("GSE")>-1)return"https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+this.dataset;if(this.dataset.indexOf("PMID")>-1){var e=this.dataset.split("PMID")[1];return"https://pubmed.ncbi.nlm.nih.gov/"+e}return this.dataset.indexOf("CRA")>-1?"https://ngdc.cncb.ac.cn/gsa/browse/"+this.dataset:"#"},getDatasetDetail:function(){var e=this;Object(b["f"])(this.$store.state.app.CurrentPageToken).then((function(t){var a=t.data;e.series=a.series,e.organism=a.organism,e.growth_type=a.growth_type,e.tissue=a.tissue,e.dataset_title=a.title,e.development_type=a.development_type,e.sample_numbers=a.sample_numbers,e.organization_name=a.organization_name,e.country=a.country,e.city=a.city,e.experiment_type=a.experiment_type,e.sequencing_type=a.sequencing_type,e.status=a.status,e.summary=a.summary;var n=a.samples,i="GSM   Sample Group<br/>";if(null!=n)for(var o=n.split(","),r=0;r<o.length;r++){var s=o[r].split(" ");s[0].indexOf("GSM")>-1&&(i=i+"<a href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+s[0]+">"+o[r]+"</a><br/>")}e.samples=i,e.data_processing=a.data_processing,e.normalization_method=a.normalization_method,e.overall_design=a.overall_design,e.samples_count=a.samples_count,e.submission_date=a.submission_date,e.contact_name=a.contact_name,e.e_mails=a.e_mails;var l=a.platforms,c="";if(null!=l)if(l.indexOf(",")>-1){var u=l.split(",");for(r=0;r<u.length;r++){var h=u[r].split(" ");h[0].indexOf("GPL")>-1&&(c=c+"<a target=_blank href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+h[0]+">"+u[r]+"</a>&nbsp;&nbsp;")}}else{var p=l.split(" ");c=c+"<a target=_blank href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+p[0]+">"+l+"</a>"}e.platforms=c;var d=a.subseries,m="";if(null===d)e.ifSub=!1;else{if(e.ifSub=!0,d.indexOf(",")>-1){var g=d.split(",");for(r=0;r<g.length;r++)m=m+"<a href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+g[r]+">"+g[r]+"</a><br/>"}else{var f=d;m="<a href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+f+">"+f+"</a>"}e.subseries=m}var _=a.citations,v="";if(null!=_)if(_.indexOf(",")>-1){var y=_.split(",");for(r=0;r<y.length;r++)v=v+"<a target=_blank href=https://pubmed.ncbi.nlm.nih.gov/"+y[r]+">"+y[r]+"</a>&nbsp;&nbsp;"}else{var b=_;v="<a target=_blank href=https://pubmed.ncbi.nlm.nih.gov/"+b+">"+b+"</a>"}e.citations=v;var C=a.contributors,S="";if(null!=C)if(C.indexOf(",")>-1){var w=C.split(",");for(r=0;r<w.length;r++)S=S+'<a href="https://www.ncbi.nlm.nih.gov/pubmed/?term='+w[r]+'[Author]">'+w[r]+"</a>&nbsp;&nbsp;"}else{var k=C;S='<a href="https://www.ncbi.nlm.nih.gov/pubmed/?term='+k+'[Author]">'+k+"</a>"}e.contributors=S;var x=a.series,P="";if(null!=x){var T=x.split(",");for(r=0;r<T.length;r++)P=P+"<a href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+T[r]+">"+T[r]+"</a>,"}e.experimental_materials=a.experimental_materials,e.laboratory_reagents=a.laboratory_reagents,e.sequencing_process=a.sequencing_process,e.reference=a.reference,e.href=a.href,e.sequencing_type=a.sequencing_type;null!=a.experiment_type&&"Expression profiling by array"==a.experiment_type&&(e.search_placeholder="Symbol, eg: A1BG,A1BG",e.searchMicName="mrna",e.tableType="expre",e.standardized_mode="normalized gene level expression values")})),Object(b["g"])(this.$store.state.app.CurrentPageToken).then((function(t){var a=t.data,n=a.sample,i=a.source;e.source=i;var o=a.gse,r=a.group,s="sid   sample group<br/>";if(null!=n)for(var l=0;l<n.length;l++)s=o[l].indexOf("SAMC")>-1?s+"<a href=https://bigd.big.ac.cn/gsa/s/sample/"+o[l]+"/brFIwkBd >"+o[l]+"</a> "+n[l]+"    "+r[l]+"<br/>":o[l].indexOf("GSM")>-1?s+"<a href=https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+o[l]+">"+o[l]+"</a> "+n[l]+"    "+r[l]+"<br/>":s+"<a>"+o[l]+"</a> "+n[l]+"    "+r[l]+"<br/>";e.samples=s}))},setsearch_placeholder:function(e){var t=this;t.search_placeholder="Enter "+e.split("-")[0]+" name...",t.search_datatype=e.split("-")[0]},setOthersearchItems:function(e){var t=this,a=e.split("-")[0],n=[];-1!=a.search("mRNA")&&n.push({name:"GeneCards",link:"http://www.genecards.org/cgi-bin/carddisp.pl?gene="+t.specif_name},{name:"NCBI",link:"https://www.ncbi.nlm.nih.gov/gene/?term=ENSG00000125148"},{name:"Ensembl",link:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g="+t.specif_name},{name:"EBI",link:"hhttp://www.ebi.ac.uk/gxa/query?geneQuery="+t.specif_name},{name:"OMIM",link:"https://omim.org/search/?search="+t.specif_name},{name:"COSMIC",link:"http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln="+t.specif_name},{name:"HPA",link:"http://www.proteinatlas.org/ENSG00000125148-MT2A/tissue"},{name:"DrugBank",link:"https://www.drugbank.ca/unearth/q?query="+t.specif_name+"&searcher=targets"}),-1!=a.search("miRNA")&&n.push({name:"GeneCards",link:"http://www.genecards.org/cgi-bin/carddisp.pl?gene="+t.specif_name},{name:"NCBI",link:"https://www.ncbi.nlm.nih.gov/gene/?term=ENSG00000125148"},{name:"Ensembl",link:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g="+t.specif_name},{name:"EBI",link:"hhttp://www.ebi.ac.uk/gxa/query?geneQuery="+t.specif_name},{name:"OMIM",link:"https://omim.org/search/?search="+t.specif_name},{name:"COSMIC",link:"http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln="+t.specif_name},{name:"HPA",link:"http://www.proteinatlas.org/ENSG00000125148-MT2A/tissue"},{name:"DrugBank",link:"https://www.drugbank.ca/unearth/q?query="+t.specif_name+"&searcher=targets"}),-1!=a.search("lncRNA")&&n.push({name:"GeneCards",link:"http://www.genecards.org/cgi-bin/carddisp.pl?gene="+t.specif_name},{name:"NCBI",link:"https://www.ncbi.nlm.nih.gov/gene/?term=ENSG00000125148"},{name:"Ensembl",link:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g="+t.specif_name},{name:"EBI",link:"hhttp://www.ebi.ac.uk/gxa/query?geneQuery="+t.specif_name},{name:"OMIM",link:"https://omim.org/search/?search="+t.specif_name},{name:"COSMIC",link:"http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln="+t.specif_name},{name:"HPA",link:"http://www.proteinatlas.org/ENSG00000125148-MT2A/tissue"},{name:"DrugBank",link:"https://www.drugbank.ca/unearth/q?query="+t.specif_name+"&searcher=targets"}),t.othersearch_items=[],t.othersearch_items=n},drawSequenceEchartByTabletype:function(e){var t=this,a=this.$echarts.init(document.getElementById("expression_sequence"));Object(b["u"])(t.dataset,e).then((function(n){var i=n.data;t.spinShow2=!1;var o=i.axisData,r=i.data,s=r.map((function(e,t){return{source:t,target:t+1}}));s.pop();var l={title:{text:"The expression of "+e+" all samples during "+t.dataset,x:"center",y:"top",textAlign:"center"},tooltip:{},xAxis:{type:"category",boundaryGap:!1,data:o},yAxis:{type:"value"},series:[{type:"graph",layout:"none",coordinateSystem:"cartesian2d",symbolSize:40,label:{normal:{show:!0}},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,10],data:r,links:s,lineStyle:{normal:{color:"#2f4554"}}}]};a.setOption(l)}))},getChartExpreRange:function(e){var t=this;Object(b["l"])(t.dataset,e).then((function(a){var n=a.data;t.spinShow3=!1,t.chartOptionsEL={chart:{type:"column"},title:{text:e+" expression levels"},subtitle:{text:"Data Souce:"+t.source},loading:{hideDuration:1e3,showDuration:1e3},xAxis:{categories:["0-5","5-10","10-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90","90-100","100-1000",">1000"],title:{text:t.standardized_mode+" Range"},crosshair:!0},yAxis:{min:0,title:{text:"Sum"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},credits:{enabled:!1},plotOptions:{column:{borderWidth:0}},series:n,exporting:{}}}))},getchartOptionsAllStack:function(){var e=this;Object(b["a"])(e.dataset,e.sequencing_type).then((function(t){var a=t.data;e.spinShow1=!1,e.chartOptionsAllStack={chart:{type:"column"},title:{text:"The expression distribution of  all samples during the red line differentiation stage"},xAxis:{categories:a.categories},yAxis:{min:0,title:{text:"Total proportion"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:"percent"}},credits:{enabled:!1},series:a.series}}))},getTable2Columns:function(){var e=this,t=[];return e.tableColumnsChecked.forEach((function(e){return t.push({title:e,key:e,width:150,sortable:!0})})),t},changeTableColumns:function(){var e=this;e.all_sample_tableColumns=e.getTable2Columns()},handleCurrentChange:function(e,t){var a=this;this.currentPage=e,a.mockTableData(this.dataset,this.currentPage,this.pageSize)},handleSizeChange:function(e,t){var a=this;this.pageSize=e,a.mockTableData(this.dataset,this.currentPage,this.pageSize)},changedataType_getMicInfo:function(e){var t=this;t.setsearch_placeholder(e),t.setOthersearchItems(e)},changeExpreRange:function(e){var t=this;t.getChartExpreRange(e)}},mounted:function(){this.getDatasetDetail(),this.mockTableData(this.dataset,this.currentPage,this.pageSize)},watch:{$route:"getParams"}},k=w,x=(a("64ae"),Object(p["a"])(k,f,_,!1,null,null,null)),P=x.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("div",{staticClass:"my_layout-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{id:"chart_choice"}},[a("div",{staticClass:"row_choice"},[a("span",{staticClass:"h4_title"},[e._v("Organism:")]),a("RadioGroup",{staticClass:"myOption",on:{"on-change":function(t){return e.changeOrgaType(t)}}},e._l(e.OrgaList,(function(t,n){return a("Radio",{key:n,staticClass:"myOption",attrs:{label:t.value}},[a("span",{staticClass:"myOption"},[e._v(e._s(t.label))])])})),1)],1),a("div",{staticClass:"row_choice"},[a("span",{staticClass:"h4_title"},[e._v("Experiment Type:")]),a("RadioGroup",{staticClass:"myOption",on:{"on-change":function(t){return e.changeExperimentType(t)}}},e._l(e.DataTypeList,(function(t,n){return a("Radio",{key:n,staticClass:"myOption",attrs:{label:t.value}},[a("span",{staticClass:"myOption"},[e._v(e._s(t.label))])])})),1)],1),a("div",{staticClass:"row_choice"},[a("span",{staticClass:"h4_title"},[e._v("Sequence Type:")]),a("RadioGroup",{staticClass:"myOption",on:{"on-change":function(t){return e.changeSequnceType(t)}}},e._l(e.typeList,(function(t,n){return a("Radio",{key:n,staticClass:"myOption",attrs:{label:t.value}},[a("span",{staticClass:"myOption"},[e._v(e._s(t.label))])])})),1)],1)]),a("div"),a("div",{staticClass:"row_choice"},[a("h3",{staticClass:"h3_title"},[e._v("Analyze Content:")]),a("Row",{staticStyle:{background:"#eee",padding:"20px"},attrs:{gutter:16}}),e._l(e.analList,(function(t,n){return a("div",{key:n,staticClass:"anal_div"},[a("div",{on:{click:function(a){return e.changeDom(t.value)}}},[a("span",{staticClass:"servetitle"},[e._v(e._s(t.label))])])])}))],2),a("div",{staticClass:"layout-header"})]),a("div",{staticClass:"layout-content-main"},["all_Expression"==e.dom?a("All",{attrs:{"select-list":e.selectList}}):e._e(),"all_Clutser"==e.dom?a("AllClutser",{attrs:{"select-list":e.selectList}}):e._e(),"all_Diff"==e.dom?a("AllDiff",{attrs:{"select-list":e.selectList}}):e._e(),"all_Enrich"==e.dom?a("AllEnrich",{attrs:{"select-list":e.selectList}}):e._e(),"scPCA"==e.dom?a("ScPCA",{attrs:{"select-list":e.selectList}}):e._e(),"FeaturePlot"==e.dom?a("FeaturePlot",{attrs:{"select-list":e.selectList}}):e._e(),"Diffanal"==e.dom?a("Diffanal",{attrs:{"select-list":e.selectList}}):e._e(),"ClusterDiffTrajectory"==e.dom?a("ClusterDiffTrajectory",{attrs:{"select-list":e.selectList}}):e._e(),"ScInterraction"==e.dom?a("ScInterraction",{attrs:{"select-list":e.selectList}}):e._e(),"ScCommunication"==e.dom?a("ScCommunication",{attrs:{"select-list":e.selectList}}):e._e()],1),a("div",{staticClass:"row_choice"},[e._v(" Samples("+e._s(e.totalRow)+") And Group: "),a("Table",{attrs:{stripe:"",type:!0,model:e.search,"v-model":e.search,data:e.sgroupData,columns:e.sgroupCols},on:{"update:model":function(t){e.search=t},"on-search":e.onSearch_Allsample}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalRow,current:e.currentPage,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)])],1)])},D=[],E=a("53ca"),O=(a("5319"),a("ddd7")),G=a("e6ca"),z=a("2644"),M=a("2b3f"),j=a("4f76"),B=a("a81b"),A=a("fa49"),R=a("080f"),L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Cluster's Markers HeatMap")]),a("br"),a("Row",{attrs:{gutter:16}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Add feature name: "}},[a("Input",{attrs:{search:"","enter-button":"Add",placeholder:"Please input gene symbol"},on:{"on-search":function(t){return e.addFeatureByName(t)}}})],1)],1),a("i-col",{attrs:{span:"3"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.reFeatureByName(t)}}},[e._v("Remove")])],1)],1)],1),a("Row",[a("div",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.ClusterHotMapMarkerdata,layout:e.ClusterHotMapMarker_layout,options:e.ClusterHotMapMarker_option}})],1)])],1),a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Cluster's Enrichment Analysis")]),a("br"),a("Row",{attrs:{gutter:16}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Enrich Cluster: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedEnrichChart}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Enrich Type: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select Enrich Type",filterable:""},on:{"on-change":e.changeEnrichType}},e._l(e.goTypeList,(function(t,n){return a("i-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[a("div",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{watchShallow:e.ifResize,autoResize:e.ifResize,data:e.enrich_data,layout:e.enrich_layout,options:e.enrich_option}})],1)])],1)])},I=[],F=a("43e0"),N=a.n(F),q={name:"sc_all_ClusterMarker",components:{VuePlotly:N.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{ifResize:!0,ClusterHotMapMarkerdata:[],enrich_data:[],enrichType:"CC",goTypeList:[{name:"GO-CC",value:"CC"},{name:"GO-MF",value:"MF"},{name:"GO-BP",value:"BP"},{name:"KEGG",value:"KEGG"}],ClusterHotMapMarker_option:{responsive:!0},enrich_option:{responsive:!0},ClusterHotMapMarker_layout:{title:"Identity features for each cluster(Organism:"+this.orga_name+";group:"+this.source+")",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}},enrich_layout:{},spinShow2:"true",enrichShow:!1,spinShow1:"true",TSNE_data:[],TSNE_layout:{},contrasts_group:[],TSNE_options:{responsive:!0},showByGroup:"",series:this.$store.state.app.CurrentPageToken,data_source_list:[],source:"",source2:"",group_type_list:[],z_list:[],y_list:[],x_list:[],feature_list:[{name:"C1QC"},{name:"HIST1H4C"}]}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{addFeatureByName:function(e){var t=this,a=this;console.log("feature_name"),console.log(e),"undefined"==typeof this.source?this.$Message.info("Please select data source firstly",10):"undefined"==typeof e||null==e?this.$Message.info("Please input gene name ",10):(a.spinShow1=!0,Object(b["m"])(this.table_name,this.source,e).then((function(e){var n=e.data;if(console.log(n.col_list),0===n.col_list){var i;t.$Message.info("no data about this feature",10);var o=t.z_list,r=t.y_list,s=t.x_list,l=[{z:o,x:s,y:r,type:"heatmap",colorscale:"YlGnBu",textposition:"outside",cliponaxis:FALSE,hoverongaps:!1}],c=(i={title:"Identity features for each cluster",autosize:!1,xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:40}},yaxis:{title:"Feature name"}},Object(v["a"])(i,"title","Identity features for each cluster"),Object(v["a"])(i,"xaxis",{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}}),Object(v["a"])(i,"yaxis",{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}),i);a.ClusterHotMapMarker_layout=c,t.ClusterHotMapMarkerdata=l,a.spinShow1=!1}else{t.z_list.push(n.col_list);o=t.z_list;t.y_list.push(n.feature_name);r=t.y_list,s=t.x_list,l=[{z:o,x:s,y:r,type:"heatmap",colorscale:"YlGnBu",hoverongaps:!1}],c={title:"Identity features for each cluster",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}};t.ClusterHotMapMarker_layout=c,t.ClusterHotMapMarkerdata=l,a.spinShow1=!1}})))},reFeatureByName:function(){console.log("feature_name");this.z_list.pop();var e=this.z_list;this.y_list.pop();var t=this.y_list,a=this.x_list;console.log(this.y_list),console.log(this.z_list);var n=[{z:e,x:a,y:t,type:"heatmap",colorscale:"YlGnBu",hoverongaps:!1}],i={title:"Identity features for each cluster",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}};this.ClusterHotMapMarker_layout=i,this.ClusterHotMapMarkerdata=n},changeEnrichType:function(e){this.enrichType=e,this.getEnrichChart()},changedEnrichChart:function(e){console.log(e),"undefined"===typeof e?this.group=e:(this.group=e,this.getEnrichChart(this.table_name,this.source,e))},getEnrichChart:function(){var e=this;this.enrichShow=!0,""==this.source2&&this.$Message.info("please select data source",10),""==this.group&&this.$Message.info("please select enrich group",10),this.spinShow2=!0,Object(b["d"])(this.table_name,this.source,this.group,this.enrichType).then((function(t){var a=t.data;console.log("===="),console.log(a.log_p_adjust),console.log(a.Description);var n=[{x:a.log_p_adjust,y:a.Description,type:"bar",orientation:"h"}],i={title:"Enrichment("+e.enrichType+") of (Organism:"+e.orga_name+";group:"+e.source+")",xaxis:{title:"-log10(p.adjust)",showgrid:!1,zeroline:!1},yaxis:{title:" Term [-log10(p.adjust)]",showline:!1,tickmode:"array",automargin:!0,titlefont:{size:15}}};e.enrich_layout=i,e.enrich_data=n,e.spinShow2=!1}))},changedDataSource:function(e){this.source2=e,this.getEnrichGroup(this.table_name,e)},getEnrichGroup:function(e,t){var a=this;Object(b["c"])(e,t).then((function(e){console.log("enrich group");var t=e.data;console.log(t),a.group_type_list=[],a.group=t[0],t.forEach((function(e){return a.group_type_list.push({name:e})})),a.getEnrichChart()}))},pcaMeta:function(e,t){var a=this,n=this;Object(b["A"])(e,t).then((function(e){var t=e.data;console.log(t),n.colnames=t,a.group_type_list=[],t.forEach((function(e){return a.group_type_list.push({name:e})}))}))},changedShowGroup:function(e){if("undefined"===typeof e)this.source=e;else{this.source=e,this.source2=e,this.getMarkerChart(this.table_name,this.source),this.getEnrichGroup(this.table_name,this.source)}},changedMarkerChart:function(e){this.getMarkerChart(this.table_name,this.source)},getMarkerChart:function(e,t){var a=this,n=this;n.spinShow1=!0,Object(b["e"])(e,t).then((function(e){var i=e.data,o=i.d_res;a.z_list=i.d_res,a.y_list=i.col_list,a.x_list=i.group;var r=i.group,s=i.col_list,l=[{z:o,x:r,y:s,type:"heatmap",colorscale:"YlGnBu"}],c={title:"Identity features for each cluster(Organism:"+a.orga_name+";group:"+t+")",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}};a.ClusterHotMapMarker_layout=c,a.ClusterHotMapMarkerdata=l,n.spinShow1=!1}))},changedFeatureName:function(e){this.getFeaturePlot(this.table_name,e)},getFeatureByName:function(e){this.getFeaturePlot(this.table_name,this.source,e)},getDataSourceList:function(e){var t=this;Object(b["B"])(e).then((function(e){var a=t,n=e.data;console.log(n);var i=n;t.source=i[0].source_g,t.source2=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g})})),t.getMarkerChart(t.table_name,i[0].source_g),t.getEnrichGroup(t.table_name,i[0].source_g)}))}},mounted:function(){this.getDataSourceList(this.table_name)}},H=q,V=(a("3ab9"),Object(p["a"])(H,L,I,!1,null,"5ebc7594",null)),U=V.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Cluster's Differential Analysis")]),a("br"),a("div",[a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Contrast Cluster: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"on-change":e.changedDiffChart}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.diff_data,layout:e.diff_layout,options:e.diff_options}})],1),a("Br"),a("Row",[a("Table",{ref:"table",attrs:{columns:e.diffCols,data:e.diffData,size:"small"}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalRow,current:e.currentPage,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":e.handleCurrentChange,"on-page-size-change":e.handleSizeChange}})],1)])],1)],1),a("br"),a("div",[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Cluster's Enrichment Analysis")]),a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Contrast Cluster: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"on-change":e.changedDiffChart2}},e._l(e.group_type_list2,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Enrich type: "}},[a("i-select",{attrs:{model:e.enrichGroup,clearable:"",placeholder:"Pleace select Enrich Type",filterable:""},on:{"update:model":function(t){e.enrichGroup=t},"on-change":e.changeEnrichType}},e._l(e.goTypeList,(function(t,n){return a("i-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.enrichGO_data,layout:e.enrichGO_layout,options:e.enrichGO_options}})],1)],1)])},Y=[],W={0:{value:">0.05",name:">0.05"},1:{value:"=<0.05",name:"=<0.05"}},Q={name:"sc_all_Diffanal",components:{VuePlotly:N.a,FilterTable:O["a"]},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{enrichGroup:"",goTypeList:[{name:"GO-CC",value:"CC"},{name:"GO-MF",value:"MF"},{name:"GO-BP",value:"BP"},{name:"KEGG",value:"KEGG"}],series:this.$store.state.app.CurrentPageToken,ifResize:!0,spinShow1:"true",spinShow2:"true",diff_data:[],diff_layout:{},contrasts_group:[],enrichGO_layout:{},data_source_list:[],source:"",source2:"",currentPage:1,pageSize:10,totalRow:400,diff_options:{responsive:!0},sourceGroup:"vivo",diffData:[],diffCols:[{title:"Symbol",key:"symbol",sortable:!0,filter:{type:"Input"},fixed:"left"},{title:"p_val",key:"p_val",sortable:!0,filter:{type:"Input"}},{title:"avg_logFC",key:"avg_logFC",sortable:!0,filter:{type:"Input"}},{title:"pct.1",key:"pct.1",sortable:!0,filter:{type:"Input"}},{title:"pct.2",key:"pct.2",sortable:!0,filter:{type:"Input"}},{title:"p_val_adj",key:"p_val_adj",sortable:!0,filter:{type:"Select",option:W}}],group_type_list:[],group_type_list2:[],group:"",gorup2:"",enrichGO_data:[],enrichType:"CC",enrichGO_options:{responsive:!0}}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getDataSourceList:function(e){var t=this;Object(b["B"])(this.table_name).then((function(e){var a=t,n=e.data,i=n;t.source=i[0].source_g,t.source2=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g})})),t.getContrastGroup(t.table_name,i[0].source_g),t.getContrastGroup2(t.table_name,i[0].source_g)}))},changedDiffChart:function(e){if(console.log(e),this.group=e,"undefined"===typeof e)this.group=e;else{this.group=e,this.getdiff_chart(this.table_name,this.source,e);var t=this.table_name;this.mockTableData(t,this.currentPage,this.pageSize,e)}},changedDiffChart2:function(e){console.log(e),this.group2=e,this.getdiffEnrich_chart(this.table_name,e,this.enrichType)},changeEnrichType:function(e){this.enrichType=e,this.getdiffEnrich_chart(this.table_name,this.group2,e)},changedDataSource:function(e){this.source=e,this.getContrastGroup(this.table_name,e)},changedDataSource2:function(e){this.source2=e,this.getContrastGroup2(this.table_name,e)},getdiffEnrich_chart:function(e,t,a){var n=this,i=this;i.spinShow2=!0,Object(b["t"])(e,t,a).then((function(e){var a=e.data;console.log("enrich data "),console.log(a);var o=a.xData,r=a.yData,s=a.nData;a.tData;n.enrichGO_data=[];for(var l=0;l<o.length;l++){var c={x:o[l],y:r[l],name:s[l],type:"bar",orientation:"h"};n.enrichGO_data.push(c)}var u={title:"Enrichment("+n.enrichType+") of "+t,xaxis:{title:"-log10(p.adjust)"},yaxis:{title:{text:" Term [-log10(p.adjust)]",position:"top",standoff:40,yanchor:"top"},automargin:!0,rangemode:"normal",dtick:1,exponentformat:function(e){return e.length>30?e.substring(0,30)+"...":e}},margin:{l:300}};n.enrichGO_layout=u,i.spinShow2=!1}))},getDiffContrastGroup:function(e){var t=this;Object(b["r"])(e).then((function(a){var n=t,i=a.data;console.log(i);n.group=i[0],n.group_type_list=[],i.forEach((function(e){return n.group_type_list.push({name:e})}));var o=e;t.getdiff_chart(t.table_name,t.source,i[0]),t.mockTableData(o,t.currentPage,t.pageSize,i[0])}))},getEnrichContrastGroup2:function(){var e=this;Object(b["s"])(this.table_name,this.source2).then((function(t){var a=t.data;console.log(a);e.group_type_list2=[],a.forEach((function(t){return e.group_type_list2.push({name:t})})),e.group2=a[0],e.getdiffEnrich_chart(e.table_name,a[0],e.enrichType)}))},onSearch_diff:function(e){var t=this,a=this;for(var n in e){var i=e[n];if("object"===Object(E["a"])(i))return void this.$Message.info("Please check your input of  "+n,15);if(0===i.replace(/\s*/g,"").length.length)return this.$Message.info("Please check your input of  "+n,15),void this.load()}searchDatasetByParms(e,a.currentPage,a.pageSize).then((function(e){a.spinShowTypeSource=!1;var n=e.data;1===n.signal?t.$Message.info("No related datasets",15):(a.datasets=n.list,a.total=n.total)}))},getdiff_chart:function(){var e=this,t=this;t.spinShow1=!0,Object(b["q"])(this.table_name,this.group).then((function(a){var n=a.data;console.log(n);var i=[{x:n.no_signifcant.logFC,y:n.no_signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Not Signifcant",text:n.no_signifcant.genes,marker:{size:4}},{x:n.signifcant.logFC,y:n.signifcant.adj_P_Val,mode:"markers",type:"scatter",name:"Signifcant",text:n.signifcant.genes,marker:{size:4}}];e.diff_data=i;var o={title:"Differential Analysis "+e.group,subtitle:{text:"Data Souce:"+e.table_name},xaxis:{title:"Log2(FC)"},yaxis:{title:"-Log2(adj.P.Val)"}};e.diff_layout=o,t.spinShow1=!1}))},changedContrGroup:function(e){this.getdiff_chart(this.table_name,e);var t=this.table_name;this.mockTableData(t,this.currentPage,this.pageSize,e)},changedSourceGroup:function(e){this.table_name="all_rna_dev_bulk_"+e,this.sourceGroup=e},mockTableData:function(e,t,a,n){var i=this;i.spinShowTypeSource=!0,Object(C["o"])(e,t,a,n).then((function(e){i.spinShowTypeSource=!1;var t=e.data;console.log(t),1==t.signal&&(console.info(t.list),i.diffData=t.list,i.totalRow=t.total)}))},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e;var t=this.table_name;this.mockTableData(t,this.currentPage,this.pageSize,this.group)},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e;var t=this.table_name;this.mockTableData(t,this.currentPage,this.pageSize,this.group)}},mounted:function(){this.getDataSourceList(this.table_name),this.getDiffContrastGroup(this.table_name),this.getEnrichContrastGroup2(this.table_name)}},J=Q,Z=(a("2677"),Object(p["a"])(J,K,Y,!1,null,null,null)),X=Z.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Pseudotime Trajectory")]),a("br"),a("Row",{attrs:{gutter:16}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup2}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.pseudo_data,layout:e.pseudo_layout,options:e.pseudo_options}})],1)],1),a("div",[a("br"),a("h1",{staticClass:"my_h1"},[e._v("Differentiation Trajectory")]),a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Color by: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedTraChart}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.Tra_data,layout:e.Tra_layout,options:e.Tra_options}})],1)],1)])},te=[],ae={name:"sc_all_ClusterDiffTrajectory",components:{VuePlotly:N.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{spinShow1:"true",Tra_data:[],Tra_layout:{},contrasts_group:[],pseudo_data:[],pseudo_layout:{},pseudo_options:{responsive:!0},spinShow2:"true",Tra_options:{responsive:!0},showByGroup:"",series:this.$store.state.app.CurrentPageToken,source:"",source2:"",group_type_list:[],data_source_list:[],colnames:[]}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getTraChart:function(e,t,a){var n=this,i=this;i.spinShow1=!0,console.log(this.table_name),Object(b["x"])(e,t,a).then((function(e){var a=e.data;console.log(a);for(var o=a.xData,r=a.yData,s=a.gData,l=[],c=0;c<o.length;c++){var u={x:o[c],y:r[c],mode:"markers",type:"scatter",name:s[c],marker:{size:6}};l.push(u)}n.Tra_data=l;var h={title:"Differentiation Trajectory ("+n.table_name+" "+t+")",xaxis:{title:"Component 1"},yaxis:{title:"Component 2"}};n.Tra_layout=h,i.spinShow1=!1}))},getTraCol:function(e,t){var a=this,n=this;Object(b["y"])(e,t).then((function(e){var t=e.data;console.log(t),n.colnames=t,a.group_type_list=[],t.forEach((function(e){return a.group_type_list.push({name:e})}))}))},getPseudoPlot:function(e,t){var a=this,n=this;n.spinShow2=!0,console.log(this.table_name),""!=t?Object(b["p"])(e,t).then((function(e){var i=e.data;console.log(i);var o=i;a.pseudo_data=o;var r={title:"Pseudotime Trajectory("+a.table_name+" "+t+")",xaxis:{title:"Component 1"},yaxis:{title:"Component 2"},legend:{y:.5,yref:"paper",font:{family:"Arial, sans-serif",size:20,color:"grey"}}};a.pseudo_layout=r,n.spinShow2=!1})):this.$Message.info("please select data source",10)},changedShowGroup:function(e){this.source=e,this.getTraCol(this.table_name,e)},changedShowGroup2:function(e){this.source2=e,this.getPseudoPlot(this.table_name,e)},changedTraChart:function(e){console.log(e),this.getTraChart(this.table_name,this.source,e)},getDataSourceList:function(e){var t=this;Object(b["B"])(this.table_name).then((function(e){var a=t,n=e.data;console.log(n);var i=n;t.source=i[0].source_g,t.source2=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g})})),t.getPseudoPlot(t.table_name,i[0].source_g),t.getTraChart(t.table_name,i[0].source_g,"celltype")}))}},mounted:function(){this.getDataSourceList(this.table_name)}},ne=ae,ie=Object(p["a"])(ne,ee,te,!1,null,null,null),oe=ie.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("Row",[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Interraction Atlas")]),a("br"),a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Select cell source",clearable:"",filterable:""},on:{"on-change":e.changedSourceGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Communication type: "}},[a("i-select",{attrs:{placeholder:"Select communication type",clearable:"",filterable:""},on:{"on-change":e.changedCommType}},e._l(e.comm_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1),a("br"),a("br")],1),a("br"),a("Row",[a("div",[a("div",{staticStyle:{width:"100%",height:"400%","text-aglign":"center"},attrs:{id:"Net_view"}})])]),a("br"),a("br")],1)},se=[],le=(a("99af"),{name:"all_ScInterraction",components:{VuePlotly:N.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){var e;return e={dataset_name:this.$store.state.app.CurrentPageToken,comm_type:"",comm_type2:"",enrichGO_layout:{},enrichGO_options:{responsive:!0},contrasts_group:[],contrastsGroup:"",source:"",source2:"",contrGroupOfEnrich:"",GOformItem:{},spinShow2:"true",series:this.$store.state.app.CurrentPageToken,enrichGroup:""},Object(v["a"])(e,"contrasts_group",[]),Object(v["a"])(e,"enrichGroupList",[]),Object(v["a"])(e,"table_name","all_rna_dev_bulk_vivo"),Object(v["a"])(e,"data_source_list",[]),Object(v["a"])(e,"data_source_list2",[]),Object(v["a"])(e,"comm_type_list",[{name:"all"},{name:"growth factor"},{name:"other"},{name:"cytokine"},{name:"checkpoint"}]),e},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getDataSourceList:function(e){var t=this;Object(b["B"])(this.table_name).then((function(e){var a=t,n=e.data;console.log(n);var i=n;t.source=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g}),a.data_source_list2.push({name:e.source_g})}));var o=t.table_name;t.getNetView(o,t.source,"all")}))},getCellSource:function(){Object(G["g"])().then((function(e){for(var t=e.data.dev_types,a=0;a<t.length;a++);}))},getNetView:function(e,t,a){var n=this,i=this.$echarts.init(document.getElementById("Net_view"));i.showLoading(),Object(G["i"])(e,t,a).then((function(e){i.hideLoading();var t=e.data;console.log(t);for(var o=t.nodes,r=t.links,s=t.categories,l=[],c=[],u=0;u<s.length;u++){l[u]={name:s[u]};for(var h=[],p=0;p<o.length;p++)s[u]===o[p].category&&0===o[p].c_f&&h.push(o[p]);for(p=0;p<o.length;p++)s[u]===o[p].category&&1===o[p].c_f&&h.push(o[p]);console.log(h),c=c.concat(h)}console.log(c),c.forEach((function(e){e.id=e.id,e.value=e.symbolSize,e.symbolSize/=1.5,e.label={normal:{show:e.name}},e.category=e.category}));var d={title:{text:"Top 40 factor of "+a+"("+n.source+")",subtext:"Circular layout",top:"bottom",left:"left"},tooltip:{},legend:[{data:l.map((function(e){return e.name}))}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"Top 40 "+a+" factor",type:"graph",layout:"circular",circular:{rotateLabel:!0},data:c,links:r,categories:l,roam:!0,label:{position:"right",formatter:"{b}"},edgeSymbol:["no","arrow"],edgeSymbolSize:[.4,10]}]};i.setOption(d)}))},getLRPlot_chart:function(e,t,a){var n=this.$echarts.init(document.getElementById("LRPlot_view"));n.showLoading(),alert(t),Object(G["i"])(e,t,a).then((function(e){n.hideLoading();var t=e.data;console.log(t);for(var i=t.nodes,o=t.links,r=t.categories,s=[],l=[],c=0;c<r.length;c++){s[c]={name:r[c]};for(var u=[],h=0;h<i.length;h++)r[c]===i[h].category&&0===i[h].c_f&&u.push(i[h]);for(h=0;h<i.length;h++)r[c]===i[h].category&&1===i[h].c_f&&u.push(i[h]);console.log(u),l=l.concat(u)}console.log(l),l.forEach((function(e){e.id=e.id,e.value=e.symbolSize,e.symbolSize/=1.5,e.label={normal:{show:e.name}},e.category=e.category}));var p={title:{text:"Top 40 "+a+" factor",subtext:"Circular layout",top:"bottom",left:"right"},tooltip:{},legend:[{data:s.map((function(e){return e.name}))}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"Top 40 factor of "+a,type:"graph",layout:"circular",circular:{rotateLabel:!0},data:l,links:o,categories:s,roam:!0,label:{position:"right",formatter:"{b}"},edgeSymbol:["no","arrow"],edgeSymbolSize:[.4,10]}]};n.setOption(p)}))},changedContrGroupOfEnrich:function(e){var t=[],a=this,n=e.split("-");n.forEach((function(e){return t.push({name:e})})),a.enrichGroupList=t,this.contrGroupOfEnrich=e},changeGoType:function(e){this.goType=e},changenrichType:function(e){this.enrichGroup=e},changedCommType:function(e){this.comm_type=e;var t=this.table_name;this.getNetView(t,this.source,e)},changedCommType2:function(e){this.comm_type2=e;var t=this.table_name;this.getLRPlot_chart(t,this.source,e)},changedSourceGroup:function(e){this.source=e},changedSourceGroup2:function(e){this.source2=e}},mounted:function(){this.getDataSourceList(this.table_name);var e=document.getElementById("Net_view"),t=function(){e.style.height=.85*window.innerHeight+"px",e.style.width=.75*window.innerWidth+"px"};t();var a=this.$echarts.init(e),n={};a.setOption(n),window.onresize=function(){t(),console.log("=="),a.resize()}}}),ce=le,ue=(a("9cfe"),Object(p["a"])(ce,re,se,!1,null,null,null)),he=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Single Cell Communication Pattern")]),a("br"),a("div",[a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{staticStyle:{width:"80%"},attrs:{placeholder:"Select cell source",clearable:"",filterable:""},on:{"on-change":e.changedSourceGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Signal pattern: "}},[a("i-select",{attrs:{model:e.contrastsGroup,clearable:"",placeholder:"Please select signal pattern",filterable:""},on:{"update:model":function(t){e.contrastsGroup=t},"on-change":e.changedSigPattern}},e._l(e.sigPattern_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",{attrs:{gutter:4}},[a("Col",{attrs:{span:"8"}},[a("highcharts",{staticClass:"river_container",attrs:{options:e.Cell_Chart_RiverCell}})],1),a("Col",{attrs:{span:"16"}},[a("div",[a("highcharts",{staticClass:"river_container",attrs:{options:e.Cell_Chart_RiverPath}})],1)])],1)],1),a("br"),a("br"),a("div",{staticClass:"pathway_info"},[a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Signal name: "}},[a("i-select",{attrs:{model:e.contrastsGroup,clearable:"",placeholder:"Please select signal name",filterable:""},on:{"update:model":function(t){e.contrastsGroup=t},"on-change":e.changedSigName}},e._l(e.sigName_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[a("vue-plotly",{attrs:{watchShallow:e.ifResize,autoResize:e.ifResize,data:e.CellChartHotMap_data,layout:e.CellChartHotMap_layout,options:e.CellChartHotMap_options}})],1),a("br"),a("br"),a("Row",[a("div",[a("highcharts",{staticClass:"Rcontri_container",attrs:{options:e.Cell_Chart_Rcontri}})],1)])],1),a("br")])},de=[],me={name:"all_ScCommunication",components:{VuePlotly:N.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){var e;return e={sigPattern_list:[{name:"incoming"},{name:"outgoing"}],sigName_list:[],sigPattern:"",data_source_list:[],Cell_Chart_RiverCell:{},Cell_Chart_RiverPath:{},Cell_Chart_Rcontri:{},ifResize:!0,CellChartHotMap_layout:{},CellChartHotMap_data:[],CellChartHotMap_options:{responsive:!0},dataset_name:"erthy",comm_type:"all",enrichGO_layout:{},enrichGO_options:{responsive:!0},contrasts_group:[],contrastsGroup:"",source:"",contrGroupOfEnrich:"",GOformItem:{},spinShow2:"true",series:this.$store.state.app.CurrentPageToken,enrichGroup:""},Object(v["a"])(e,"contrasts_group",[]),Object(v["a"])(e,"enrichGroupList",[]),e},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getDataSourceList:function(e){var t=this;Object(b["B"])(e).then((function(a){var n=t,i=a.data;console.log(i);var o=i;t.source=o[0].source_g,i.forEach((function(e){console.log(e.source_g),n.data_source_list.push({name:e.source_g})}));var r="incoming";t.getCellChartView(o[0].source_g,r),t.getSigNameList(e,o[0].source_g)}))},getSigNameList:function(e,t){var a=this;this.sigName_list=[],Object(b["v"])(e,t).then((function(e){var t=e.data;console.log(t);t.forEach((function(e){return a.sigName_list.push({name:e})})),a.getCellChartHotMap(a.table_name,a.source,t[0]),a.getCellChartRcontri(a.table_name,a.source,t[0])}))},geteSigPathNet_chart:function(e,t,a){var n=this,i=this.$echarts.init(document.getElementById("eSigPathNet"));i.showLoading(),this.spinShow2=!0,Object(G["k"])(e,t,a).then((function(e){i.hideLoading();var o=e.data;console.log(o);for(var r=o.nodes,s=o.links,l=o.categories,c=[],u=[],h=0;h<l.length;h++){c[h]={name:l[h]};for(var p=[],d=0;d<r.length;d++)l[h]===r[d].category&&0===r[d].c_f&&p.push(r[d]);for(d=0;d<r.length;d++)l[h]===r[d].category&&1===r[d].c_f&&p.push(r[d]);console.log(p),u=u.concat(p)}console.log(u),u.forEach((function(e){e.id=e.id,e.value=e.symbolSize,e.symbolSize=e.symbolSize,e.label={normal:{show:e.name}},e.category=e.category}));var m={title:{text:a+" signaling pathway",subtext:n.table_name+" "+t,top:"top"},tooltip:{},legend:[{data:c.map((function(e){return e.name})),top:"bottom"}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"Les Miserables",type:"graph",layout:"circular",circular:{rotateLabel:!0},data:u,links:s,categories:c,roam:!0,label:{position:"right",formatter:"{b}"},edgeSymbol:["no","arrow"],edgeSymbolSize:[.4,10]}]};i.setOption(m)}))},getCellChartHotMap:function(e,t,a){var n=this;Object(b["j"])(e,t,a).then((function(e){var t=e.data;console.log("I am query"),console.log(t);var i=[{z:t.zData,x:t.xData,y:["sender","receiver","mediator","influencer"],type:"heatmap",hoverongaps:!1}],o={title:a+" signaling pathway network",xaxis:{title:"Cell type",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Signal role name",tickmode:"array",automargin:!0,titlefont:{size:15}}};n.CellChartHotMap_data=i,n.CellChartHotMap_layout=o}))},getCellChartView:function(e,t){var a=this,n=t;Object(G["f"])(this.table_name,e,n).then((function(e){console.log(e.data);var n=e.data,i={title:{text:"communication("+t+") patterns"},series:[{keys:["from","to","weight"],data:n.netSigCell,type:"sankey",name:"Sankey demo series"}]};a.Cell_Chart_RiverCell=i;var o={title:{text:"communication("+t+") signal of cells"},series:[{keys:["from","to","weight"],data:n.netSigPath,type:"sankey",name:"Sankey demo series"}]};a.Cell_Chart_RiverPath=o}))},getCellChartRcontri:function(e,t,a){var n=this;Object(G["e"])(e,t,a).then((function(e){console.log(e.data);var t=e.data,i={chart:{type:"bar"},title:{text:"Contribution of each L-R pair "},subtitle:{},xAxis:{categories:t.cate,title:{text:null}},yAxis:{min:0,title:{text:"Relative contribution",align:"high"},labels:{overflow:"justify"}},tooltip:{valueSuffix:" 百万"},plotOptions:{bar:{dataLabels:{enabled:!0,allowOverlap:!0}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:1,floating:!0,borderWidth:1,shadow:!0},series:[{name:a+" pathway network",data:t.seriData}]};n.Cell_Chart_Rcontri=i}))},changedContrGroupOfEnrich:function(e){var t=[],a=this,n=e.split("-");n.forEach((function(e){return t.push({name:e})})),a.enrichGroupList=t,this.contrGroupOfEnrich=e},changeGoType:function(e){this.goType=e},changenrichType:function(e){this.enrichGroup=e},getdiff_group:function(e){var t=this,a=[];getdiffGroup(e).then((function(e){var n=e.data;console.log(n),n.forEach((function(e){return a.push({name:e})})),t.contrasts_group=a,t.contrastsGroup=n[0],t.getLRPlot_chart(t.table_name,t.contrastsGroup)}))},changedSigPattern:function(e){this.sigPattern=e,this.getCellChartView(this.source,e)},changedSigName:function(e){this.siName=e,this.getCellChartHotMap(this.table_name,this.source,e),this.getCellChartRcontri(this.table_name,this.source,e)},changedSourceGroup:function(e){this.source=e,this.getSigNameList(this.table_name,this.source);var t="incoming";this.getCellChartView(e,t)}},mounted:function(){this.getDataSourceList(this.table_name);var e=document.getElementById("eSigPathNet"),t=function(){e.style.height=.85*window.innerHeight+"px",e.style.width=.75*window.innerWidth+"px"};t();var a=this.$echarts.init(e),n={};a.setOption(n),window.onresize=function(){t(),console.log("=="),a.resize()}}},ge=me,fe=(a("283c"),Object(p["a"])(ge,pe,de,!1,null,null,null)),_e=fe.exports,ve={0:{value:"1-10",name:"1-10"},1:{value:"10-20",name:"10-20"},2:{value:"20-30",name:"20-30"},3:{value:"30-50",name:"30-50"},4:{value:">50",name:">50"},5:{value:"all",name:"all"}},ye=[{value:"BM_vitro",name:"Bone Marrow(vitro)"},{value:"CB_vivo",name:"Cord Blood(vivo)"},{value:"CB_vitro",name:"Cord Blood(vitro)"},{value:"PB_vitro",name:"Peripheral Blood(vitro)"},{value:"FL_vitro",name:"Fetal Liver(vitro)"},{value:"PB_vivo",name:"Peripheral Blood(vivo)"},{value:"iPSC_vitro",name:"Induced Pluripotent Stem Cells(vitro)"}],be={name:"ErythroidAtlas",components:{FilterTableForAllDateSet:z["a"],All:M["default"],AllClutser:j["default"],AllDiff:B["default"],AllEnrich:A["default"],ScPCA:R["default"],FeaturePlot:U,Diffanal:X,ClusterDiffTrajectory:oe,ScInterraction:he,ScCommunication:_e},data:function(){var e;return e={tAdatasetTypeSourceColumns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"Dataset",key:"dataset_id",filter:{type:"Input"},fixed:"left",render:function(e,t){return t.row.dataset_id.indexOf("GSE")>-1?e("div",[e("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+t.row.dataset_id}},t.row.dataset_id)]):e("div",t.row.dataset_id)}},{title:"Species",key:"organism",filter:{type:"Input"}},{title:"Development Type",key:"source",filter:{type:"Input"}},{title:"Title",key:"title",filter:{type:"Input"}},{title:"Omics Data Type",key:"experiment_type",filter:{type:"Input"}},{title:"Sequence type",key:"sequence_type",filter:{type:"Input"}},{title:"Sample number",key:"sample_number",filter:{type:"Select",option:ve}}],search:"",SourceList:[],ifShow:!1,currentPage:1,currentPageTypeSource:1,pageSize:10,pageSizeTypeSource:10,totalTypeSource:400,datasetsTypeSource:[],samples_count:"",isShow:!0,spinShowTypeSource:!0,spanLeft:5,spanRight:19,DataTypeList:[{value:"ep",label:"Expression profiling"}],orga:"hs",exper:"ep",deve:"",OrgaList:[{value:"hs",label:"Homo sapiens"},{value:"mm",label:"Mus musculus"}],curentSequnceType:"bulk",typeList:[{value:"bulk",label:"Bulk"},{value:"sc",label:"Single Cell"}],ifcompare:"",DevelopmentList:[{value:"vitro",label:"in vitro"},{value:"vivo",label:"in vivo"}],anlType:"",CellSourceList:[{value:"CB",label:"CB"},{value:"FL",label:"FL"},{value:"BM",label:"BM"},{value:"PB",label:"PB"},{value:"SP",label:"SP"},{value:"YS",label:"YS"},{value:"ESC",label:"ESC"},{value:"cardiac",label:"cardiac"},{value:"J2E",label:"J2E"},{value:"K562",label:"K562"},{value:"iPSc",label:"iPSc"}],analList:[{label:"Expression Profile",value:"all_Expression"},{label:"Principal Components",value:"all_Clutser"},{label:"Differential Analysis",value:"all_Diff"},{label:"Enrichment Analysis",value:"all_Enrich"}],ifCompareList:[{value:"1",label:"YES"},{value:"0",label:"NO"}],source:[],cell_type:[]},Object(v["a"])(e,"currentPage",1),Object(v["a"])(e,"pageSize",10),Object(v["a"])(e,"totalRow",400),Object(v["a"])(e,"sgroupCols",[{title:"Gid",key:"gid",filter:{type:"Input"},fixed:"left",width:120,render:function(e,t){return t.row.gid.indexOf("GSE")>-1?e("div",[e("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc="+t.row.gid,target:"_blank"}},t.row.gid)]):e("div",t.row.gid)}},{title:"Sid",key:"sample_name",width:100,filter:{type:"Input"}},{title:"Organism",key:"organism",width:110,filter:{type:"Input"}},{title:"Cell Type",key:"cell_type",filter:{type:"Input"}},{title:"Source",width:120,key:"source_cell",filter:{type:"Input"},filterMethod:function(e,t){return t.address.indexOf(e)>-1}},{title:"Experiment Type",width:120,key:"growth_mode",filter:{type:"Input"}},{title:"Group",key:"group",filter:{type:"Input"}}]),Object(v["a"])(e,"sgroupData",[]),Object(v["a"])(e,"table_name","all_dataset_source_type"),Object(v["a"])(e,"selectList",[]),Object(v["a"])(e,"Datase2","0"),Object(v["a"])(e,"dom",""),e},computed:{},methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])(["setCurrentPageToken"])),{},(n={changeDom:function(e){var t=[];if(""!=this.orga)if(""!=this.exper)if(""!=this.curentSequnceType){t.push({orga:this.orga,exper:this.exper,deve:this.deve,sequnceType:this.curentSequnceType});var a="all_"+this.orga+"_ep_"+this.curentSequnceType;this.table_name=a,a.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),this.getAllDevType(this.table_name),this.mockTableData(this.table_name,this.currentPage,this.pageSize),this.selectList=t,this.dom!==e?this.dom=e:this.dom=""}else this.$Message.info("please select Sequence type",10);else this.$Message.info("please select Experiment Type",10);else this.$Message.info("please select Organism",10)},mockTableDataTypeSource:function(){var e=this;e.spinShowTypeSource=!0,Object(C["h"])(e.table_name,e.currentPageTypeSource,e.pageSizeTypeSource).then((function(t){e.spinShowTypeSource=!1;var a=t.data;e.datasetsTypeSource=a.list,e.totalTypeSource=a.total}))},getAllDevType:function(e){var t=this,a=[];Object(G["c"])(e).then((function(e){var n=e.data;n.forEach((function(e){ye.forEach((function(t){t.value==e&&a.push({value:e,label:t.name})}))})),t.SourceList=a}))},onSearch_datasetTypeSource:function(e){var t=this,a=this;for(var n in e){var i=e[n];if("object"===Object(E["a"])(i))return void this.$Message.info("Please check your input   ");if(0===i.replace(/\s*/g,"").length.length)return this.$Message.info("Please check your input of  "),void this.load()}Object(C["s"])(e,a.currentPageTypeSource,a.pageSizeTypeSource,a.cell_name).then((function(e){a.spinShowTypeSource=!1;var n=e.data;0===n.signal?t.$Message.info("No related datasets",15):(a.datasetsTypeSource=n.list,a.totalTypeSource=n.total)}))},changePge:function(){this.mockTableData(this.table_name,this.currentPage,this.pageSize)},changeTableColumns:function(){this.tableColumns=this.getTable2Columns()},handleCurrentChange:function(e){this.currentPage=e,this.mockTableData(this.table_name,this.currentPage,this.pageSize)},handleCurrentChangeTypeSource:function(e){this.currentPage=e,this.mockTableDataTypeSource()},handleSizeChange:function(e){this.pageSize=e,this.mockTableData(this.table_name,this.currentPage,this.pageSize)},handleSizeChangeTypeSource:function(e){this.pageSizeTypeSource=e,this.mockTableDataTypeSource},mockTableData:function(e,t,a){var n=this;n.spinShowTypeSource=!0,Object(G["j"])(e,t,a).then((function(e){n.spinShowTypeSource=!1;var t=e.data;console.log(t),1==t.signal&&(n.sgroupData=t.list,n.totalRow=t.total)}))},onSearch_Allsample:function(){}},Object(v["a"])(n,"handleSizeChange",(function(e){this.pageSize=e,this.mockTableData(this.table_name,this.currentPage,this.pageSize)})),Object(v["a"])(n,"handleCurrentChange",(function(e){this.currentPage=e,this.mockTableData(this.table_name,this.currentPage,this.pageSize)})),Object(v["a"])(n,"toggleClick",(function(){this.isShow=!this.isShow})),Object(v["a"])(n,"changeOrgaType",(function(e){if(this.orga=e,""!=this.orga&""!=this.curentSequnceType){var t="all_"+this.orga+"_ep_"+this.curentSequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),this.getAllDevType(this.table_name),this.mockTableData(this.table_name,this.currentPage,this.pageSize)}"bulk"==this.curentSequnceType?this.analList=[{label:"Expression Profile",value:"all_Expression"},{label:"Principal Components",value:"all_Clutser"},{label:"Differential Analysis",value:"all_Diff"},{label:"Enrichment Analysis",value:"all_Enrich"}]:this.analList=[{label:"Single Cell Visualization & Feature",value:"scPCA"},{label:"Cluster's Markers & Enrich",value:"FeaturePlot"},{label:"Differential & Enrich",value:"Diffanal"},{label:"Differentiation Trajectory",value:"ClusterDiffTrajectory"},{label:"Cell-Cell Interraction",value:"ScInterraction"},{label:"Cell-Cell Communication",value:"ScCommunication"}]})),Object(v["a"])(n,"changeExperimentType",(function(e){if(this.exper=e,""!=this.orga&""!=this.curentSequnceType){var t="all_"+this.orga+"_ep_"+this.curentSequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),this.getAllDevType(this.table_name),this.mockTableData(this.table_name,this.currentPage,this.pageSize)}})),Object(v["a"])(n,"changeSequnceType",(function(e){if(this.curentSequnceType=e,""!=this.orga&""!=this.curentSequnceType){var t="all_"+this.orga+"_ep_"+this.curentSequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),this.getAllDevType(this.table_name),this.mockTableData(this.table_name,this.currentPage,this.pageSize)}"bulk"==this.curentSequnceType?this.analList=[{label:"Expression Profile",value:"all_Expression"},{label:"Principal Components",value:"all_Clutser"},{label:"Differential Analysis",value:"all_Diff"},{label:"Enrichment Analysis",value:"all_Enrich"}]:this.analList=[{label:"Single Cell Visualization & Feature",value:"scPCA"},{label:"Cluster's Markers & Enrich",value:"FeaturePlot"},{label:"Differential & Enrich",value:"Diffanal"},{label:"Differentiation Trajectory",value:"ClusterDiffTrajectory"},{label:"Cell-Cell Interraction",value:"ScInterraction"},{label:"Cell-Cell Communication",value:"ScCommunication"}]})),Object(v["a"])(n,"if2compare",(function(e){this.ifcompare=e,this.analList="1"==e?[{label:"Expression Profile",value:"all_Expression"},{label:"Principal Components",value:"all_Clutser"}]:[{label:"Expression Profile",value:"all_Expression"},{label:"Principal Components",value:"all_Clutser"},{label:"Differential Analysis",value:"all_Diff"},{label:"Enrichment Analysis",value:"all_Enrich"},{label:"Single Cell Visualization & Feature",value:"scPCA"},{label:"Cluster's Markers & Enrich",value:"FeaturePlot"}]})),Object(v["a"])(n,"changeDevelopmentType",(function(e){if(this.deve=e,""!=this.orga&""!=this.curentSequnceType){var t="all_"+this.orga+"_ep_"+this.curentSequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),this.getAllDevType(this.table_name),this.mockTableData(this.table_name,this.currentPage,this.pageSize)}})),Object(v["a"])(n,"changeAnalType",(function(e){this.anlType=e})),Object(v["a"])(n,"getPlolyByParms",(function(){console.log(this.anlType);var e=[];if(""!=this.orga)if(""!=this.exper)if(""!=this.deve)if(""!=this.curentSequnceType){e.push({orga:this.orga,exper:this.exper,deve:this.deve,sequnceType:this.curentSequnceType});var t="all_"+this.orga+"_ep_"+this.curentSequnceType;this.table_name=t,t.indexOf("all_mm_ep_sc")>-1&&(this.table_name="CRA002445"),this.getAllDevType(this.table_name),this.mockTableData(this.table_name,this.currentPage,this.pageSize),this.selectList=e,""!=this.anlType?this.dom=this.anlType:this.$Message.info("please select Analysis type",10)}else this.$Message.info("please select Sequence type",10);else this.$Message.info("please select Development type",10);else this.$Message.info("please select Experiment Type",10);else this.$Message.info("please select Organism",10)})),n)),mounted:function(){this.changeDom("all_Expression")},created:function(){}},Ce=be,Se=(a("3752"),Object(p["a"])(Ce,T,D,!1,null,"ce142762",null)),we=Se.exports,ke=we,xe=(a("14d8"),t["a"]=[{path:"/",name:"_home",redirect:"/home",component:g,meta:{hideInMenu:!0,notCache:!0},children:[{path:"/home",name:"home",meta:{hideInMenu:!0,title:"Home",notCache:!0,icon:"md-home"},component:function(){return a.e("chunk-6db1323e").then(a.bind(null,"87b8"))}},{path:"/Erythroid Atlas",name:"Erythroid Atlas",meta:{title:"Erythroid Atlas"},component:ke,children:[{path:"/all_Expression",name:"all_Expression",meta:{title:"Expression Profiling"},component:function(){return Promise.resolve().then(a.bind(null,"2b3f"))}},{path:"/all_Clutser",name:"all_Clutser",meta:{title:"Unsupervised Clustering"},component:function(){return Promise.resolve().then(a.bind(null,"4f76"))}},{path:"/all_Diff",name:"all_Diff",meta:{title:"Difference analysis"},component:function(){return Promise.resolve().then(a.bind(null,"a81b"))}},{path:"/all_Enrich",name:"all_Enrich",meta:{title:"Enrichment Analysis"},component:function(){return Promise.resolve().then(a.bind(null,"fa49"))}},{path:"/scPCA",name:"scPCA",meta:{title:"Single Cell Visualization"},component:function(){return Promise.resolve().then(a.bind(null,"080f"))}},{path:"/LRPlot",name:"LRPlot",meta:{title:"LRPlot"},component:function(){return a.e("chunk-1672e7c0").then(a.bind(null,"7d51"))}},{path:"/CellChat",name:"CellChat",meta:{title:"CellChat"},component:function(){return a.e("chunk-82458e12").then(a.bind(null,"8efd"))}}]},{path:"/help",name:"Help",meta:{title:"Help"},component:function(e){return a.e("chunk-4008d2ab").then(function(){var t=[a("91d0")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"/about",name:"About",meta:{title:"About"},component:function(e){return a.e("chunk-b4130ba2").then(function(){var t=[a("d3e6")];e.apply(null,t)}.bind(this)).catch(a.oe)}}]},{path:"/Search",name:"Search",meta:{title:"Search"},component:function(e){return Promise.resolve().then(function(){var t=[a("14d8")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"/Dataset-Service",name:"",component:g,meta:{title:"Dataset Service"},children:[{path:"/Dataset_detai",name:"Dataset_detail",redirect:"/Dataset_service",meta:{hideInMenu:!0,title:"Dataset Detail"},component:P,children:[{path:"/Dataset_service",name:"Dataset_service",meta:{hideInMenu:!0,title:"Dataset Service"},component:function(){return Promise.resolve().then(a.bind(null,"4644"))}},{path:"/PCA",name:"Principal components",meta:{title:"Principal components"},component:function(){return Promise.resolve().then(a.bind(null,"4784"))}},{path:"/Diff_analysis",name:"Difference analysis",meta:{title:"Difference analysis"},component:function(){return Promise.resolve().then(a.bind(null,"924a"))}},{path:"/EnrichGO",name:"Enrichment Analysis",meta:{title:"Enrichment Analysis"},component:function(){return Promise.resolve().then(a.bind(null,"b001"))}},{path:"/PlotTSNE",name:"Single Cell PCA",meta:{title:"Single Cell PCA"},component:function(){return Promise.resolve().then(a.bind(null,"53b5"))}},{path:"/ClusterMarker",name:"Single Cell Cluster Marker ",meta:{title:"Single Cell Cluster Marker"},component:function(){return Promise.resolve().then(a.bind(null,"f39f"))}},{path:"/ClusterEnrichGO",name:"Single Cell Cluster EnrichGO",meta:{title:"Single Cell Cluster EnrichGO"},component:function(){return a.e("chunk-4f77631d").then(a.bind(null,"b088"))}},{path:"/ClusterDiffAnal",name:"Single Cell Cluster Differential Anlayze",meta:{title:"Single Cell Cluster Differential Anlayze"},component:function(){return Promise.resolve().then(a.bind(null,"b02c"))}},{path:"/ClusterDiffEnrichAnal",name:"Single Cell Cluster Differential Enrich Anlayze",meta:{title:"Single Cell Cluster Differential Enrich Anlayze"},component:function(){return a.e("chunk-18b2a739").then(a.bind(null,"bee0"))}},{path:"/ClusterDiffTrajectory",name:"Single Cell Cluster Differentiation Trajectory",meta:{title:"Single Cell Cluster Differentiation Trajectory"},component:function(){return Promise.resolve().then(a.bind(null,"e636"))}},{path:"/ScInterraction",name:"Single Cell Interraction",meta:{title:"Single Cell Interraction"},component:function(){return Promise.resolve().then(a.bind(null,"9072"))}},{path:"/ScCommunication",name:"Single Cell Communication",meta:{title:"Single Cell Communication"},component:function(){return Promise.resolve().then(a.bind(null,"a0ee"))}}]}]},{path:"/Eryth",name:"differentiation",redirect:"/Eryth_index",component:g,meta:{title:"Differentiation"},children:[{path:"/Eryth_index",name:"Eryth_index",meta:{hideInMenu:!0,title:"Erythropoiesis-index"},component:function(){return a.e("chunk-af427002").then(a.bind(null,"544f"))}}]},{path:"/disease",name:"disease",redirect:"/Disease_index",component:g,meta:{title:"Diseases"},children:[{path:"/Disease_index",name:"Disease_index",meta:{hideInMenu:!0,title:"Disease-index"},component:function(){return a.e("chunk-66897bfd").then(a.bind(null,"2655"))}}]},{path:"/gene",name:"genes",redirect:"/gene_index",component:g,meta:{title:"Genes"},children:[{path:"/gene_index",name:"gene_index",meta:{hideInMenu:!0,title:"gene-index"},component:function(){return a.e("chunk-b8615a28").then(a.bind(null,"e057"))}}]},{path:"/molecules",name:"molecules",redirect:"/molecules_index",component:g,meta:{title:"Compounds"},children:[{path:"/molecules_index",name:"molecules_index",meta:{hideInMenu:!0,title:"molecules-index"},component:function(){return a.e("chunk-52ac63c7").then(a.bind(null,"7105"))}}]},{path:"/clustgram",name:"ClustGram",meta:{title:"ClustGram"},component:function(){return Promise.resolve().then(a.bind(null,"02f5"))}},{path:"/401",name:"error_401",meta:{hideInMenu:!0},component:function(){return a.e("chunk-c587d42c").then(a.bind(null,"f94f"))}},{path:"/500",name:"error_500",meta:{hideInMenu:!0},component:function(){return a.e("chunk-9098ce2e").then(a.bind(null,"88b2"))}},{path:"*",name:"error_404",meta:{hideInMenu:!0},component:function(){return a.e("chunk-3597c03e").then(a.bind(null,"35f5"))}}])},ddd7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{attrs:{border:"",data:e.filters,columns:e.tableColumnsFilters,stripe:""}}),a("Table",{attrs:{height:"500","show-header":!1,border:"",data:e.data,columns:e.columns,stripe:""}})],1)},i=[],o=a("5530"),r=(a("4de4"),a("d3b7"),a("ac1f"),a("841c"),a("a15b"),a("1276"),a("b0c0"),a("a18c")),s=(a("ddb9"),a("2f62")),l={name:"FilterTable",props:{columns:Array,data:Array},data:function(){return{filters:[{title:""}],tableColumnsFilters:[],search:{},dataset_id:""}},created:function(){var e=this,t=function(t){var a={};e.$set(a,"title",e.columns[t].title),e.columns[t].width&&e.$set(a,"width",e.columns[t].width);var n=function(e){};e.columns[t].filter&&(n=e.columns[t].filter.type&&"Select"===e.columns[t].filter.type?function(a){return a(e.columns[t].filter.type,{props:{placeholder:"Choose "+e.columns[t].title,value:0},on:{"on-change":function(a){return 0===a?(e.$delete(e.search,e.columns[t].key),void e.load()):0===a.split(" ").join("").length?(e.$Message.info("Please check your input",15),void e.load()):(e.$set(e.search,e.columns[t].key,a.split(" ").join("")),void e.load())}}},e.createOptionsRender(t,a))}:function(a){var n={};return a(e.columns[t].filter.type,{props:{placeholder:"Input "+e.columns[t].title,icon:"ios-search"},on:{input:function(a){n=a,n||e.validInputValue(t,n)},"on-click":function(){e.validInputValue(t,n)},"on-enter":function(){e.validInputValue(t,n)}}})}),e.$set(a,"render",n),e.tableColumnsFilters.push(a)};for(var a in this.columns)t(a)},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["setCurrentPageToken"])),{},{createOptionsRender:function(e,t){var a=[];if(this.columns[e].filter.option){var n=this.columns[e].filter.option;for(var i in n)a.push(t("Option",{props:{value:n[i].value}},n[i].name))}return a},load:function(){this.$emit("on-search",this.search),this.$emit("on-row-click",this.dataset_id)},validInputValue:function(e,t){if(!t)return this.$delete(this.search,this.columns[e].key),void this.load();this.$set(this.search,this.columns[e].key,t),this.load()},intoDataSet:function(e,t,a){this.setCurrentPageToken(e.dataset_id),r["a"].push({name:"Dataset_detail",params:{dataset:e.dataset_id}})}})},c=l,u=(a("0d00"),a("2877")),h=Object(u["a"])(c,n,i,!1,null,"45119730",null);t["a"]=h.exports},de34:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"bigd-container headerStyle"},[a("nav",{staticClass:"bigd-navbar-default bigd-navbar"},[e._m(0),a("div",{staticClass:"bigd-collapse bigd-navbar-collapse",attrs:{id:"bigd-coll"}},[a("ul",{staticClass:"bigd-nav bigd-navbar-nav bigd-navbar-right"},[a("li",{on:{click:function(t){return e.openWindow("https://bigd.big.ac.cn/databases")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v(" Databases")])]),a("li",{on:{click:function(t){return e.openWindow("https://bigd.big.ac.cn/tools")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v("Tools")])]),a("li",{on:{click:function(t){return e.openWindow("https://bigd.big.ac.cn/standards")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v("Standards")])]),a("li",{on:{click:function(t){return e.openWindow("https://bigd.big.ac.cn/publications")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v("Publications")])]),a("li",{on:{click:function(t){return e.openWindow("https://bigd.big.ac.cn/about")}}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v("About")])])])])]),a("div",{staticClass:"header"},[e._m(1),a("div",{staticClass:"layout-nav"},e._l(e.values,(function(t,n){return a("ul",{key:n,staticClass:" menu  menu-dark menu-horizontal"},[a("router-link",{attrs:{to:t.link}},[a("li",{staticClass:"menu-item",class:{bg_color:e.current_index==n},on:{click:function(t){return e.cg_current_index(n)}}},[a("i",{staticClass:"icon icon-ios-navigate"}),a("Icon",{staticClass:"my_icon",attrs:{type:t.type}}),e._v(e._s(t.name)+" ")],1)])],1)})),0)])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bigd-navbar-header"},[a("button",{staticClass:"bigd-navbar-toggle bigd-collapsed",attrs:{type:"button"}},[a("span",{staticClass:"bigd-sr-only"},[e._v("Toggle navigation")]),a("span",{staticClass:"bigd-icon-bar"}),a("span",{staticClass:"bigd-icon-bar"}),a("span",{staticClass:"bigd-icon-bar"})]),a("a",{staticClass:"bigd-navbar-brand",attrs:{href:"https://bigd.big.ac.cn/"}},[a("img",{staticClass:"bigd-img-responsive",attrs:{src:"https://bigd.big.ac.cn/cdn/image/CNCB-NGDC-white.png"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-logo"},[n("img",{staticClass:"moudle_image_header ",attrs:{src:a("b059")}}),n("span",[e._v("EryDB v1.00: Erythroid Database")])])}],o={name:"Header",data:function(){return{values:[{id:1,name:"Home",link:"/",type:"ios-home"},{id:0,name:"Search",link:"/Search",type:"ios-search"},{id:2,name:"Erythroid Atlas",link:"/Erythroid Atlas",type:"ios-analytics"},{id:3,name:"Help",link:"/help",type:"ios-paper"},{id:4,name:"About",link:"/about",type:"ios-navigate"}],current_index:-1}},methods:{cg_current_index:function(e){this.current_index=e},openWindow:function(e){window.open(e)}}},r=o,s=(a("7baf"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"fa161648",null);t["a"]=l.exports},df38:function(e,t,a){},e636:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("h1",{staticClass:"my_h1"},[e._v("Pseudotime Trajectory")]),a("br"),a("Row",{attrs:{gutter:16}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup2}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.pseudo_data,layout:e.pseudo_layout,options:e.pseudo_options}})],1)],1),a("div",[a("h1",{staticClass:"my_h1"},[e._v("Differentiation Trajectory")]),a("br"),a("Row",[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Color by: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedTraChart}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.Tra_data,layout:e.Tra_layout,options:e.Tra_options}})],1)],1)])},i=[],o=(a("d3b7"),a("159b"),a("43e0")),r=a.n(o),s=a("6c9c"),l={name:"ClusterDiffTrajectory",components:{VuePlotly:r.a},data:function(){return{spinShow1:"true",Tra_data:[],Tra_layout:{},contrasts_group:[],pseudo_data:[],pseudo_layout:{},pseudo_options:{responsive:!0},spinShow2:"true",Tra_options:{responsive:!0},showByGroup:"",series:this.$store.state.app.CurrentPageToken,source:"",source2:"",group_type_list:[],data_source_list:[],colnames:[]}},methods:{getTraChart:function(e,t,a){var n=this,i=this;i.spinShow1=!0,console.log(this.series),Object(s["x"])(e,t,a).then((function(e){var a=e.data;console.log(a);for(var o=a.xData,r=a.yData,s=a.gData,l=[],c=0;c<o.length;c++){var u={x:o[c],y:r[c],mode:"markers",type:"scatter",name:s[c],marker:{size:6}};l.push(u)}n.Tra_data=l;var h={title:"Differentiation Trajectory ("+n.series+" "+t+")",xaxis:{title:"Component 1"},yaxis:{title:"Component 2"}};n.Tra_layout=h,i.spinShow1=!1}))},getTraCol:function(e,t){var a=this,n=this;Object(s["y"])(e,t).then((function(e){var t=e.data;console.log(t),n.colnames=t,a.group_type_list=[],t.forEach((function(e){return a.group_type_list.push({name:e})}))}))},getPseudoPlot:function(e,t){var a=this,n=this;n.spinShow2=!0,console.log(this.series),""!=t?Object(s["p"])(e,t).then((function(e){var i=e.data;console.log(i);var o=i;a.pseudo_data=o;var r={title:"Pseudotime Trajectory("+a.series+" "+t+")",xaxis:{title:"Component 1"},yaxis:{title:"Component 2"},legend:{y:.5,yref:"paper",font:{family:"Arial, sans-serif",size:20,color:"grey"}}};a.pseudo_layout=r,n.spinShow2=!1})):this.$Message.info("please select data source",10)},changedShowGroup:function(e){this.source=e,this.getTraCol(this.series,e)},changedShowGroup2:function(e){this.source2=e,this.getPseudoPlot(this.series,e)},changedTraChart:function(e){console.log(e),this.getTraChart(this.series,this.source,e)},getDataSourceList:function(e){var t=this;Object(s["B"])(this.series).then((function(e){var a=t,n=e.data;console.log(n);var i=n;t.source=i[0].source_g,t.source2=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g})})),t.getPseudoPlot(t.series,i[0].source_g),t.getTraChart(t.series,i[0].source_g,"celltype")}))}},mounted:function(){this.getDataSourceList(this.series)}},c=l,u=a("2877"),h=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=h.exports},e6ca:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"j",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"i",(function(){return u})),a.d(t,"g",(function(){return h})),a.d(t,"f",(function(){return p})),a.d(t,"k",(function(){return d})),a.d(t,"e",(function(){return m}));var n=a("66df"),i=function(e,t,a){return n["a"].request({url:"public/getAllDevExpreBulkData",data:{source:e,gene_symbol:t,cell_source:a},method:"post"})},o=function(e,t,a){return n["a"].request({url:"public/getClusterDataAllDev",data:{selectList:e,group_by:t,source:a},method:"post"})},r=function(e,t,a){return n["a"].request({url:"public/getallDevSampleGroup",data:{table_name:e,pageIndex:t,pageSize:a},method:"post"})},s=function(e){return n["a"].request({url:"public/getAllDevType",data:{table_name:e},method:"post"})},l=function(e){return n["a"].request({url:"public/getAllDevGene",data:{table_name:e},method:"post"})},c=function(e,t){return n["a"].request({url:"public/getAllEnrichData",data:{table_name:e,contrastsGroup:t},method:"post"})},u=function(e,t,a){return n["a"].request({url:"public/getLRPlotData",data:{dataset_name:e,source:t,comm_type:a},method:"post"})},h=function(){return n["a"].request({url:"public/getCellSourceData",data:{},method:"post"})},p=function(e,t,a){return n["a"].request({url:"public/getCellChatSigData",data:{series:e,dev_type:t,sig_pattern:a},method:"post"})},d=function(e,t,a){return n["a"].request({url:"public/geteSigPathNetData",data:{series:e,dev_type:t,sig_pattern:a},method:"post"})},m=function(e,t,a){return n["a"].request({url:"public/getCellChartRcontri",data:{series:e,dev_type:t,sigName:a},method:"post"})}},ef491:function(e,t,a){e.exports=a.p+"img/image-20220310215903098.7c0e53a1.png"},efb2:function(e,t,a){},f121:function(e,t,a){"use strict";t["a"]={title:"EryDB",useI18n:!1,baseUrl:{dev:"http://localhost:8090/EryDB/api",pro:"https://ngdc.cncb.ac.cn/EryDB/api"},homeName:"home"}},f39f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("h1",{staticClass:"my_h1"},[e._v("Cluster's Markers HeatMap")]),a("br"),a("Row",{attrs:{gutter:16}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"8"}},[a("Form-item",{attrs:{label:"Group: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cell group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedShowGroup}},e._l(e.data_source_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"Add feature name: "}},[a("Input",{attrs:{search:"","enter-button":"Add",placeholder:"Please input gene symbol"},on:{"on-search":function(t){return e.addFeatureByName(t)}}})],1)],1),a("i-col",{attrs:{span:"3"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.reFeatureByName(t)}}},[e._v("Remove")])],1)],1)],1),a("Row",[a("div",[e.spinShow1?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{data:e.ClusterHotMapMarkerdata,layout:e.ClusterHotMapMarker_layout,options:e.ClusterHotMapMarker_option}})],1)])],1),a("div",[a("h1",{staticClass:"my_h1"},[e._v("Cluster's Enrichment Analysis")]),a("br"),a("Row",{attrs:{gutter:16}},[a("i-form",{attrs:{"label-width":120}},[a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Enrich Cluster: "}},[a("i-select",{attrs:{model:e.showByGroup,clearable:"",placeholder:"Pleace select cluster group",filterable:""},on:{"update:model":function(t){e.showByGroup=t},"on-change":e.changedEnrichChart}},e._l(e.group_type_list,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)],1),a("i-col",{attrs:{span:"10"}},[a("Form-item",{attrs:{label:"Enrich Type: "}},[a("i-select",{attrs:{clearable:"",placeholder:"Pleace select Enrich Type",filterable:""},on:{"on-change":e.changeEnrichType}},e._l(e.goTypeList,(function(t,n){return a("i-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),a("Row",[a("div",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{watchShallow:e.ifResize,autoResize:e.ifResize,data:e.enrich_data,layout:e.enrich_layout,options:e.enrich_option}})],1)])],1)])},i=[],o=a("ade3"),r=(a("d3b7"),a("159b"),a("43e0")),s=a.n(r),l=a("6c9c"),c={name:"ClusterMarker",components:{VuePlotly:s.a},data:function(){return{ifResize:!0,ClusterHotMapMarkerdata:[],enrich_data:[],enrichType:"CC",goTypeList:[{name:"GO-CC",value:"CC"},{name:"GO-MF",value:"MF"},{name:"GO-BP",value:"BP"},{name:"KEGG",value:"KEGG"}],ClusterHotMapMarker_option:{responsive:!0},enrich_option:{responsive:!0},ClusterHotMapMarker_layout:{title:"Identity features for each cluster",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}},enrich_layout:{},spinShow2:"true",enrichShow:!1,spinShow1:"true",TSNE_data:[],TSNE_layout:{},contrasts_group:[],TSNE_options:{responsive:!0},showByGroup:"",series:this.$store.state.app.CurrentPageToken,data_source_list:[],source:"",source2:"",group_type_list:[],z_list:[],y_list:[],x_list:[],feature_list:[{name:"C1QC"},{name:"HIST1H4C"}]}},methods:{addFeatureByName:function(e){var t=this,a=this;console.log("feature_name"),console.log(e),"undefined"==typeof this.source?this.$Message.info("Please select data source firstly",10):"undefined"==typeof e||null==e?this.$Message.info("Please input gene name ",10):(a.spinShow1=!0,Object(l["m"])(this.series,this.source,e).then((function(e){var n=e.data;if(console.log(n.col_list),0===n.col_list){var i;t.$Message.info("no data about this feature",10);var r=t.z_list,s=t.y_list,l=t.x_list,c=[{z:r,x:l,y:s,type:"heatmap",colorscale:"YlGnBu",textposition:"outside",cliponaxis:FALSE,hoverongaps:!1}],u=(i={title:"Identity features for each cluster",autosize:!1,xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:40}},yaxis:{title:"Feature name"}},Object(o["a"])(i,"title","Identity features for each cluster"),Object(o["a"])(i,"xaxis",{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}}),Object(o["a"])(i,"yaxis",{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}),i);a.ClusterHotMapMarker_layout=u,t.ClusterHotMapMarkerdata=c,a.spinShow1=!1}else{t.z_list.push(n.col_list);r=t.z_list;t.y_list.push(n.feature_name);s=t.y_list,l=t.x_list,c=[{z:r,x:l,y:s,type:"heatmap",colorscale:"YlGnBu",hoverongaps:!1}],u={title:"Identity features for each cluster",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}};t.ClusterHotMapMarker_layout=u,t.ClusterHotMapMarkerdata=c,a.spinShow1=!1}})))},reFeatureByName:function(){console.log("feature_name");this.z_list.pop();var e=this.z_list;this.y_list.pop();var t=this.y_list,a=this.x_list;console.log(this.y_list),console.log(this.z_list);var n=[{z:e,x:a,y:t,type:"heatmap",colorscale:"YlGnBu",hoverongaps:!1}],i={title:"Identity features for each cluster",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}};this.ClusterHotMapMarker_layout=i,this.ClusterHotMapMarkerdata=n},changeEnrichType:function(e){this.enrichType=e,this.getEnrichChart()},changedEnrichChart:function(e){console.log(e),"undefined"===typeof e?this.group=e:(this.group=e,this.getEnrichChart(this.series,this.source,e))},getEnrichChart:function(){var e=this;this.enrichShow=!0,""==this.source2&&this.$Message.info("please select data source",10),""==this.group&&this.$Message.info("please select enrich group",10),this.spinShow2=!0,Object(l["d"])(this.series,this.source,this.group,this.enrichType).then((function(t){var a=t.data;console.log("===="),console.log(a.log_p_adjust),console.log(a.Description);var n=[{x:a.log_p_adjust,y:a.Description,type:"bar",orientation:"h"}],i={title:"Enrichment("+e.enrichType+") of "+e.group+"("+e.source+")",xaxis:{title:"-log10(p.adjust)",showgrid:!1,zeroline:!1},yaxis:{title:" Term [-log10(p.adjust)]",showline:!1,tickmode:"array",automargin:!0,titlefont:{size:15}}};e.enrich_layout=i,e.enrich_data=n,e.spinShow2=!1}))},changedDataSource:function(e){this.source2=e,this.getEnrichGroup(this.series,e)},getEnrichGroup:function(e,t){var a=this;Object(l["c"])(e,t).then((function(e){console.log("enrich group");var t=e.data;console.log(t),a.group_type_list=[],a.group=t[0],t.forEach((function(e){return a.group_type_list.push({name:e})})),a.getEnrichChart()}))},pcaMeta:function(e,t){var a=this,n=this;Object(l["A"])(e,t).then((function(e){var t=e.data;console.log(t),n.colnames=t,a.group_type_list=[],t.forEach((function(e){return a.group_type_list.push({name:e})}))}))},changedShowGroup:function(e){if("undefined"===typeof e)this.source=e;else{this.source=e,this.source2=e,this.getMarkerChart(this.series,this.source),this.getEnrichGroup(this.series,this.source)}},changedMarkerChart:function(e){this.getMarkerChart(this.series,this.source)},getMarkerChart:function(e,t){var a=this,n=this;n.spinShow1=!0,Object(l["e"])(e,t).then((function(e){var i=e.data,o=i.d_res;a.z_list=i.d_res,a.y_list=i.col_list,a.x_list=i.group;var r=i.group,s=i.col_list,l=[{z:o,x:r,y:s,type:"heatmap",colorscale:"YlGnBu"}],c={title:"Identity features for each cluster("+t+")",xaxis:{title:"Cell cluster",tickmode:"array",automargin:!0,titlefont:{size:15}},yaxis:{title:"Feature name",tickmode:"array",automargin:!0,titlefont:{size:15}}};a.ClusterHotMapMarker_layout=c,a.ClusterHotMapMarkerdata=l,n.spinShow1=!1}))},changedFeatureName:function(e){this.getFeaturePlot(this.series,e)},getFeatureByName:function(e){this.getFeaturePlot(this.series,this.source,e)},getDataSourceList:function(e){var t=this;Object(l["B"])(this.series).then((function(e){var a=t,n=e.data;console.log(n);var i=n;t.source=i[0].source_g,t.source2=i[0].source_g,n.forEach((function(e){console.log(e.source_g),a.data_source_list.push({name:e.source_g})})),t.getMarkerChart(t.series,i[0].source_g),t.getEnrichGroup(t.series,i[0].source_g)}))}},mounted:function(){this.getDataSourceList(this.series)}},u=c,h=(a("3fa5"),a("2877")),p=Object(h["a"])(u,n,i,!1,null,"5a2b3978",null);t["default"]=p.exports},f45f:function(e,t,a){},f4e9:function(e,t,a){"use strict";a("6f08")},fa49:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lay_out"},[a("h1",{staticClass:"my_h1"},[e._v("Enrichment Analysis ("+e._s(e.orga_name)+") ")]),a("Br"),a("div",[a("Row",{attrs:{gutter:4}},[a("Col",{attrs:{span:"10"}},[a("i-select",{attrs:{model:e.contrastsGroup,clearable:"",placeholder:"Pleace select contrasts group",filterable:""},on:{"update:model":function(t){e.contrastsGroup=t},"on-change":e.changedContrGroup}},e._l(e.contrasts_group,(function(t,n){return a("i-option",{key:n,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1),a("Col",{attrs:{span:"12"}},[a("div",{staticStyle:{"margin-left":"4px"}},[a("span",[e._v(" e.g, late_basoE_CB_vitro-orthoE_CB_vitro means the late_basoE_CB_vitro group versus the orthoE_CB_vitro group ")])])])],1),a("Br"),a("Row",[a("div",[e.spinShow2?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("vue-plotly",{attrs:{autoResize:e.ifResize,data:e.enrichGO_data,layout:e.enrichGO_layout,options:e.enrichGO_options}})],1)])],1)],1)},i=[],o=(a("ac1f"),a("1276"),a("d3b7"),a("159b"),a("6c9c")),r=a("e6ca"),s=a("43e0"),l=a.n(s),c={name:"all_Enrich",components:{VuePlotly:l.a},props:{selectList:{type:Array,default:function(){return[]}}},data:function(){return{orga_name:"",ifResize:!0,enrichGO_data:[],enrichGO_layout:{},enrichGO_options:{responsive:!0},contrasts_group:[],contrastsGroup:"",sourceGroup:"vivo",contrGroupOfEnrich:"",GOformItem:{},spinShow2:"true",series:this.$store.state.app.CurrentPageToken,enrichGroup:"",enrichGroupList:[],table_name:"all_rna_dev_bulk_vivo",source_group:[{name:"vivo"},{name:"vitro"},{name:"vivo-vitro"}]}},watch:{selectList:{handler:function(e){var t="all_"+e[0].orga+"_ep_"+e[0].sequnceType;this.table_name=t,this.getdiff_group(this.table_name),this.getdiff_group(this.table_name),"hs"==e[0].orga&&(this.orga_name="Homo sapiens"),"mm"==e[0].orga&&(this.orga_name="Mus musculus")},immediate:!0}},methods:{getenrich_chart:function(e,t){var a=this;this.spinShow2=!0,Object(r["d"])(e,t).then((function(e){var t=e.data,n=t.xData,i=t.yData,o=t.nData;t.tData;a.enrichGO_data=[];for(var r=0;r<n.length;r++){var s={x:n[r],y:i[r],name:o[r],type:"bar",orientation:"h"};a.enrichGO_data.push(s)}var l={title:"GO enrichment of "+a.contrastsGroup,bargap:.25,xaxis:{title:"-log10(p.adjust)"},yaxis:{title:{text:"GO Term [-log10(p.adjust)]",position:"top",standoff:40,yanchor:"top"},automargin:!0,rangemode:"normal",dtick:1,exponentformat:function(e){return e.length>30?e.substring(0,30)+"...":e}},margin:{l:650}};a.enrichGO_layout=l})),this.spinShow2=!1},changedContrGroupOfEnrich:function(e){var t=[],a=this,n=e.split("-");n.forEach((function(e){return t.push({name:e})})),a.enrichGroupList=t,this.contrGroupOfEnrich=e},changeGoType:function(e){this.goType=e},changenrichType:function(e){this.enrichGroup=e},getdiff_group:function(e){var t=this,a=[];Object(o["C"])(e).then((function(e){var n=e.data;n.forEach((function(e){return a.push({name:e})})),t.contrasts_group=a,t.contrastsGroup=n[0],t.getenrich_chart(t.table_name,t.contrastsGroup)}))},changedContrGroup:function(e){this.contrastsGroup=e,this.getenrich_chart(this.table_name,this.contrastsGroup)}},mounted:function(){this.getdiff_group(this.table_name)}},u=c,h=(a("2f6b"),a("2877")),p=Object(h["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},fd55:function(e,t,a){"use strict";a("bdca")},fd91:function(e,t,a){}});